
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>upnp.functional.musicservices.spotify package &#8212; TestCase Documentation  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="upnp.functional.musicservices.tunein package" href="upnp.functional.musicservices.tunein.html" />
    <link rel="prev" title="upnp.functional.musicservices.siriusxm package" href="upnp.functional.musicservices.siriusxm.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="upnp-functional-musicservices-spotify-package">
<h1>upnp.functional.musicservices.spotify package<a class="headerlink" href="#upnp-functional-musicservices-spotify-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.mixed_queue_short_tracks">
<span id="upnp-functional-musicservices-spotify-mixed-queue-short-tracks-module"></span><h2>upnp.functional.musicservices.spotify.mixed_queue_short_tracks module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.mixed_queue_short_tracks" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.mixed_queue_short_tracks.</code><code class="descname">MixedQueueShortTracks</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/mixed_queue_short_tracks.html#MixedQueueShortTracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.create_mixed_queue">
<code class="descname">create_mixed_queue</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/mixed_queue_short_tracks.html#MixedQueueShortTracks.create_mixed_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.create_mixed_queue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.generate_mixed_track_zones">
<code class="descname">generate_mixed_track_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/mixed_queue_short_tracks.html#MixedQueueShortTracks.generate_mixed_track_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.generate_mixed_track_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/mixed_queue_short_tracks.html#MixedQueueShortTracks.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/mixed_queue_short_tracks.html#MixedQueueShortTracks.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/mixed_queue_short_tracks.html#MixedQueueShortTracks.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, after all tests are run</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/mixed_queue_short_tracks.html#MixedQueueShortTracks.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.test_mixed_queue_short_tracks">
<code class="descname">test_mixed_queue_short_tracks</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/mixed_queue_short_tracks.html#MixedQueueShortTracks.test_mixed_queue_short_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.mixed_queue_short_tracks.MixedQueueShortTracks.test_mixed_queue_short_tracks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_backend_delay">
<span id="upnp-functional-musicservices-spotify-spotify-backend-delay-module"></span><h2>upnp.functional.musicservices.spotify.spotify_backend_delay module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_backend_delay" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_backend_delay.</code><code class="descname">SpotifyBackendDelay</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.generate_devices">
<code class="descname">generate_devices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay.generate_devices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.generate_devices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.play_spotify_container">
<code class="descname">play_spotify_container</code><span class="sig-paren">(</span><em>zp</em>, <em>container</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay.play_spotify_container"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.play_spotify_container" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, after all tests are run</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.test_spotify_backend_delays">
<code class="descname">test_spotify_backend_delays</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay.test_spotify_backend_delays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.test_spotify_backend_delays" title="Permalink to this definition">¶</a></dt>
<dd><p>Plays a Spotify playlist and makes sure the player does not
generate an unexpected event failure. During playback, it varies
the packet errors to the Spotify connection(s) to emulate backend
delays. The test has a maximum time to wait to ascertain the
player is able to cope with the packet losses without generating
an unexpected event.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.unexpected_event_cb">
<code class="descname">unexpected_event_cb</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay.unexpected_event_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.unexpected_event_cb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.wait_until_playing">
<code class="descname">wait_until_playing</code><span class="sig-paren">(</span><em>zp</em>, <em>timeout=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_backend_delay.html#SpotifyBackendDelay.wait_until_playing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_backend_delay.SpotifyBackendDelay.wait_until_playing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_base">
<span id="upnp-functional-musicservices-spotify-spotify-base-module"></span><h2>upnp.functional.musicservices.spotify.spotify_base module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_base" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="upnp.functional.musicservices.spotify.spotify_base.BUFFERED_ASYNCIO_NOT_AVAILABLE">
<code class="descclassname">upnp.functional.musicservices.spotify.spotify_base.</code><code class="descname">BUFFERED_ASYNCIO_NOT_AVAILABLE</code><em class="property"> = ['ZP100', 'ZP80']</em><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.BUFFERED_ASYNCIO_NOT_AVAILABLE" title="Permalink to this definition">¶</a></dt>
<dd><p>Characters which the zone player does not URL encode.
Reference oc/common/src/upnputils.cxx:urlEncodeAsUrl()</p>
</dd></dl>

<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_base.</code><code class="descname">SpotifyBase</code><span class="sig-paren">(</span><em>logging_to_file=False</em>, <em>parameterized_setup=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.workflow.fixture.WorkflowTestFixture</span></code></p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.add_mixed_tracks_to_queue">
<code class="descname">add_mixed_tracks_to_queue</code><span class="sig-paren">(</span><em>zp</em>, <em>spotify_tracks</em>, <em>local_http_uris</em>, <em>shuffle=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.add_mixed_tracks_to_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.add_mixed_tracks_to_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes Spotify tracks and local tracks and populates
the play queue. Optionally randomizes the position of
the local tracks in the play queue.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
:param list spotify_tracks: Spotify tracks to add
:param list local_http_uris: Local tracks’ HTTP URIs
:param bool shuffle: Shuffle local HTTP URIs before adding
to queue ?
:return: Number of tracks queued
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.add_to_queue">
<code class="descname">add_to_queue</code><span class="sig-paren">(</span><em>zp</em>, <em>play_format</em>, <em>repeat=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.add_to_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.add_to_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the container or the track(s) to queue
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
:param play_format: A single ContainerFormat, or SpotifyTrackFormat
or a list/tuple of SpotifyTrackFormat
:param int repeat: Number of repeats for single track
SpotifyTrackFormat</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.collect_perf_counters">
<code class="descname">collect_perf_counters</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.collect_perf_counters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.collect_perf_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect performance counters from zp
:param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.create_containers">
<code class="descname">create_containers</code><span class="sig-paren">(</span><em>mediaCollection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.create_containers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.create_containers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.form_uri_from_id">
<code class="descname">form_uri_from_id</code><span class="sig-paren">(</span><em>container_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.form_uri_from_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.form_uri_from_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_featured_containers">
<code class="descname">get_featured_containers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.get_featured_containers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_featured_containers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_featured_pls">
<code class="descname">get_featured_pls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.get_featured_pls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_featured_pls" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a list of media collection featured from the always
changing featured root container.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_http_uris">
<code class="descname">get_http_uris</code><span class="sig-paren">(</span><em>tracks</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.get_http_uris"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_http_uris" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tracks</strong> (<em>list</em>) – Names of local tracks</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_root_metadata">
<code class="descname">get_root_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.get_root_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_root_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_seconds_from_pos_info">
<code class="descname">get_seconds_from_pos_info</code><span class="sig-paren">(</span><em>pos_info</em>, <em>name='TrackDuration'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.get_seconds_from_pos_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_seconds_from_pos_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns seconds from the position information like
TrackDuration or RelTime; defaults to TrackDuration.
:param ~sonos.services.common.XMLAccessor pos_info: Metadata
:param str name: The name of the field in the position information
defaults to TrackDuration
:return: The seconds from the converted time string
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_track_title">
<code class="descname">get_track_title</code><span class="sig-paren">(</span><em>pos_info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.get_track_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.get_track_title" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the track title
:param dict pos_info: Dictionary of positional information
:return: String of track title
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.init_smapi">
<code class="descname">init_smapi</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.init_smapi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.init_smapi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.player_update_asyncio_buffer_size">
<code class="descname">player_update_asyncio_buffer_size</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.player_update_asyncio_buffer_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.player_update_asyncio_buffer_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses test point to set the buffer size on the
zone player’s asynchronous buffered stream.
Prevent setting the buffer size on a ZP90 SH4
since the asynchronous buffered stream implementation
is not supported in the SH4 platforms.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code> zp:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.setup_web_server">
<code class="descname">setup_web_server</code><span class="sig-paren">(</span><em>path</em>, <em>tracks</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.setup_web_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.setup_web_server" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<em>str</em>) – Path to where the local tracks reside</li>
<li><strong>tracks</strong> (<em>list</em>) – Names of local tracks</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.should_sleep_or_not_before_track_end">
<code class="descname">should_sleep_or_not_before_track_end</code><span class="sig-paren">(</span><em>duration</em>, <em>played</em>, <em>min_allowance=1.0</em>, <em>max_allowance=1.25</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#SpotifyBase.should_sleep_or_not_before_track_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase.should_sleep_or_not_before_track_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Sleep depending on the track duration, played
time and some slack (randomized) from end of track.
The slack is based on a desired minimum/maximum
seconds from end of track to be used as input
to get a random value.
:param int duration: Track duration in seconds
:param int played: Played time in seconds
:param float min_allowance: Minimum seconds for
input to random
:param floag max_allowance: Maximum seconds for
input to random</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="upnp.functional.musicservices.spotify.spotify_base.create_per_model_asyncio_buffer_size_dict">
<code class="descclassname">upnp.functional.musicservices.spotify.spotify_base.</code><code class="descname">create_per_model_asyncio_buffer_size_dict</code><span class="sig-paren">(</span><em>buffer_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#create_per_model_asyncio_buffer_size_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.create_per_model_asyncio_buffer_size_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dictionary that maps a model number (S1, S9, etc.)
to a buffer size for the asynchronous buffered stream I/O
SH4 platform does not support asynchronous buffered stream I/O
:param int buffer_size: Asynchronous buffer size</p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.musicservices.spotify.spotify_base.per_model_asyncio_buffer_size_to_dict_update">
<code class="descclassname">upnp.functional.musicservices.spotify.spotify_base.</code><code class="descname">per_model_asyncio_buffer_size_to_dict_update</code><span class="sig-paren">(</span><em>per_model_asyncio_buffer_size_dict</em>, <em>per_model_asyncio_buffer_size_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_base.html#per_model_asyncio_buffer_size_to_dict_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_base.per_model_asyncio_buffer_size_to_dict_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a list comprised of ‘model number: buffer size’ into a dictionary
with model number as key
:param dict per_model_asyncio_buffer_size_dict: Dictionary to update
:param list per_model_asyncio_buffer_size_list: List of model:&lt;buffer size&gt;
:return: A dictionary of mapping model(s) to buffer size(s)
:rtype: <cite>dict</cite></p>
</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_concurrent_play">
<span id="upnp-functional-musicservices-spotify-spotify-concurrent-play-module"></span><h2>upnp.functional.musicservices.spotify.spotify_concurrent_play module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_concurrent_play" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_concurrent_play.</code><code class="descname">SpotifyConcurrentPlay</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_concurrent_play.html#SpotifyConcurrentPlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<p>Play all favorite Spotify playlists using the available
unique players in the test bed.</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.allow_seek">
<code class="descname">allow_seek</code><span class="sig-paren">(</span><em>curr_track</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_concurrent_play.html#SpotifyConcurrentPlay.allow_seek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.allow_seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True when conditions allows to seek on currently
playing track based on the run time seek rate and the last
invocation of seek on the HH.
:param int curr_track: Track number playing
:return: True when seeking is allowed else False
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.next_expected_track_number">
<code class="descname">next_expected_track_number</code><span class="sig-paren">(</span><em>pos</em>, <em>restricted</em>, <em>num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_concurrent_play.html#SpotifyConcurrentPlay.next_expected_track_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.next_expected_track_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the next unrestricted track number that follows
the specified position.
:param int pos: current track number
:param list restricted: unavailable track numbers
:param int num: number of available tracks
:return: Next playable track number
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.play_container">
<code class="descname">play_container</code><span class="sig-paren">(</span><em>zp</em>, <em>container</em>, <em>expiration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_concurrent_play.html#SpotifyConcurrentPlay.play_container"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.play_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to play all tracks in container.
To expedite the test, plays the first 15 seconds of the
track and then advances to 10 seconds before the end.
Monitors for track changes and flags as failed test the
unexpected track changes or any fatal playback errors.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_concurrent_play.html#SpotifyConcurrentPlay.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.spotify_playlists">
<code class="descname">spotify_playlists</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_concurrent_play.html#SpotifyConcurrentPlay.spotify_playlists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.spotify_playlists" title="Permalink to this definition">¶</a></dt>
<dd><p>Play the assigned containers on the zone player.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.test_spotify_playlists">
<code class="descname">test_spotify_playlists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_concurrent_play.html#SpotifyConcurrentPlay.test_spotify_playlists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.test_spotify_playlists" title="Permalink to this definition">¶</a></dt>
<dd><p>Start playback in parallel on available players.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.wait_for_end_of_track">
<code class="descname">wait_for_end_of_track</code><span class="sig-paren">(</span><em>zp</em>, <em>curr_track</em>, <em>restricted</em>, <em>num_tracks</em>, <em>timeout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_concurrent_play.html#SpotifyConcurrentPlay.wait_for_end_of_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_concurrent_play.SpotifyConcurrentPlay.wait_for_end_of_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for track change, verifies track position on change.
Returns a tuple with a state and track position. The state
of False indicates no more tracks to play while True there
are more tracks.
:param int curr_track: Current track playing
:param list restricted: List of unplayable track numbers
:param int num_tracks: Total tracks
:param int timeout: Maximum time in seconds to wait for track
change
:return: Tuple (state, track)
:rtype <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_delegation">
<span id="upnp-functional-musicservices-spotify-spotify-delegation-module"></span><h2>upnp.functional.musicservices.spotify.spotify_delegation module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_delegation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_delegation.</code><code class="descname">SpotifyDelegation</code><span class="sig-paren">(</span><em>fixture_name=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.workflow.fixture.WorkflowTestFixture</span></code></p>
<p>Confirms GC quick hand-off does not exceed a threshold SWPBL-60087
Confirms track being played same as old GC SWPBL-60090
During Spotify NTS integration, it was found that handing-off to a
new GC took excessively long time (over 25 seconds) for the operation
to complete (group size 3). In addition, the track being played by the
new GC was not the track that had been playing on the old GC.</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.cb_transport_error">
<code class="descname">cb_transport_error</code><span class="sig-paren">(</span><em>msg</em>, <em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.cb_transport_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.cb_transport_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.detected_playing_music">
<code class="descname">detected_playing_music</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.detected_playing_music"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.detected_playing_music" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback on detecting music playback
:param zp: Sonos zone component from which to submit
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.did_zone_have_transport_error">
<code class="descname">did_zone_have_transport_error</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.did_zone_have_transport_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.did_zone_have_transport_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.generate_grp_zones">
<code class="descname">generate_grp_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.generate_grp_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.generate_grp_zones" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the unique playback devices and the desired
group size, yield all combinations to test the quick GC hand-off.</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.max_transition">
<code class="descname">max_transition</code><em class="property"> = 0.0</em><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.max_transition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.min_transition">
<code class="descname">min_transition</code><em class="property"> = 100.0</em><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.min_transition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup test</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.start_playback">
<code class="descname">start_playback</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.start_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.start_playback" title="Permalink to this definition">¶</a></dt>
<dd><p>Start playback
:param test_zone: Sonos zone component
:type test zone: :<cite>~sonos.client.SonosZoneComponent</cite></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Teardown fixture</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Tear down test</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.test_grouping_quick_hand_off">
<code class="descname">test_grouping_quick_hand_off</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.test_grouping_quick_hand_off"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.test_grouping_quick_hand_off" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.verify_grouping_quick_hand_off">
<code class="descname">verify_grouping_quick_hand_off</code><span class="sig-paren">(</span><em>gc</em>, <em>gms</em>, <em>gm_to_gc</em>, <em>gc_timeout=45.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_delegation.html#SpotifyDelegation.verify_grouping_quick_hand_off"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_delegation.SpotifyDelegation.verify_grouping_quick_hand_off" title="Permalink to this definition">¶</a></dt>
<dd><p>Zones specified in gms are grouped to the initial gc.
Zone gm_to_gc is grouped to existing group and the original gc
becomes a standalone player.
Confirms group coordinator quick hand-off.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> gc:
Initial group coordinator
:param list gms: Members of group
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> gm_to_gc:
Final group coordinator
:param int gc_timeout: Maximum number of seconds to wait for
quick hand-off.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_fast_slow_path">
<span id="upnp-functional-musicservices-spotify-spotify-fast-slow-path-module"></span><h2>upnp.functional.musicservices.spotify.spotify_fast_slow_path module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_fast_slow_path" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_fast_slow_path.</code><code class="descname">SpotifyFastSlowPath</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<p>Verifies players use fast/slow path on seek/pause/resume - SWPBL-60719
Seek fast path is defined as when a user seeks to a position
within a track and prior to the next track being played. There’s a
transitional time where the player (chsrc) is playing the next track
but the framing for the current track is still pending. A seek and
pause in this transitional time is a slow path since we’re forcing the
player to re-open the expiring track file.</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.clear_msg_event">
<code class="descname">clear_msg_event</code><span class="sig-paren">(</span><em>zp</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.clear_msg_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.clear_msg_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.generate_fast_pause_zones">
<code class="descname">generate_fast_pause_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.generate_fast_pause_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.generate_fast_pause_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.generate_fast_slow_seek_zones">
<code class="descname">generate_fast_slow_seek_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.generate_fast_slow_seek_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.generate_fast_slow_seek_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.set_msg_event">
<code class="descname">set_msg_event</code><span class="sig-paren">(</span><em>zp</em>, <em>msg</em>, <em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.set_msg_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.set_msg_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.start_playback">
<code class="descname">start_playback</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.start_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.start_playback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.test_spotify_fast_pause">
<code class="descname">test_spotify_fast_pause</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.test_spotify_fast_pause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.test_spotify_fast_pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Test is limited to players with no frame cache.
Test fast pause within a track.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.test_spotify_fast_slow_seek">
<code class="descname">test_spotify_fast_slow_seek</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.test_spotify_fast_slow_seek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.test_spotify_fast_slow_seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Test seek within a track (fast path seek).
Test seek to end of track (fast path seek).
Test seek during transitional period (slow seek path).
Test pause during transitional period (slow pause path).</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_fast_pause">
<code class="descname">verify_fast_pause</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.verify_fast_pause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_fast_pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the player utilizes the fast pause path.
The testing is limited to players with limited frame-cache.
Allow the player to play enough content on current track.
Perform pause and resume.
Confirm player uses expected code path.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_fast_seek">
<code class="descname">verify_fast_seek</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.verify_fast_seek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_fast_seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the player utilizes the fast seek path.
Allow the player to play enough content on current track.
Perform seek (forward/backward) UPnP operations.
Confirm player uses expected code path.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_fast_seek_to_track_end">
<code class="descname">verify_fast_seek_to_track_end</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.verify_fast_seek_to_track_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_fast_seek_to_track_end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_slow_pause">
<code class="descname">verify_slow_pause</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.verify_slow_pause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_slow_pause" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_slow_seek">
<code class="descname">verify_slow_seek</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.verify_slow_seek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.verify_slow_seek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.wait_msg_event">
<code class="descname">wait_msg_event</code><span class="sig-paren">(</span><em>event</em>, <em>timeout=5.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_fast_slow_path.html#SpotifyFastSlowPath.wait_msg_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_fast_slow_path.SpotifyFastSlowPath.wait_msg_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for the event. Return the state of the event.
:param threading.Event event:
:param float timeout: Maximum seconds to wait
:return: Is event set ?
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_long_duration_track_seek">
<span id="upnp-functional-musicservices-spotify-spotify-long-duration-track-seek-module"></span><h2>upnp.functional.musicservices.spotify.spotify_long_duration_track_seek module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_long_duration_track_seek" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.</code><code class="descname">SpotifyLongTrackDurationSeek</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#SpotifyLongTrackDurationSeek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<p>Confirm player switches to next track within the expected
time frame after a seek to end of track is performed.
Prior NTS libraries had the behavior of taking a very
long time (minutes) on a track change after a seek was
performed near the end of a long duration track.</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.generate_zones">
<code class="descname">generate_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#SpotifyLongTrackDurationSeek.generate_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.generate_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#SpotifyLongTrackDurationSeek.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#SpotifyLongTrackDurationSeek.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.start_playback">
<code class="descname">start_playback</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#SpotifyLongTrackDurationSeek.start_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.start_playback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#SpotifyLongTrackDurationSeek.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.test_seek_on_long_duration_tracks">
<code class="descname">test_seek_on_long_duration_tracks</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#SpotifyLongTrackDurationSeek.test_seek_on_long_duration_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.test_seek_on_long_duration_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>The test album contains a few long duration tracks.
Play the album in its entirety and confirm zone player
switches to the next track within the expected time frame
after a seek to end of track operation has been performed.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.wait_on_operation_with_thread_info">
<code class="descname">wait_on_operation_with_thread_info</code><span class="sig-paren">(</span><em>zp</em>, <em>func</em>, <em>exception_type</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#SpotifyLongTrackDurationSeek.wait_on_operation_with_thread_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.SpotifyLongTrackDurationSeek.wait_on_operation_with_thread_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.ThreadInfo">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.</code><code class="descname">ThreadInfo</code><span class="sig-paren">(</span><em>zp</em>, <em>sample_frequency=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#ThreadInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.ThreadInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<p>Collect thread information from the zone component
until we’re told to stop.</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.ThreadInfo.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#ThreadInfo.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.ThreadInfo.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample the thread information based on the frequency
until we’re told to stop.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.ThreadInfo.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_long_duration_track_seek.html#ThreadInfo.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_long_duration_track_seek.ThreadInfo.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Signal to stop sampling and terminate</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_podcasts">
<span id="upnp-functional-musicservices-spotify-spotify-podcasts-module"></span><h2>upnp.functional.musicservices.spotify.spotify_podcasts module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_podcasts" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_podcasts.</code><code class="descname">SpotifyPodcasts</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_podcasts.html#SpotifyPodcasts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<p>Bare minimum support for confirming a specific Spotify
podcast is played. Spotify needs to add SMAPI support for
the podcast. Until that time, this class just verifies
the player can play the content.</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.build_uri_metadata">
<code class="descname">build_uri_metadata</code><span class="sig-paren">(</span><em>media_collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_podcasts.html#SpotifyPodcasts.build_uri_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.build_uri_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URI and metadata based on the media_collection
:param obj media_collection: Object mediaCollection per Sonos.wsdl
:return: A tuple of URI, metadata
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.generate_podcast_zones">
<code class="descname">generate_podcast_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_podcasts.html#SpotifyPodcasts.generate_podcast_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.generate_podcast_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.search_and_build_uri_metadata">
<code class="descname">search_and_build_uri_metadata</code><span class="sig-paren">(</span><em>search_type</em>, <em>search_term</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_podcasts.html#SpotifyPodcasts.search_and_build_uri_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.search_and_build_uri_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the URI and metadata of the first match of the search_term
based on the search_type
:param str search_type: The search type
:param str search_term: The item to search
:return: A tuple of URI, metadata
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_podcasts.html#SpotifyPodcasts.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_podcasts.html#SpotifyPodcasts.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.start_playback_podcasts">
<code class="descname">start_playback_podcasts</code><span class="sig-paren">(</span><em>zp</em>, <em>uri</em>, <em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_podcasts.html#SpotifyPodcasts.start_playback_podcasts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.start_playback_podcasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts play back of podcast on zone player.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_podcasts.html#SpotifyPodcasts.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.test_spotify_podcasts">
<code class="descname">test_spotify_podcasts</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_podcasts.html#SpotifyPodcasts.test_spotify_podcasts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_podcasts.SpotifyPodcasts.test_spotify_podcasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire a SMAPI token by playing a normal track, then play
the Spotify podcast using SetAVTransportURI with bare
minimum metadata. This is temporary until the Spotify
functionality is fully turned on SMAPI.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_same_track_playlist">
<span id="upnp-functional-musicservices-spotify-spotify-same-track-playlist-module"></span><h2>upnp.functional.musicservices.spotify.spotify_same_track_playlist module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_same_track_playlist" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="upnp.functional.musicservices.spotify.spotify_same_track_playlist.I_WALK_ALONE_TRACKS">
<code class="descclassname">upnp.functional.musicservices.spotify.spotify_same_track_playlist.</code><code class="descname">I_WALK_ALONE_TRACKS</code><em class="property"> = SpotifyTrackFormat(track_uri='x-sonos-spotify:spotify%3atrack%3a5HhYed0wWffS0EG8w9iUCi?sid={}&amp;flags=8224&amp;sn={}', track_md='&lt;DIDL-Lite xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:upnp=&quot;urn:schemas-upnp-org:metadata-1-0/upnp/&quot; xmlns:r=&quot;urn:schemas-rinconnetworks-com:metadata-1-0/&quot; xmlns=&quot;urn:schemas-upnp-org:metadata-1-0/DIDL-Lite/&quot;&gt;&lt;item id=&quot;00032020spotify%3atrack%3a5HhYed0wWffS0EG8w9iUCi&quot; parentID=&quot;0004206cspotify%3aalbum%3a57EymShRFpBNQctZKkcGrN&quot; restricted=&quot;true&quot;&gt;&lt;dc:title&gt;Fingertips - 21 - I Walk Alone&lt;/dc:title&gt;&lt;upnp:class&gt;object.item.audioItem.musicTrack&lt;/upnp:class&gt;&lt;desc id=&quot;cdudn&quot; nameSpace=&quot;urn:schemas-rinconnetworks-com:metadata-1-0/&quot;&gt;SA_RINCON{}_{}&lt;/desc&gt;&lt;/item&gt;&lt;/DIDL-Lite&gt;')</em><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_same_track_playlist.I_WALK_ALONE_TRACKS" title="Permalink to this definition">¶</a></dt>
<dd><p>How often we sample track position to detect change.</p>
</dd></dl>

<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_same_track_playlist.</code><code class="descname">SpotifySameTrackPlaylist</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_same_track_playlist.html#SpotifySameTrackPlaylist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<p>Verifies a Spotify playlist comprised of the same
track can be played without transport errors.
Verifies SWPBL-62336</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.generate_track_zones">
<code class="descname">generate_track_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_same_track_playlist.html#SpotifySameTrackPlaylist.generate_track_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.generate_track_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_same_track_playlist.html#SpotifySameTrackPlaylist.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.start_playback">
<code class="descname">start_playback</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_same_track_playlist.html#SpotifySameTrackPlaylist.start_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.start_playback" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts play back of playlist</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_same_track_playlist.html#SpotifySameTrackPlaylist.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.test_same_track_playlist">
<code class="descname">test_same_track_playlist</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_same_track_playlist.html#SpotifySameTrackPlaylist.test_same_track_playlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_same_track_playlist.SpotifySameTrackPlaylist.test_same_track_playlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Play a playlist comprised of the same track.
Play all tracks in entirety.
Confirm the player does not skip a track.
Confirm the player does not seek on playing track.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_short_tracks">
<span id="upnp-functional-musicservices-spotify-spotify-short-tracks-module"></span><h2>upnp.functional.musicservices.spotify.spotify_short_tracks module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_short_tracks" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.DEFAULT_SEEK_TO_END_ITERATIONS">
<code class="descclassname">upnp.functional.musicservices.spotify.spotify_short_tracks.</code><code class="descname">DEFAULT_SEEK_TO_END_ITERATIONS</code><em class="property"> = 20</em><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.DEFAULT_SEEK_TO_END_ITERATIONS" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional seconds to add to duration of currently playing track
when waiting for a track change.</p>
</dd></dl>

<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_short_tracks.</code><code class="descname">SpotifyShortTracks</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.add_normal_length_tracks">
<code class="descname">add_normal_length_tracks</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.add_normal_length_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.add_normal_length_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Customizes the play queue to contain normal length tracks.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.add_short_length_tracks">
<code class="descname">add_short_length_tracks</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.add_short_length_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.add_short_length_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Customizes the play queue to contain short length tracks.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.add_test_tracks">
<code class="descname">add_test_tracks</code><span class="sig-paren">(</span><em>zp</em>, <em>container</em>, <em>min_tracks</em>, <em>tracks_to_remove_tuple</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.add_test_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.add_test_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an album container, it adds the container to the
default play queue and removes the tracks specified in the
supplied tracks_to_remove_tuple.
Returns the number of tracks in queue after all unwanted tracks
have been removed.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.generate_short_track_zones">
<code class="descname">generate_short_track_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.generate_short_track_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.generate_short_track_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.perform_next_based_on_probability">
<code class="descname">perform_next_based_on_probability</code><span class="sig-paren">(</span><em>zp</em>, <em>track</em>, <em>duration</em>, <em>iterations</em>, <em>probability=0.379</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.perform_next_based_on_probability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.perform_next_based_on_probability" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on probability, invoke Next() on currently playing track or wait
for next track change.
Return the number of remaining Next() operations for the test.
We’re being conservative on hitting Next() so that the Spotify backend
does not rate limit the service.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code> zp:
:param int track: Track number
:param int duration: Track duration in seconds
:param int iterations: The number of remaining next operations
:param float probability: The likelihood of invoking the operation
:return: The remaining number of next iterations
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.start_playback">
<code class="descname">start_playback</code><span class="sig-paren">(</span><em>zp</em>, <em>repeat=False</em>, <em>track=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.start_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.start_playback" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts playback of the test album, trimmed to
contain tracks suitable for the short or normal length
tracks. For purposes of this test a short track is from
4 to 10 seconds and a normal track is 45 to 75 seconds.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.test_next_close_to_end">
<code class="descname">test_next_close_to_end</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.test_next_close_to_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.test_next_close_to_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirms player switches to next track when a Next operation
is invoked prior to end of track play.
The test invokes next on a track based on probability to avoid
Spotify rate limiting.
Will invoke DEFAULT_NEXT_ITERATIONS
1. Play track N
2. Sleep until there’s a second remaining in track N
3. Next (based on chance)
4. Confirm playing and track N + 1
5. Repeat until time exhausted
Errors seen without fix, either ERROR_LOST_CONNECTION,
or ERROR_NO_RESOURCE and step (4) player on track N + 2.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.test_pause_resume">
<code class="descname">test_pause_resume</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.test_pause_resume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.test_pause_resume" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple">
<li>Start playback of playlist</li>
<li>After one second, pause and confirm track</li>
<li>Sleep for DEFAULT_PAUSE_SECONDS, resume play confirm track</li>
<li>Confirm track change</li>
<li>Repeat 2-4 until time limit exhausted</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.test_play_and_seek_to_beginning">
<code class="descname">test_play_and_seek_to_beginning</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.test_play_and_seek_to_beginning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.test_play_and_seek_to_beginning" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirms player plays current track when a seek to the start
is invoked prior to end of track play. Addresses SWPBL-62066.
The use of whether to invoke seek is probabilistic since it
reduces the chance the Spotify rate limiter will kick-in.
Will invoke DEFAULT_SEEK_TO_BEGINNING_ITERATIONS_SHORT
1. Play track N (very short track ~4 seconds)
2. Sleep until near the end of track N
3. Scrub to beginning on track N (based on chance)
4. Confirm playing and track N
5. Repeat until iterations exhausted</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.test_seek_to_end">
<code class="descname">test_seek_to_end</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.test_seek_to_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.test_seek_to_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Note that this test will most likely generate a STREAM_LIMIT_ERROR
due to Spotify’s rate limiting policies on track play if the
probability on seek operations is close to 1.00.
Randomizing the periodicity of performing a seek operation may
alleviate the STREAM_LIMIT_ERROR.
Currently the default is to seek (on average) every other 3rd track.
Note this generated an ERROR_NO_RESOURCE without the randomization
on seek operations when the execution environment had a single player.
Automation note: The following command line avoided the STREAM_LIMIT
error yet it manifested in CORRUPT_FILE followed by LOST_CONNECTION.
–iterations=10 –seek_probability=0.333
approximately 2hours for 6 players
1. Start playback of playlist
2. Sleep for 1 seconds
3. Seek to end of track depending on probability
4. Wait for track change
5. Confirm track change
5. Repeat 2-5 until iterations exhausted</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.verify_paused_resumed_track">
<code class="descname">verify_paused_resumed_track</code><span class="sig-paren">(</span><em>zp</em>, <em>curr_track</em>, <em>stop_warn_func</em>, <em>stop_warn_msg</em>, <em>verify_func</em>, <em>verify_msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_short_tracks.html#SpotifyShortTracks.verify_paused_resumed_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_short_tracks.SpotifyShortTracks.verify_paused_resumed_track" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotify_ttm_measurements">
<span id="upnp-functional-musicservices-spotify-spotify-ttm-measurements-module"></span><h2>upnp.functional.musicservices.spotify.spotify_ttm_measurements module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotify_ttm_measurements" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotify_ttm_measurements.</code><code class="descname">SpotifyTTM</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<p>Measures the latency from the time start playback is initiated
to the time the player has buffered the first byte of the audio.</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.calc_delay">
<code class="descname">calc_delay</code><span class="sig-paren">(</span><em>zp</em>, <em>msg_list</em>, <em>operation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.calc_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.calc_delay" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.first_byte_cb">
<code class="descname">first_byte_cb</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.first_byte_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.first_byte_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback when the player has buffered the first byte of the
audio stream. When measurement is turned on, it updates the
list with the latency for time-to-music.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.generate_available_graphs">
<code class="descname">generate_available_graphs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.generate_available_graphs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.generate_available_graphs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.generate_zones_do_setup">
<code class="descname">generate_zones_do_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.generate_zones_do_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.generate_zones_do_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for tests which perform setUpTest</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.generate_zones_ignore_setup">
<code class="descname">generate_zones_ignore_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.generate_zones_ignore_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.generate_zones_ignore_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for test which perform their own setUpTest</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.get_expected_actual_track">
<code class="descname">get_expected_actual_track</code><span class="sig-paren">(</span><em>zp</em>, <em>actual_track</em>, <em>num_tracks</em>, <em>direction</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.get_expected_actual_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.get_expected_actual_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple of expected, actual track based on the current
track, number of tracks in playlist and direction of AVT action</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.near_end_common">
<code class="descname">near_end_common</code><span class="sig-paren">(</span><em>zp</em>, <em>direction</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.near_end_common"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.near_end_common" title="Permalink to this definition">¶</a></dt>
<dd><p>Common code for TTM on next/previous operation near track end</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.next_previous_common">
<code class="descname">next_previous_common</code><span class="sig-paren">(</span><em>zp</em>, <em>direction</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.next_previous_common"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.next_previous_common" title="Permalink to this definition">¶</a></dt>
<dd><p>Common code for next/previous TTM measurements
Measures TTM of skipping to previous/next track when we’re playing
current track.
1. Play track.
2. Sleep a couple of seconds.
3. AVT operation Previous or Next (starts measurement timer)
4. Stop measurement timer when the first-byte message is received
5. Confirm previous/next track is playing
6. Repeat 1-6 until X samples have been collected</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em>, <em>ignore</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.slow_seek_common">
<code class="descname">slow_seek_common</code><span class="sig-paren">(</span><em>zp</em>, <em>delta</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.slow_seek_common"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.slow_seek_common" title="Permalink to this definition">¶</a></dt>
<dd><p>Common code slow seeks +/- when we’re pre-fetching next track.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.start_playback">
<code class="descname">start_playback</code><span class="sig-paren">(</span><em>zp</em>, <em>play=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.start_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.start_playback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, after all tests are run</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em>, <em>ignore</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_fast_seek_forward">
<code class="descname">test_fast_seek_forward</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_fast_seek_forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_fast_seek_forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Play first track
Sleep 10 seconds.
1. Start measurement timer.
2. Seek forward 10 seconds.
3. Stop measurement timer, save sample
4. Sleep 5 seconds.
5. Repeat step (1) until X samples have been collected.
TODO: Check if track long enough for samples</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_fast_seek_reverse">
<code class="descname">test_fast_seek_reverse</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_fast_seek_reverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_fast_seek_reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures TTM when seeking within a track in reverse while playing.
1. Play track and seek towards 60 seconds before track end.
2. Sleep for a few seconds.
3. Start measurement timer.
4. Seek -10 seconds from current playing position
5. Stop measurement timer when first-byte arrives
6. Repeat 1-6 until X samples have been collected</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_next">
<code class="descname">test_next</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_next" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures TTM when skipping a track (AVT Next)</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_next_from_pause">
<code class="descname">test_next_from_pause</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_next_from_pause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_next_from_pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Play track.
Sleep a couple of seconds.
AVT Pause
AVT Next (starts measurement timer)
AVT Play
Confirm next track playing
Measurement timer stopped when first-byte message is received</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_next_near_end">
<code class="descname">test_next_near_end</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_next_near_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_next_near_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures TTM when skipping to next track when
near the end of the currently playing track
1. Play track for a few seconds.
2. Seek 30 seconds before track end.
3. Wait until we’re pre-fetching the next track.
4. Start measurement timer
5. Skip to next track
6. Stop measurement timer when first-byte detected
7. Repeat (1-6) until X samples have been collected</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_play_from_anacapa_restart">
<code class="descname">test_play_from_anacapa_restart</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_play_from_anacapa_restart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_play_from_anacapa_restart" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures TTM on first track after anacapa restart.
1. Restart anacapa
2. Load playlist
3. Position to a random track on playlist
4. Start measurement timer
5. Play track
6. Stop measurement timer when firt-byte arrives
7. Repeat 1 until X samples have been taken</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_play_random_track">
<code class="descname">test_play_random_track</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_play_random_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_play_random_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures TTM when selecting random track from playlist
Play first track from playlist.
Sleep for a bit.
1. Select a random track other than the one playing.
2. Point queue position to new track
3. Start measurement timer
4. Play new track
5. Stop measurement timer
6. Sleep for 10 seconds
7. Repeat 1 until X samples have been taken</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_previous">
<code class="descname">test_previous</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_previous"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_previous" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures TTM when skipping a track (AVT Previous)</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_previous_from_pause">
<code class="descname">test_previous_from_pause</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_previous_from_pause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_previous_from_pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Play track.
Sleep a couple of seconds.
AVT Pause
AVT Previous (starts measurement timer)
AVT Play (wait for first-byte)
Confirm next track playing
Stop measurement timer when first-byte message is received</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_previous_near_end">
<code class="descname">test_previous_near_end</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_previous_near_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_previous_near_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Measures TTM when skipping to previous track when
near the end of the currently playing track
1. Play track for a few seconds.
2. Seek 30 seconds before track end.
3. Wait until we’re pre-fetching the next track.
4. Start measurement timer
5. Skip to previous track
6. Stop measurement timer when first-byte detected
7. Repeat (1-6) until X samples have been collected</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_slow_seek_forward">
<code class="descname">test_slow_seek_forward</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_slow_seek_forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_slow_seek_forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Play first track.
1. Seek towards the end of the track (30 seconds).
2. Wait until we’re prefetching the next track.
3. Start the measuring timer.
4. Seek forward 5 seconds.
5. Stop measuring timer on first-byte.
6. Repeat from (1) until X samples have been taken.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_slow_seek_reverse">
<code class="descname">test_slow_seek_reverse</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.test_slow_seek_reverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.test_slow_seek_reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Play first track.
1. Seek towards the end of the track (30 seconds).
2. Wait until we’re prefetching the next track.
3. Start the measuring timer.
4. Seek back 5 seconds.
5. Stop measuring timer on first-byte.
6. Repeat step (1) until X samples have been taken.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.wait_for_prebuffering">
<code class="descname">wait_for_prebuffering</code><span class="sig-paren">(</span><em>event</em>, <em>timeout=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#SpotifyTTM.wait_for_prebuffering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.SpotifyTTM.wait_for_prebuffering" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="upnp.functional.musicservices.spotify.spotify_ttm_measurements.plot_data">
<code class="descclassname">upnp.functional.musicservices.spotify.spotify_ttm_measurements.</code><code class="descname">plot_data</code><span class="sig-paren">(</span><em>xlabel</em>, <em>ylabel</em>, <em>title</em>, <em>data</em>, <em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotify_ttm_measurements.html#plot_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotify_ttm_measurements.plot_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a two-dimensional graph from data derived
from a dictionary that has the following format:
{
‘key0’: [value1, value2, … valueN],
‘key1’: [value1, value2, … valueN],
…
‘keyN’: [value1, value2, … valueN]
}</p>
</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.spotifyanalyze">
<span id="upnp-functional-musicservices-spotify-spotifyanalyze-module"></span><h2>upnp.functional.musicservices.spotify.spotifyanalyze module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.spotifyanalyze" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.spotifyanalyze.</code><code class="descname">trackInfo</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotifyanalyze.html#trackInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.dump">
<code class="descname">dump</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotifyanalyze.html#trackInfo.dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotifyanalyze.html#trackInfo.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.setMetadata">
<code class="descname">setMetadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotifyanalyze.html#trackInfo.setMetadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.setMetadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.setSeek">
<code class="descname">setSeek</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotifyanalyze.html#trackInfo.setSeek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.setSeek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.setTransportError">
<code class="descname">setTransportError</code><span class="sig-paren">(</span><em>te</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/spotifyanalyze.html#trackInfo.setTransportError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.spotifyanalyze.trackInfo.setTransportError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.test_spotify_bit_rate">
<span id="upnp-functional-musicservices-spotify-test-spotify-bit-rate-module"></span><h2>upnp.functional.musicservices.spotify.test_spotify_bit_rate module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.test_spotify_bit_rate" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.test_spotify_bit_rate.</code><code class="descname">SpotifyBitRate</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<p>Bandwidth and delay tests to verify NTS bit rate adaptation
The test is formulated to expect the NTS to downgrade
to 160Kbit from 320Kbit tracks when the network degrades.
When the network improves sufficiently to maintain playback
on 320Kbit tracks, NTS will switch playing the higher rate.
Verifies SWPBL-58303</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.bit_rate_track_cb">
<code class="descname">bit_rate_track_cb</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.bit_rate_track_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.bit_rate_track_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the current track play bit rate
:param str msg: Player message</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.configure_mock_player_services">
<code class="descname">configure_mock_player_services</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.configure_mock_player_services"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.configure_mock_player_services" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.generate_devices">
<code class="descname">generate_devices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.generate_devices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.generate_devices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.play_spotify_container">
<code class="descname">play_spotify_container</code><span class="sig-paren">(</span><em>zp</em>, <em>container</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.play_spotify_container"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.play_spotify_container" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.setup_track_rate_msg_cb">
<code class="descname">setup_track_rate_msg_cb</code><span class="sig-paren">(</span><em>zp</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.setup_track_rate_msg_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.setup_track_rate_msg_cb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, after all tests are run</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.test_spotify_bit_rate_band">
<code class="descname">test_spotify_bit_rate_band</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.test_spotify_bit_rate_band"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.test_spotify_bit_rate_band" title="Permalink to this definition">¶</a></dt>
<dd><p>SWPBL-125470
1. Start playback
2. Confirm player using 320K track
3. Reduce bandwidth
4. Confirm player using 160K track
5. Increase bandwidth
6. Confirm player using 320K track after timeoutSpotifyLowerBitrate(set to 60 seconds in spotify_base)</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.test_spotify_bit_rate_delay">
<code class="descname">test_spotify_bit_rate_delay</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.test_spotify_bit_rate_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.test_spotify_bit_rate_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>SWPBL-125470
1. Start playback
2. Confirm player using 320K track
3. Increase delay
4. Confirm player using 160K track
5. Reduce delay
6. Confirm player using 320K track after timeoutSpotifyLowerBitrate(set to 60 seconds in spotify_base)</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.wait_until_track_rate_change">
<code class="descname">wait_until_track_rate_change</code><span class="sig-paren">(</span><em>rate</em>, <em>timeout=300</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/test_spotify_bit_rate.html#SpotifyBitRate.wait_until_track_rate_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.test_spotify_bit_rate.SpotifyBitRate.wait_until_track_rate_change" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.verify_smapi_play_context">
<span id="upnp-functional-musicservices-spotify-verify-smapi-play-context-module"></span><h2>upnp.functional.musicservices.spotify.verify_smapi_play_context module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.verify_smapi_play_context" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.verify_smapi_play_context.</code><code class="descname">VerifySMAPIPlayContext</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<p>Verifies SWPBL-77998
Confirm the zone player reports the Spotify track context
when playing a Sonos playlist which has Spotify tracks.</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.build_uri_metadata">
<code class="descname">build_uri_metadata</code><span class="sig-paren">(</span><em>media_collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.build_uri_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.build_uri_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URI and metadata based on the media_collection
:param obj media_collection: Object mediaCollection per Sonos.wsdl
:return: A tuple of URI, metadata
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.container_msg_cb">
<code class="descname">container_msg_cb</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.container_msg_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.container_msg_cb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.generate_smapi_context_zones">
<code class="descname">generate_smapi_context_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.generate_smapi_context_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.generate_smapi_context_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.setup_sonos_playlist">
<code class="descname">setup_sonos_playlist</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.setup_sonos_playlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.setup_sonos_playlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up a Sonos playlist that contains Spotify tracks.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.src_type_msg_cb">
<code class="descname">src_type_msg_cb</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.src_type_msg_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.src_type_msg_cb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, after all tests are run</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.test_spotify_playlist_play_on_completion">
<code class="descname">test_spotify_playlist_play_on_completion</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.test_spotify_playlist_play_on_completion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.test_spotify_playlist_play_on_completion" title="Permalink to this definition">¶</a></dt>
<dd><p>SWPBL-120345
[eSDK SMAPI] Track errors on resume after letting a container play to completion</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.test_spotify_podcasts">
<code class="descname">test_spotify_podcasts</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_smapi_play_context.html#VerifySMAPIPlayContext.test_spotify_podcasts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_smapi_play_context.VerifySMAPIPlayContext.test_spotify_podcasts" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies the zone player reports the Spotify track
context when playing a Sonos playlist which has
Spotify track.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify.verify_spotify_segfault">
<span id="upnp-functional-musicservices-spotify-verify-spotify-segfault-module"></span><h2>upnp.functional.musicservices.spotify.verify_spotify_segfault module<a class="headerlink" href="#module-upnp.functional.musicservices.spotify.verify_spotify_segfault" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults">
<em class="property">class </em><code class="descclassname">upnp.functional.musicservices.spotify.verify_spotify_segfault.</code><code class="descname">VerifySpotifySegfaults</code><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_spotify_segfault.html#VerifySpotifySegfaults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.musicservices.spotify.spotify_base.SpotifyBase" title="upnp.functional.musicservices.spotify.spotify_base.SpotifyBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.musicservices.spotify.spotify_base.SpotifyBase</span></code></a></p>
<p>During the initial integration of NTS library, there were
several tracks which caused the player to restart anacapad
due to a segmentation fault in the NTS library.
This script verifies the cuplrit tracks can be played
without a fault.
Verifies the following JIRA bugs.
SWPBL-56579 - segfault while playing “Never Sleep Alone (feat. Tess Comrie)
SWPBL-56681 - segfault while playing “Somewhere In Paradise (feat. Jeremih
&amp; R. Kelly”
SWPBL-56277 - segfault while playing “The Angry Birds Movie”
SWPBL-55781 - segfault while playing Spotify using NTS library</p>
<p>Updated 11/7/2016 to play a mixed queue of Spotify tracks (several
tracks which caused SEGFAULT) and local tracks comprised of all
the supported framers SWPBL-65362.</p>
<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.generate_mixed_track_zones">
<code class="descname">generate_mixed_track_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_spotify_segfault.html#VerifySpotifySegfaults.generate_mixed_track_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.generate_mixed_track_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_spotify_segfault.html#VerifySpotifySegfaults.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_spotify_segfault.html#VerifySpotifySegfaults.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_spotify_segfault.html#VerifySpotifySegfaults.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, after all tests are run</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_spotify_segfault.html#VerifySpotifySegfaults.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.test_spotify_segfault_tracks">
<code class="descname">test_spotify_segfault_tracks</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/musicservices/spotify/verify_spotify_segfault.html#VerifySpotifySegfaults.test_spotify_segfault_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.musicservices.spotify.verify_spotify_segfault.VerifySpotifySegfaults.test_spotify_segfault_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Play each track in container sequentially in container.
1. Play 15 seconds and then
2. Seek to 10 seconds before end
3. Wait for track change
4. Repeat 1-3 until queue exhausted</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.musicservices.spotify">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-upnp.functional.musicservices.spotify" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">TestCase Documentation</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="audio.html">audio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">cloud package</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_reporting.html">data_reporting package</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataio.html">dataio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">examples package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hdmi.html">hdmi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="ixchariot.html">ixchariot package</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">networking package</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">other package</a></li>
<li class="toctree-l1"><a class="reference internal" href="perf.html">perf package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytest_automation.html">pytest_automation package</a></li>
<li class="toctree-l1"><a class="reference internal" href="secure_registration.html">secure_registration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="syssw.html">syssw package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="upnp.html">upnp package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="upnp.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="upnp.api.html">upnp.api package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="upnp.functional.html">upnp.functional package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="upnp.functional.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="upnp.functional.html#module-upnp.functional">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="upnp.helpers.html">upnp.helpers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="upnp.stress.html">upnp.stress package</a></li>
<li class="toctree-l3"><a class="reference internal" href="upnp.suites.html">upnp.suites package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="upnp.html#module-upnp">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">voice package</a></li>
<li class="toctree-l1"><a class="reference internal" href="webserver.html">webserver package</a></li>
<li class="toctree-l1"><a class="reference internal" href="webserver_v0.html">webserver_v0 package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="upnp.html">upnp package</a><ul>
  <li><a href="upnp.functional.html">upnp.functional package</a><ul>
  <li><a href="upnp.functional.musicservices.html">upnp.functional.musicservices package</a><ul>
      <li>Previous: <a href="upnp.functional.musicservices.siriusxm.html" title="previous chapter">upnp.functional.musicservices.siriusxm package</a></li>
      <li>Next: <a href="upnp.functional.musicservices.tunein.html" title="next chapter">upnp.functional.musicservices.tunein package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Author.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/upnp.functional.musicservices.spotify.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>