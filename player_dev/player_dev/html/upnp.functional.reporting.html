
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>upnp.functional.reporting package &#8212; TestCase Documentation  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="upnp.functional.savedqueue package" href="upnp.functional.savedqueue.html" />
    <link rel="prev" title="upnp.functional.rdm package" href="upnp.functional.rdm.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="upnp-functional-reporting-package">
<h1>upnp.functional.reporting package<a class="headerlink" href="#upnp-functional-reporting-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-upnp.functional.reporting.alarm_events">
<span id="upnp-functional-reporting-alarm-events-module"></span><h2>upnp.functional.reporting.alarm_events module<a class="headerlink" href="#module-upnp.functional.reporting.alarm_events" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.alarm_events.</code><code class="descname">AlarmEvents</code><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Verifies the zone player events the fired alarm in the
usage metrics report SWPBL-53010.
Much of the alarm setting and verification code base
derived from api/alarmclock/test_create_alarm.py</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['ALARMS_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.add_music_shares">
<code class="descname">add_music_shares</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.add_music_shares"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.add_music_shares" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.alarm_test_data">
<code class="descname">alarm_test_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.alarm_test_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.alarm_test_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.clean_player_states">
<code class="descname">clean_player_states</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.clean_player_states"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.clean_player_states" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.dump_zone_alarms">
<code class="descname">dump_zone_alarms</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.dump_zone_alarms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.dump_zone_alarms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.find_alarm_event">
<code class="descname">find_alarm_event</code><span class="sig-paren">(</span><em>zp</em>, <em>exp_alarm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.find_alarm_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.find_alarm_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary which has values from the fired alarm.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.format_default_track_md">
<code class="descname">format_default_track_md</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.format_default_track_md"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.format_default_track_md" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.format_default_track_uri">
<code class="descname">format_default_track_uri</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.format_default_track_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.format_default_track_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.format_value_from_template">
<code class="descname">format_value_from_template</code><span class="sig-paren">(</span><em>template</em>, <em>*parts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.format_value_from_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.format_value_from_template" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.get_bad_uri">
<code class="descname">get_bad_uri</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.get_bad_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.get_bad_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Forces player to use fall back buzzer when
programmed URI fails - SWPBL-120952
We return some URI which will generate a failure.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.get_current_datetime_format_tuple">
<code class="descname">get_current_datetime_format_tuple</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.get_current_datetime_format_tuple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.get_current_datetime_format_tuple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.get_hls_radio_uri">
<code class="descname">get_hls_radio_uri</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.get_hls_radio_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.get_hls_radio_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.get_track_metadata">
<code class="descname">get_track_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.get_track_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.get_track_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.get_track_uri">
<code class="descname">get_track_uri</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.get_track_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.get_track_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.is_alarm_enabled">
<code class="descname">is_alarm_enabled</code><span class="sig-paren">(</span><em>zp</em>, <em>alarmId</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.is_alarm_enabled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.is_alarm_enabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.is_alarm_start_ahead">
<code class="descname">is_alarm_start_ahead</code><span class="sig-paren">(</span><em>t1</em>, <em>t2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.is_alarm_start_ahead"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.is_alarm_start_ahead" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True when the 24H clock t2 is “older”
than the 24H clock t1</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.reset_zone_time_to_2001">
<code class="descname">reset_zone_time_to_2001</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.reset_zone_time_to_2001"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.reset_zone_time_to_2001" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.restore_hh_timeinfo">
<code class="descname">restore_hh_timeinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.restore_hh_timeinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.restore_hh_timeinfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.save_hh_timeinfo">
<code class="descname">save_hh_timeinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.save_hh_timeinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.save_hh_timeinfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the web server.
Make the event metrics URL override persistent.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore usage metrics reporting URL, stop the twisted web server.
Clear AVT states on tested zones.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.test_alarm_events">
<code class="descname">test_alarm_events</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.test_alarm_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.test_alarm_events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.verifyAlarmFiredAndIsInCorrectState">
<code class="descname">verifyAlarmFiredAndIsInCorrectState</code><span class="sig-paren">(</span><em>zp</em>, <em>alarmId</em>, <em>sdate</em>, <em>starttime</em>, <em>stime</em>, <em>endEnabled</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.verifyAlarmFiredAndIsInCorrectState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.verifyAlarmFiredAndIsInCorrectState" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies expected alarm has fired.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.verify_alarm_event">
<code class="descname">verify_alarm_event</code><span class="sig-paren">(</span><em>zp</em>, <em>exp_alarms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.verify_alarm_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.verify_alarm_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of expected alarms, verify what the player has evented.
:param list exp_alarms: Expected alarm list</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.verify_alarm_test">
<code class="descname">verify_alarm_test</code><span class="sig-paren">(</span><em>zp</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.verify_alarm_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.verify_alarm_test" title="Permalink to this definition">¶</a></dt>
<dd><p>For given data, verifies alarm test and events with
the corresponding information.
1. Creates alarm
2. Sets the date &amp; time on player
3. Confirms alarm has fired
4. Confirms event information in usage report</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.alarm_events.AlarmEvents.wait_for_alarm_to_fire">
<code class="descname">wait_for_alarm_to_fire</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/alarm_events.html#AlarmEvents.wait_for_alarm_to_fire"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.alarm_events.AlarmEvents.wait_for_alarm_to_fire" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for the current alarm to fire. In the event
the alarm has been detected not to have fired, retrieve
all the alarms from the player and issue a warning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.button_events">
<span id="upnp-functional-reporting-button-events-module"></span><h2>upnp.functional.reporting.button_events module<a class="headerlink" href="#module-upnp.functional.reporting.button_events" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.button_events.</code><code class="descname">TestButtonEventReporting</code><span class="sig-paren">(</span><em>parameterized_setup=False</em>, <em>require_audio=False</em>, <em>nas_audio_tracks=('MaggieFarm.mp3'</em>, <em>'MaggieFarm.wav'</em>, <em>'MaggieFarm.flac'</em>, <em>'MaggieFarm.aiff'</em>, <em>'MaggieFarm_HEAAC.mp4'</em>, <em>'MaggieFarm_ALAC.m4a'</em>, <em>'MaggieFarm_AAC.mp4'</em>, <em>'MaggieFarm.wma'</em>, <em>'MaggieFarm.ogg')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Verifies usage metrics reports on button events.
Verifies SWPBL-45617 - improve time reported on events prior to wall clock</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_EXP_EVENTS">
<code class="descname">CAPACITIVE_EXP_EVENTS</code><em class="property"> = (('buttons', 'audio_type', 'none'), ('buttons', 'audio_type', 'music'), ('buttons', 'action', 'PLAY'), ('buttons', 'action', 'PAUSE'), ('buttons', 'action', 'VOLUME_UP'), ('buttons', 'action', 'VOLUME_DOWN'), ('buttons', 'action', 'NEXT_TRACK'), ('buttons', 'action', 'PREV_TRACK'), ('buttons', 'action', 'VOLUME_UP_REPEAT'), ('buttons', 'action', 'VOLUME_DOWN_REPEAT'), ('buttons', 'action', 'PLAYPAUSE'), ('buttons', 'new_volume', '1'), ('buttons', 'new_volume', '3'), ('buttons', 'new_volume', '5'), ('buttons', 'new_volume', '13'), ('buttons', 'new_volume', '16'), ('buttons', 'new_volume', '37'), ('buttons', 'original_volume', '1'), ('buttons', 'original_volume', '3'), ('buttons', 'original_volume', '5'), ('buttons', 'original_volume', '13'), ('buttons', 'original_volume', '17'), ('buttons', 'original_volume', '37'))</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_EXP_EVENTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_LOW_VOLUME_INCR_DECR">
<code class="descname">CAPACITIVE_LOW_VOLUME_INCR_DECR</code><em class="property"> = 2</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_LOW_VOLUME_INCR_DECR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_LOW_VOLUME_REPEAT_INCR">
<code class="descname">CAPACITIVE_LOW_VOLUME_REPEAT_INCR</code><em class="property"> = 2</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_LOW_VOLUME_REPEAT_INCR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_PLAYBACK_VOLUME_LEVEL">
<code class="descname">CAPACITIVE_PLAYBACK_VOLUME_LEVEL</code><em class="property"> = 17</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_PLAYBACK_VOLUME_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_VOLUME_INCR_DECR">
<code class="descname">CAPACITIVE_VOLUME_INCR_DECR</code><em class="property"> = 4</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_VOLUME_INCR_DECR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_VOLUME_REPEAT_INCR">
<code class="descname">CAPACITIVE_VOLUME_REPEAT_INCR</code><em class="property"> = 4</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.CAPACITIVE_VOLUME_REPEAT_INCR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.EXP_EVENTS">
<code class="descname">EXP_EVENTS</code><em class="property"> = (('buttons', 'audio_type', 'none'), ('buttons', 'audio_type', 'music'), ('buttons', 'action', 'PLAY'), ('buttons', 'action', 'PAUSE'), ('buttons', 'action', 'VOLUME_UP'), ('buttons', 'action', 'VOLUME_DOWN'), ('buttons', 'action', 'VOLUME_UP_REPEAT'), ('buttons', 'action', 'VOLUME_DOWN_REPEAT'), ('buttons', 'action', 'PLAYPAUSE'), ('buttons', 'new_volume', '1'), ('buttons', 'new_volume', '3'), ('buttons', 'new_volume', '9'), ('buttons', 'new_volume', '25'), ('buttons', 'original_volume', '1'), ('buttons', 'original_volume', '3'), ('buttons', 'original_volume', '9'), ('buttons', 'original_volume', '25'))</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.EXP_EVENTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.PLAYBACK_VOLUME_LEVEL">
<code class="descname">PLAYBACK_VOLUME_LEVEL</code><em class="property"> = 1</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.PLAYBACK_VOLUME_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.REPEAT_INCR">
<code class="descname">REPEAT_INCR</code><em class="property"> = 4</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.REPEAT_INCR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['BUTTONS_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.VOLUME_INCR_DECR">
<code class="descname">VOLUME_INCR_DECR</code><em class="property"> = 2</em><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.VOLUME_INCR_DECR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.button_reporting_zp_generator">
<code class="descname">button_reporting_zp_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting.button_reporting_zp_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.button_reporting_zp_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates unique play back devices with standard button interfaces</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A zp with a button interface</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.capacitive_button_reporting_zp_generator">
<code class="descname">capacitive_button_reporting_zp_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting.capacitive_button_reporting_zp_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.capacitive_button_reporting_zp_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates unique play back devices that have a cap touch interface</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A zp with a cap touch interface</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.confirm_transport_state">
<code class="descname">confirm_transport_state</code><span class="sig-paren">(</span><em>function</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting.confirm_transport_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.confirm_transport_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits until the passed in function returns True. Will time out after 10
seconds of waiting. At this point, it will mark a failure with the
reason set to the message passed in. Commonly used in test as a
wrapper to AVTransport is_playing() and is_paused()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>function</strong> – A function that returns a boolen</li>
<li><strong>message</strong> – The message to log when a failure is hit</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><p class="first last">obj:<cite>str</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.expected_volume_from_repeats">
<code class="descname">expected_volume_from_repeats</code><span class="sig-paren">(</span><em>base</em>, <em>repeats</em>, <em>steps</em>, <em>op=&lt;built-in function add&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting.expected_volume_from_repeats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.expected_volume_from_repeats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the expected volume from the requested button repeats.
Accepts a base volume level and computes the ending volume
level based on the number of step increment(s) and the number
of repeat(s). Assumes a volume increase.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>base</strong> (<em>int</em>) – Base volume.</li>
<li><strong>repeats</strong> (<em>int</em>) – Button repeats.</li>
<li><strong>steps</strong> (<em>int</em>) – Volume increment per repeat.</li>
<li><strong>op</strong> (<em>obj</em>) – Operation to perform - defaults to increase</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Integer volume level</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.min_ms_hold">
<code class="descname">min_ms_hold</code><span class="sig-paren">(</span><em>repeats</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting.min_ms_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.min_ms_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum number of ms to hold button to
honor the number of requested repeats.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>repeats</strong> (<em>int</em>) – Button repeats</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of ms to hold a button, given the number of repeats
requested</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.test_button_reporting">
<code class="descname">test_button_reporting</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting.test_button_reporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.test_button_reporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that button events are correctly reported with usage metrics</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – The zone player being set up</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.test_capacitive_button_reporting">
<code class="descname">test_capacitive_button_reporting</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting.test_capacitive_button_reporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.test_capacitive_button_reporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that cap touch events are correctly reported with usage metrics</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – The zone player being set up</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.volume_ctrl_with_repeat">
<code class="descname">volume_ctrl_with_repeat</code><span class="sig-paren">(</span><em>zp</em>, <em>repeat</em>, <em>incr</em>, <em>orig_volume_level</em>, <em>vol_down_str</em>, <em>vol_up_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting.volume_ctrl_with_repeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.volume_ctrl_with_repeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Spoofs a volume up change followed by a volume down. In both cases, it
verifies that the volume has changed by the correct amount, based on
the given number of button repeats expected.</p>
<p>– Note:
Repeat is recognized if a button is held for at least 340ms
&#64;340ms adds PLAYBACK_VOLUME_INCR to the level
every 160ms after adds PLAYBACK_VOLUME_INCR to the level
A hold of 500ms will increase the volume by 2X PLAYBACK_VOLUME_INCR</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – The zone player being set up</li>
<li><strong>repeat</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – The number of button repeats to generate</li>
<li><strong>incr</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Expected increase in volume per repeat</li>
<li><strong>orig_volume_level</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – The starting volume level</li>
<li><strong>vol_down_str</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – The log string to watch for on volume decrease</li>
<li><strong>vol_up_str</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>) – The log string to watch for on volume increase</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.button_events.TestButtonEventReporting.wait_on_rendering_ctrl_volume">
<code class="descname">wait_on_rendering_ctrl_volume</code><span class="sig-paren">(</span><em>zp</em>, <em>expected</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/button_events.html#TestButtonEventReporting.wait_on_rendering_ctrl_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.button_events.TestButtonEventReporting.wait_on_rendering_ctrl_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits 10 secs or until the the ZP’s volume reaches the
expected value passed in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – The zone player being set up</li>
<li><strong>expected</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – The volume level to wait for</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.chsrc_framed">
<span id="upnp-functional-reporting-chsrc-framed-module"></span><h2>upnp.functional.reporting.chsrc_framed module<a class="headerlink" href="#module-upnp.functional.reporting.chsrc_framed" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.chsrc_framed.</code><code class="descname">ChsrcFramedReportingTests</code><span class="sig-paren">(</span><em>parameterized_setup=False</em>, <em>require_audio=False</em>, <em>nas_audio_tracks=('MaggieFarm.mp3'</em>, <em>'MaggieFarm.wav'</em>, <em>'MaggieFarm.flac'</em>, <em>'MaggieFarm.aiff'</em>, <em>'MaggieFarm_HEAAC.mp4'</em>, <em>'MaggieFarm_ALAC.m4a'</em>, <em>'MaggieFarm_AAC.mp4'</em>, <em>'MaggieFarm.wma'</em>, <em>'MaggieFarm.ogg')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Test fixture to verify the Chsrc:framed events are being reported along with
the other events sent to the O_EVENTMETRICS_URL endpoint</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.HLS_RADIO">
<code class="descname">HLS_RADIO</code><em class="property"> = 'hls-aac://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/nonuk/sbr_vlow/ak/bbc_radio_one.m3u8'</em><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.HLS_RADIO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['CHSRC_FRAMED_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.local_unique_fenway_or_newer_players">
<code class="descname">local_unique_fenway_or_newer_players</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.local_unique_fenway_or_newer_players"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.local_unique_fenway_or_newer_players" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.local_unique_players">
<code class="descname">local_unique_players</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.local_unique_players"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.local_unique_players" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.play_tunein_stream">
<code class="descname">play_tunein_stream</code><span class="sig-paren">(</span><em>zp</em>, <em>station_metadata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.play_tunein_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.play_tunein_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Play the TuneIn stream given the station metadata
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
:param :obj: station_metadata: mediaMetadata from Sonos.wsdl</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the web server.
Make the event metrics URL override persistent.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.setup_add_uri_to_queue_and_play">
<code class="descname">setup_add_uri_to_queue_and_play</code><span class="sig-paren">(</span><em>zp</em>, <em>uri</em>, <em>md='&lt;DIDL-Lite&gt;&lt;/DIDL-Lite&gt;'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.setup_add_uri_to_queue_and_play"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.setup_add_uri_to_queue_and_play" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.setup_radio_stations">
<code class="descname">setup_radio_stations</code><span class="sig-paren">(</span><em>stations</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.setup_radio_stations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.setup_radio_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates a list comprised of the stations to be tested
:param tuple stations: Stations to search</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore usage metrics reporting URL, stop the twisted web server.
Clear AVT states on tested zones.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_basic_hls_radio_streaming">
<code class="descname">test_basic_hls_radio_streaming</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.test_basic_hls_radio_streaming"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_basic_hls_radio_streaming" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify basic HSL streaming is reported as HLS</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_basic_mp3_playback">
<code class="descname">test_basic_mp3_playback</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.test_basic_mp3_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_basic_mp3_playback" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify playing a basic mp3 file is reported as mp3</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_basic_smapi_playback">
<code class="descname">test_basic_smapi_playback</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.test_basic_smapi_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_basic_smapi_playback" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify basic SMAPI streaming reports contain a service ID (if available)</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_frame_cache_device_does_not_count_while_paused">
<code class="descname">test_frame_cache_device_does_not_count_while_paused</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.test_frame_cache_device_does_not_count_while_paused"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_frame_cache_device_does_not_count_while_paused" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that frame cache capable devices do not report time that was
spent in the paused state. A Play:1 will likly not be able to
buffer more than 2 seconds of track data in the milliseconds it
spends in the playing state. Verify that after 3 seconds of pause
it doesn’t report a fully buffered 10 second track.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_reported_time_no_longer_than_frames_in_track">
<code class="descname">test_reported_time_no_longer_than_frames_in_track</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.test_reported_time_no_longer_than_frames_in_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_reported_time_no_longer_than_frames_in_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify devices with &gt;=64mb of memory report a reasonable amount of buffered
audio that does not include frames cached while paused. This test runs specifically
against a Play:1 or an Encore.</p>
<p>Test track for this test is 10sec and 10005 frames. See core/src/sonos/resources/Music5.mp3</p>
<p>ZP80, ZP90SH4, and ZP100 report incorrect played milliseconds in this test. Decided to skip given players
are EoL - SWPBL-62633</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_tunein_chsrc_frame_events">
<code class="descname">test_tunein_chsrc_frame_events</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/chsrc_framed.html#ChsrcFramedReportingTests.test_tunein_chsrc_frame_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.chsrc_framed.ChsrcFramedReportingTests.test_tunein_chsrc_frame_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies the player generates chsrc:framed events
when playing TuneIn content - SWPBL-67076</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.diag_submit_reporting">
<span id="upnp-functional-reporting-diag-submit-reporting-module"></span><h2>upnp.functional.reporting.diag_submit_reporting module<a class="headerlink" href="#module-upnp.functional.reporting.diag_submit_reporting" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.diag_submit_reporting.</code><code class="descname">DiagSubmitReporting</code><a class="reference internal" href="_modules/upnp/functional/reporting/diag_submit_reporting.html#DiagSubmitReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Confirm the zone generates a reporting event
on diagnostic submit - SWPBL-56550</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['DIAG_SUBMIT_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/diag_submit_reporting.html#DiagSubmitReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/diag_submit_reporting.html#DiagSubmitReporting.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/diag_submit_reporting.html#DiagSubmitReporting.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.test_diagnostic_submit_report">
<code class="descname">test_diagnostic_submit_report</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/diag_submit_reporting.html#DiagSubmitReporting.test_diagnostic_submit_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.test_diagnostic_submit_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit report, save returned diagnostic, verify report
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code> zp: The DUT</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.verify_diag_submit_report">
<code class="descname">verify_diag_submit_report</code><span class="sig-paren">(</span><em>zp</em>, <em>diag_rpt</em>, <em>exp_diag_rpt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/diag_submit_reporting.html#DiagSubmitReporting.verify_diag_submit_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.verify_diag_submit_report" title="Permalink to this definition">¶</a></dt>
<dd><p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code> zp: The DUT
:param namedtyple diag_rpt: Named tuple with values from zone report
:param namedtyple exp_diag_rpt: Named tuple with expected values to
compare from received report</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.zone_generator">
<code class="descname">zone_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/diag_submit_reporting.html#DiagSubmitReporting.zone_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.diag_submit_reporting.DiagSubmitReporting.zone_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.event_reporting">
<span id="upnp-functional-reporting-event-reporting-module"></span><h2>upnp.functional.reporting.event_reporting module<a class="headerlink" href="#module-upnp.functional.reporting.event_reporting" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.event_reporting.EventReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.event_reporting.</code><code class="descname">EventReporting</code><span class="sig-paren">(</span><em>parameterized_setup=False</em>, <em>require_audio=False</em>, <em>nas_audio_tracks=('MaggieFarm.mp3'</em>, <em>'MaggieFarm.wav'</em>, <em>'MaggieFarm.flac'</em>, <em>'MaggieFarm.aiff'</em>, <em>'MaggieFarm_HEAAC.mp4'</em>, <em>'MaggieFarm_ALAC.m4a'</em>, <em>'MaggieFarm_AAC.mp4'</em>, <em>'MaggieFarm.wma'</em>, <em>'MaggieFarm.ogg')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.workflow.fixture.WorkflowTestFixture</span></code></p>
<p>Base class that implements common methods in the event reporting
suites.</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.BUTTONS_DIAG_LEVEL">
<code class="descname">BUTTONS_DIAG_LEVEL</code><em class="property"> = 'buttons'</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.BUTTONS_DIAG_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.CHSRC_DIAG_LEVEL">
<code class="descname">CHSRC_DIAG_LEVEL</code><em class="property"> = 'chsrc'</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.CHSRC_DIAG_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.DEFAULT_TEMPERATURE_REPORT_INTERVAL">
<code class="descname">DEFAULT_TEMPERATURE_REPORT_INTERVAL</code><em class="property"> = 1</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.DEFAULT_TEMPERATURE_REPORT_INTERVAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.EVENTMETRICS_URL_OVERRIDE_NAME">
<code class="descname">EVENTMETRICS_URL_OVERRIDE_NAME</code><em class="property"> = 'O_EVENTMETRICS_URL'</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.EVENTMETRICS_URL_OVERRIDE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.EVENTMETRICS_URL_OVERRIDE_VALUE">
<code class="descname">EVENTMETRICS_URL_OVERRIDE_VALUE</code><em class="property"> = 'http://{}/metrics'</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.EVENTMETRICS_URL_OVERRIDE_VALUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.FLUSH_EVENTS_DIAG_LEVEL">
<code class="descname">FLUSH_EVENTS_DIAG_LEVEL</code><em class="property"> = 'zonereportmgr'</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.FLUSH_EVENTS_DIAG_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.REPORTING_DIAG_LEVEL">
<code class="descname">REPORTING_DIAG_LEVEL</code><em class="property"> = 'reporting'</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.REPORTING_DIAG_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.REPORTING_INTERVAL_MSG">
<code class="descname">REPORTING_INTERVAL_MSG</code><em class="property"> = 'Initializing reporting interval to'</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.REPORTING_INTERVAL_MSG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.TEMPERATURE_REPORT_URL_OVERRIDE_NAME">
<code class="descname">TEMPERATURE_REPORT_URL_OVERRIDE_NAME</code><em class="property"> = 'O_TEMPERATURE_REPORTING_INTERVAL'</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.TEMPERATURE_REPORT_URL_OVERRIDE_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>Defined in all/oc/zone/zoneplayer/zp.cxx
as DEFAULT_TEMPERATURE_REPORTING_INTERVAL_STRING</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.USAGE_METRICS_DIAG_LEVEL">
<code class="descname">USAGE_METRICS_DIAG_LEVEL</code><em class="property"> = 'usagemetrics'</em><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.USAGE_METRICS_DIAG_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.clear_watch_str_list">
<code class="descname">clear_watch_str_list</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.clear_watch_str_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.clear_watch_str_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Un-registers all watch strings from  UDP logger for the device</p>
<p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
The zone component under test.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.collect_perf_counters">
<code class="descname">collect_perf_counters</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.collect_perf_counters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.collect_perf_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect performance counters from zp
:param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.flush_and_wait_for_events">
<code class="descname">flush_and_wait_for_events</code><span class="sig-paren">(</span><em>zp</em>, <em>timeout_seconds=15</em>, <em>report_type=&lt;PlayerReports.USAGE_REPORT: 'UsageMetrics'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.flush_and_wait_for_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.flush_and_wait_for_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Captures the internal depth of events that were captured from
the player, flushes the player’s event buffer and waits for
at least one event report of the specified type to be received.
Defaults to wait for usage metrics report.
Returns True if the report type has been received, False if the
specified timeout has been exceeded.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code> zp:
:param int timeout_seconds: Maximum number of seconds to wait
for player to send event report
:param: class:<cite>PlayerReports</cite> report_type: Report
:return: True if received event else False
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.flush_event_report">
<code class="descname">flush_event_report</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.flush_event_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.flush_event_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to force upload the event metrics report
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code> zp: The DUT</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.get_nas_audio_content">
<code class="descname">get_nas_audio_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.get_nas_audio_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.get_nas_audio_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches audio content from NAS</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.queue_audio_tracks">
<code class="descname">queue_audio_tracks</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.queue_audio_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.queue_audio_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Queues local audio content on player</p>
<p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
:return: Number of tracks in play queue
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.register_diag">
<code class="descname">register_diag</code><span class="sig-paren">(</span><em>zp</em>, <em>watch_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.register_diag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.register_diag" title="Permalink to this definition">¶</a></dt>
<dd><p>Activates a watch in the UDP logger to match the specified string.</p>
<p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
The zone component under test.
:param str watch_str: The string in the diagnostic to match.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.remove_audio_content">
<code class="descname">remove_audio_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.remove_audio_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.remove_audio_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes local audio content</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tracks</strong> (<em>list</em>) – List of track names</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.restore_tracking_mode">
<code class="descname">restore_tracking_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.restore_tracking_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.restore_tracking_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the UMTracking system properties variable to
its original value. If the value did not exist, it removes
the UMTracking variable from the system properties.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.save_tracking_mode">
<code class="descname">save_tracking_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.save_tracking_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.save_tracking_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the UMTracking value if it exists</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the web server.
Make the event metrics URL override persistent.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.set_diag_level">
<code class="descname">set_diag_level</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.set_diag_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.set_diag_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the diagnostic logging level.</p>
<p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
The zone component under test.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.spoof_buttons">
<code class="descname">spoof_buttons</code><span class="sig-paren">(</span><em>zp</em>, <em>function</em>, <em>watch_str</em>, <em>hold_time=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.spoof_buttons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.spoof_buttons" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to spoof buttons.</p>
<p>:param obj zp:<cite>sonos.client.internal.SonosZoneComponent</cite>
:param obj function:<cite>object</cite>
:param str watch_str: Diagnostic to monitor for track change
:param int hold_time: Number of milliseconds to hold button.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.spoof_track">
<code class="descname">spoof_track</code><span class="sig-paren">(</span><em>zp</em>, <em>change</em>, <em>watch_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.spoof_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.spoof_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to spoof a next/previous track.</p>
<p>:param obj zp:<cite>sonos.client.internal.SonosZoneComponent</cite>
:param str change: String ‘next’ or ‘previous’
:param str watch_str: Diagnostic to monitor for track change</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.start_queue_playback">
<code class="descname">start_queue_playback</code><span class="sig-paren">(</span><em>zp</em>, <em>track_to_play='random'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.start_queue_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.start_queue_playback" title="Permalink to this definition">¶</a></dt>
<dd><p>Queues tracks and starts playback in REPEAT mode</p>
<p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
:param int track_to_play: Either a track number or random string</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.start_web_audio_server">
<code class="descname">start_web_audio_server</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.start_web_audio_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.start_web_audio_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts serving local audio content</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.stop_web_audio_content">
<code class="descname">stop_web_audio_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.stop_web_audio_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.stop_web_audio_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops serving local audio content</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore usage metrics reporting URL, stop the twisted web server.
Clear AVT states on tested zones.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.temperature_report_override">
<code class="descname">temperature_report_override</code><span class="sig-paren">(</span><em>zp</em>, <em>interval=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.temperature_report_override"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.temperature_report_override" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the zone, override or restore the zone’s temperature
reporting interval.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
:param int interval: The reporting interval in 5 second units</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.verify_continuous_playing_state">
<code class="descname">verify_continuous_playing_state</code><span class="sig-paren">(</span><em>zp</em>, <em>continuous_playing_sec=5.0</em>, <em>transition_to_playing_sec=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.verify_continuous_playing_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.verify_continuous_playing_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the play state remains PLAYING on zone player during the
required continuous playing interval. Fails test when zone player
transitions out of the PLAYING_STATE during the sampling period.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
The zone player under test
:param float continuous_playing_sec: The number of continuous seconds
to remain in PLAYING_STATE
:param float transition_to_playing_sec: The number of seconds before
sampling the state</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.verify_events_in_reports">
<code class="descname">verify_events_in_reports</code><span class="sig-paren">(</span><em>events</em>, <em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.verify_events_in_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.verify_events_in_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether the events are present in the
usage metrics reports.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>events</strong> (<em>tuple</em>) – Events to be verified</td>
</tr>
</tbody>
</table>
<p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code> zp: The DUT</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.verify_relative_events_in_reports">
<code class="descname">verify_relative_events_in_reports</code><span class="sig-paren">(</span><em>events</em>, <em>ip</em>, <em>operator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.verify_relative_events_in_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.verify_relative_events_in_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether the events are present in the
usage metrics reports. This allows an operator to be
used for comparison in case the key’s values are not
exactly known.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>events</strong> (<em>tuple</em>) – Events to be verified</li>
<li><strong>ip</strong> (<em>str</em>) – Internet address of device</li>
<li><strong>operator</strong> (<em>obj</em>) – Operator</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.wait_for_name_in_reports">
<code class="descname">wait_for_name_in_reports</code><span class="sig-paren">(</span><em>ip</em>, <em>name</em>, <em>timeout_seconds=60</em>, <em>count=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.wait_for_name_in_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.wait_for_name_in_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for the specified name in the metrics report.
:param str ip: Zone IP address
:param str name: The name of the field in the metrics report
:param int timeout_seconds: Maximum time in seconds to wait
for report arrival.
:param int count: The number of name reports expected to match or
exceed this count.
:return: True if the count of name report(s) received from specified
zone IP matches or exceeeds the expected count.
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.wait_for_report">
<code class="descname">wait_for_report</code><span class="sig-paren">(</span><em>ip</em>, <em>report_type=&lt;PlayerReports.CONFIG_REPORT: 'PlayerConfigReport'&gt;</em>, <em>timeout_seconds=90</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.wait_for_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.wait_for_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for the specified report to arrive from zone using the
specified IP address.
:param str ip: Zone IP address
:param str report_type: Report to wait - default ‘PlayerConfigReport’
:param int timeout_seconds: Maximum time in seconds to wait
for report arrival.
:return: True if report received from specified zone IP
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.wait_for_reporting_subsystem">
<code class="descname">wait_for_reporting_subsystem</code><span class="sig-paren">(</span><em>zp</em>, <em>timeout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.wait_for_reporting_subsystem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.wait_for_reporting_subsystem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.wait_for_reporting_subsystems">
<code class="descname">wait_for_reporting_subsystems</code><span class="sig-paren">(</span><em>zones</em>, <em>timeout_seconds=90</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.wait_for_reporting_subsystems"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.wait_for_reporting_subsystems" title="Permalink to this definition">¶</a></dt>
<dd><p>For a given list of zones, wait until all zones have initialized
their respective reporting subsystems.
Returns True when all zones have initialized, else False.
:param list zones: List of zones to wait
:param int timeout_seconds: Maximum time in seconds to wait for
all zones to initialize
:return: Have the zones initialized reporting ?
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.wait_on_diag">
<code class="descname">wait_on_diag</code><span class="sig-paren">(</span><em>timeout_seconds=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.wait_on_diag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.wait_on_diag" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits on the diagnostic to be received from the player.
Returns True when diagnostic received or False when the
wait time is exceeded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout_seconds</strong> (<em>int</em>) – Maximum number of seconds to wait.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if diagnostic received else False</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.event_reporting.EventReporting.watch_diag">
<code class="descname">watch_diag</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/event_reporting.html#EventReporting.watch_diag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.event_reporting.EventReporting.watch_diag" title="Permalink to this definition">¶</a></dt>
<dd><p>Call back when UDP logger detects message string match.
:param str msg: Diagnostic string.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.group_chsnk_events">
<span id="upnp-functional-reporting-group-chsnk-events-module"></span><h2>upnp.functional.reporting.group_chsnk_events module<a class="headerlink" href="#module-upnp.functional.reporting.group_chsnk_events" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.group_chsnk_events.</code><code class="descname">GroupChsnkEventReporting</code><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Group &amp; channel sink event reporting
Verifies SWPBL-93128 zpGrouping event reports
Verifies SWPBL-96147 chsnk_framed event reports</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['GROUP_CHSNK_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.confirm_framer_type">
<code class="descname">confirm_framer_type</code><span class="sig-paren">(</span><em>actual</em>, <em>expected</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.confirm_framer_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.confirm_framer_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the actual framer the player reports
:param str actual: The actual framer reported by player
:param str expected: The expected framer</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.confirm_playback_on_gc">
<code class="descname">confirm_playback_on_gc</code><span class="sig-paren">(</span><em>gc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.confirm_playback_on_gc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.confirm_playback_on_gc" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirms zone player AVTtransport state is PLAYING, switches to next
track to force a chsnk report.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> gc:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.generate_group_config">
<code class="descname">generate_group_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.generate_group_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.generate_group_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the unique playback devices and the desired
group size, yield all combinations to test the quick GC hand-off.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.harvest_name_reports">
<code class="descname">harvest_name_reports</code><span class="sig-paren">(</span><em>zp</em>, <em>report_name</em>, <em>expected_name_reports</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.harvest_name_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.harvest_name_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of dictionaries of reports received from the zone player
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> gm:
:param str report_name: The event name
:param dict expected_name_reports: A dictionary mapping of expected
name reports per zone player.
:return: A list of dictionaries of specified reports
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.play_and_pause_line_in_source">
<code class="descname">play_and_pause_line_in_source</code><span class="sig-paren">(</span><em>gc</em>, <em>line_in_zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.play_and_pause_line_in_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.play_and_pause_line_in_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Playing line-in on the GC should generate a ChangeTransport event
The compressed mode assures that the chsnk framer reports the framer
type as ‘sbc’
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> gc:
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> line_in_zp:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the web server.
Make the event metrics URL override persistent.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>group_cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore usage metrics reporting URL, stop the twisted web server.
Clear AVT states on tested zones.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>group_cfg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.test_grouping_event_reports">
<code class="descname">test_grouping_event_reports</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.test_grouping_event_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.test_grouping_event_reports" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple">
<li>Start playback on GC X</li>
<li>Group players to GC</li>
</ol>
<p>3. Confirm playback on GC X
3(a). Next track on GC X
3(b). Confirm playback on GC X
4. Delegate to GC Y
5. Confirm playback on GC Y
5(a). Next track on GC Y
5(b). Confirm playback on GC Y
6. Play line-in on GC Y
7. Remove players from group
8. Verify reports from all players
:param <a class="reference internal" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig" title="upnp.functional.reporting.group_chsnk_events.GroupConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupConfig</span></code></a> group_cfg:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_chsnk_report_on_gm">
<code class="descname">verify_chsnk_report_on_gm</code><span class="sig-paren">(</span><em>gm</em>, <em>group_cfg</em>, <em>event_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.verify_chsnk_report_on_gm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_chsnk_report_on_gm" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the chsnk report on grouped member
:param <a class="reference internal" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig" title="upnp.functional.reporting.group_chsnk_events.GroupConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupConfig</span></code></a> group_cfg:
:param dict event_dict: Dictionary of events per zone player</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_chsnk_report_on_new_gc">
<code class="descname">verify_chsnk_report_on_new_gc</code><span class="sig-paren">(</span><em>group_cfg</em>, <em>event_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.verify_chsnk_report_on_new_gc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_chsnk_report_on_new_gc" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify chsnk framed report on new GC
:param <a class="reference internal" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig" title="upnp.functional.reporting.group_chsnk_events.GroupConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupConfig</span></code></a> group_cfg:
:param dict event_dict: Dictionary of events per zone player</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_chsnk_report_on_old_gc">
<code class="descname">verify_chsnk_report_on_old_gc</code><span class="sig-paren">(</span><em>group_cfg</em>, <em>event_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.verify_chsnk_report_on_old_gc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_chsnk_report_on_old_gc" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify chsnk report on old GC
1. The framer type on chsnk should match the framer type
reported in chsrc report
2. Old GC should report isGC in chsnk
3. The GC UUID should match the GC’s raw UDN
:param <a class="reference internal" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig" title="upnp.functional.reporting.group_chsnk_events.GroupConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupConfig</span></code></a> group_cfg:
:param dict event_dict: Dictionary of events per zone player</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_grouping_report_on_member">
<code class="descname">verify_grouping_report_on_member</code><span class="sig-paren">(</span><em>group_cfg</em>, <em>gm</em>, <em>zps_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.verify_grouping_report_on_member"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_grouping_report_on_member" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify zpGrouping report from member.
:param <a class="reference internal" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig" title="upnp.functional.reporting.group_chsnk_events.GroupConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupConfig</span></code></a> group_cfg:
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> gm:
:param dict zps_dict: Dictionary of zpGrouping events with
zone player as key</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_grouping_report_on_new_gc">
<code class="descname">verify_grouping_report_on_new_gc</code><span class="sig-paren">(</span><em>group_cfg</em>, <em>zps_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.verify_grouping_report_on_new_gc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_grouping_report_on_new_gc" title="Permalink to this definition">¶</a></dt>
<dd><p>Before the player is delegated to assume the role of a GC,
the player first joins the group as a member.
Verify the grouping report on new GC.
:param <a class="reference internal" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig" title="upnp.functional.reporting.group_chsnk_events.GroupConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupConfig</span></code></a> group_cfg:
:param dict zps_dict: Dictionary of zpGrouping events with
zone player as key</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_grouping_report_on_old_gc">
<code class="descname">verify_grouping_report_on_old_gc</code><span class="sig-paren">(</span><em>group_cfg</em>, <em>zps_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupChsnkEventReporting.verify_grouping_report_on_old_gc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupChsnkEventReporting.verify_grouping_report_on_old_gc" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify zpGrouping report from old GC
:param <a class="reference internal" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig" title="upnp.functional.reporting.group_chsnk_events.GroupConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupConfig</span></code></a> group_cfg:
:param dict zps_dict: Dictionary of zpGrouping events with
zone player as key</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupConfig">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.group_chsnk_events.</code><code class="descname">GroupConfig</code><span class="sig-paren">(</span><em>group</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class which describes the grouped players</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupConfig.all_zps">
<code class="descname">all_zps</code><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig.all_zps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupConfig.gms">
<code class="descname">gms</code><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig.gms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupConfig.newGC">
<code class="descname">newGC</code><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig.newGC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupConfig.oldGC">
<code class="descname">oldGC</code><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig.oldGC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.group_chsnk_events.GroupConfig.remove_gm">
<code class="descname">remove_gm</code><span class="sig-paren">(</span><em>gm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#GroupConfig.remove_gm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.GroupConfig.remove_gm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="upnp.functional.reporting.group_chsnk_events.ReportNames">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.group_chsnk_events.</code><code class="descname">ReportNames</code><a class="reference internal" href="_modules/upnp/functional/reporting/group_chsnk_events.html#ReportNames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.ReportNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">custom_enums.StringEnum</span></code></p>
<dl class="attribute">
<dt id="upnp.functional.reporting.group_chsnk_events.ReportNames.CHSNK_FRAMED">
<code class="descname">CHSNK_FRAMED</code><em class="property"> = 'chsnk_framed'</em><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.ReportNames.CHSNK_FRAMED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.group_chsnk_events.ReportNames.CHSRC_FRAMED">
<code class="descname">CHSRC_FRAMED</code><em class="property"> = 'chsrc:framed'</em><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.ReportNames.CHSRC_FRAMED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.group_chsnk_events.ReportNames.ZP_GROUPING">
<code class="descname">ZP_GROUPING</code><em class="property"> = 'zpGrouping'</em><a class="headerlink" href="#upnp.functional.reporting.group_chsnk_events.ReportNames.ZP_GROUPING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.ht_events">
<span id="upnp-functional-reporting-ht-events-module"></span><h2>upnp.functional.reporting.ht_events module<a class="headerlink" href="#module-upnp.functional.reporting.ht_events" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.ht_events.</code><code class="descname">HTEventReporting</code><a class="reference internal" href="_modules/upnp/functional/reporting/ht_events.html#HTEventReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Event reporting tests using home theater (HT) configurations.</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.PLAYBACK_VOLUME_LEVEL">
<code class="descname">PLAYBACK_VOLUME_LEVEL</code><em class="property"> = 1</em><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.PLAYBACK_VOLUME_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['HT_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.VOLUME_INCR_DECR">
<code class="descname">VOLUME_INCR_DECR</code><em class="property"> = 2</em><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.VOLUME_INCR_DECR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.confirm_audio_type_in_report">
<code class="descname">confirm_audio_type_in_report</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/ht_events.html#HTEventReporting.confirm_audio_type_in_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.confirm_audio_type_in_report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.do_vol_up_down">
<code class="descname">do_vol_up_down</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/ht_events.html#HTEventReporting.do_vol_up_down"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.do_vol_up_down" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.ht_satellite_players_generator">
<code class="descname">ht_satellite_players_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/ht_events.html#HTEventReporting.ht_satellite_players_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.ht_satellite_players_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>We would like to use the
generate_testbed_ht_master_satellite_capable_devices
method, but that one has a bug SWPBL-65355.
Inverting the sub-generators, attains the expected
combinations.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/ht_events.html#HTEventReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>ht_master</em>, <em>zp_l</em>, <em>zp_r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/ht_events.html#HTEventReporting.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Executed once prior to beginning of test</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>ht_master</em>, <em>zp_l</em>, <em>zp_r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/ht_events.html#HTEventReporting.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Executed once following the end of a test</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.ht_events.HTEventReporting.test_ht_sat_sub_configuration">
<code class="descname">test_ht_sat_sub_configuration</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/ht_events.html#HTEventReporting.test_ht_sat_sub_configuration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.ht_events.HTEventReporting.test_ht_sat_sub_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Spoof button events in HT configuration and confirm
event reporting from HT master and satellites.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.orientation_events">
<span id="upnp-functional-reporting-orientation-events-module"></span><h2>upnp.functional.reporting.orientation_events module<a class="headerlink" href="#module-upnp.functional.reporting.orientation_events" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.orientation_events.</code><code class="descname">TestOrientationEventReporting</code><span class="sig-paren">(</span><em>parameterized_setup=False</em>, <em>require_audio=False</em>, <em>nas_audio_tracks=('MaggieFarm.mp3'</em>, <em>'MaggieFarm.wav'</em>, <em>'MaggieFarm.flac'</em>, <em>'MaggieFarm.aiff'</em>, <em>'MaggieFarm_HEAAC.mp4'</em>, <em>'MaggieFarm_ALAC.m4a'</em>, <em>'MaggieFarm_AAC.mp4'</em>, <em>'MaggieFarm.wma'</em>, <em>'MaggieFarm.ogg')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/orientation_events.html#TestOrientationEventReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Orientation based event reporting tests.
The tests verify the player reports in the usage metrics report
the expected orientation.
Applicable to players which support orientation sensing.</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.ENCORE_ORIENTATION_EVENTS">
<code class="descname">ENCORE_ORIENTATION_EVENTS</code><em class="property"> = {'horizontal': 'HORIZONTAL', 'left': 'VERTICAL_TAG_LEFT', 'right': 'VERTICAL_TAG_RIGHT'}</em><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.ENCORE_ORIENTATION_EVENTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.S3_ORIENTATION_EVENTS">
<code class="descname">S3_ORIENTATION_EVENTS</code><em class="property"> = {'horizontal': 'HORIZONTAL', 'vertical': 'VERTICAL_TAG_LEFT'}</em><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.S3_ORIENTATION_EVENTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.S9_ORIENTATION_EVENTS">
<code class="descname">S9_ORIENTATION_EVENTS</code><em class="property"> = {'table': 'HORIZONTAL', 'wall-above': 'VERTICAL_ABOVE', 'wall-below': 'VERTICAL_BELOW'}</em><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.S9_ORIENTATION_EVENTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['ORIENTATION_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd><p>Orientation mapping with expected diagnostic upon orientation set.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.encore_orientation_reporting_zp_vector">
<code class="descname">encore_orientation_reporting_zp_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/orientation_events.html#TestOrientationEventReporting.encore_orientation_reporting_zp_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.encore_orientation_reporting_zp_vector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.encore_orientation_test">
<code class="descname">encore_orientation_test</code><span class="sig-paren">(</span><em>zp</em>, <em>orientation</em>, <em>orientation_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/orientation_events.html#TestOrientationEventReporting.encore_orientation_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.encore_orientation_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.orientation_reporting_zp_vector">
<code class="descname">orientation_reporting_zp_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/orientation_events.html#TestOrientationEventReporting.orientation_reporting_zp_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.orientation_reporting_zp_vector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.orientation_test">
<code class="descname">orientation_test</code><span class="sig-paren">(</span><em>zp</em>, <em>orientation</em>, <em>orientation_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/orientation_events.html#TestOrientationEventReporting.orientation_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.orientation_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/orientation_events.html#TestOrientationEventReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the web server.
Make the event metrics URL override persistent.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.test_encore_orientation_reporting">
<code class="descname">test_encore_orientation_reporting</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/orientation_events.html#TestOrientationEventReporting.test_encore_orientation_reporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.test_encore_orientation_reporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to “natural” orientation - detect
Get the orientation - left, right, horizontal</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.test_orientation_reporting">
<code class="descname">test_orientation_reporting</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/orientation_events.html#TestOrientationEventReporting.test_orientation_reporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.test_orientation_reporting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.orientation_events.TestOrientationEventReporting.test_s9_orientation_while_playing">
<code class="descname">test_s9_orientation_while_playing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/orientation_events.html#TestOrientationEventReporting.test_s9_orientation_while_playing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.orientation_events.TestOrientationEventReporting.test_s9_orientation_while_playing" title="Permalink to this definition">¶</a></dt>
<dd><p>On playbar orientation changes while playing are ignored.
Note that spoofing a new orientation using the
cli.set_device_orientation() is avoided since the device won’t
change orientation and the method will attempt to confirm the
change which will never happen.
Initially set the device to its natural orientation by sensing detect.
Go through the remaining orientation permutations and confirm the device
ignores spoofed orientations while playing. Confirm no orientation events
while in play mode.
While in pause state confirm the device honors the last spoofed orientation.
Confirm the last orientation event is received.
On exit restore the device’s orientation to sense detect.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.player_config_reporting">
<span id="upnp-functional-reporting-player-config-reporting-module"></span><h2>upnp.functional.reporting.player_config_reporting module<a class="headerlink" href="#module-upnp.functional.reporting.player_config_reporting" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.player_config_reporting.PlayerConfigReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.player_config_reporting.</code><code class="descname">PlayerConfigReporting</code><span class="sig-paren">(</span><em>parameterized_setup=False</em>, <em>require_audio=False</em>, <em>nas_audio_tracks=('MaggieFarm.mp3'</em>, <em>'MaggieFarm.wav'</em>, <em>'MaggieFarm.flac'</em>, <em>'MaggieFarm.aiff'</em>, <em>'MaggieFarm_HEAAC.mp4'</em>, <em>'MaggieFarm_ALAC.m4a'</em>, <em>'MaggieFarm_AAC.mp4'</em>, <em>'MaggieFarm.wma'</em>, <em>'MaggieFarm.ogg')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/player_config_reporting.html#PlayerConfigReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.player_config_reporting.PlayerConfigReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Players report configration once at anacapad start.
Verify report is received and contains the expected fields.
Commensurate JIRA SWBPL-51584 - collection manager reporting</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['PLAYER_CONFIG_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/player_config_reporting.html#PlayerConfigReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Reboot the playback devices under test and save all the reports
from the players for post analysis.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.test_player_config_report">
<code class="descname">test_player_config_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/player_config_reporting.html#PlayerConfigReporting.test_player_config_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.test_player_config_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for the player configuration report to be received
from all test players. Verifies each report.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.verify_hdmi_content">
<code class="descname">verify_hdmi_content</code><span class="sig-paren">(</span><em>cfg_rpt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/player_config_reporting.html#PlayerConfigReporting.verify_hdmi_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.verify_hdmi_content" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.verify_player_config_report">
<code class="descname">verify_player_config_report</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/player_config_reporting.html#PlayerConfigReporting.verify_player_config_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.player_config_reporting.PlayerConfigReporting.verify_player_config_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Access the player configuration report and verify
the report contains the expected fields.
:param obj zp:<cite>sonos.client.internal.SonosZoneComponent</cite></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.spotify_track_play_reporting">
<span id="upnp-functional-reporting-spotify-track-play-reporting-module"></span><h2>upnp.functional.reporting.spotify_track_play_reporting module<a class="headerlink" href="#module-upnp.functional.reporting.spotify_track_play_reporting" title="Permalink to this headline">¶</a></h2>
<p>This test suite is hard-coded to use a premium Spotify account with a specifc album.
Please make sure that this type of account set up on the controller before running the suite.</p>
<p>QA Test Account Username        sonosSpotify6
QA Test Account Password        sonos6</p>
<p>Album: Dopamine
Artist: BORNS</p>
<p>This test suite covers the trackPlayReporting mechanism currently visible via the ‘spot’ module in the
anacapad.trace log file. This behavior being tested here is current as of 12/22/2015.
There does not seem tp exist any kind of documentation on the reporting requirements.
As far as I can tell, the player is reporting total seconds played after a track is over,
with the total time clamped to the track’s total length. There doesn’t seem top be any kind of requirement
on how fast we should report after a track, other then as fast as possible.</p>
<dl class="class">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.spotify_track_play_reporting.</code><code class="descname">SpotifyTrackPlayReporting</code><span class="sig-paren">(</span><em>fixture_name=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.workflow.fixture.WorkflowTestFixture</span></code></p>
<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, before all tests are run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per fixture, after all tests are run</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_full_track_reported_accurately">
<code class="descname">test_full_track_reported_accurately</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_full_track_reported_accurately"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_full_track_reported_accurately" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player reports the correct time of playback when a track transitions naturally through the
Sonos queue.</p>
<p>Expected: Player should report the full duration of the track</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_no_report_while_track_plays">
<code class="descname">test_no_report_while_track_plays</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_no_report_while_track_plays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_no_report_while_track_plays" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the SMAPI setPlayedSeconds call is not sent to the server before the track has finished
playing (setPlayedSeconds should NOT report based on buffered audio, only on audio listened to).</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_partial_track_reported_accurately">
<code class="descname">test_partial_track_reported_accurately</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_partial_track_reported_accurately"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_partial_track_reported_accurately" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player accurately reports the amount of time a track played when a transition happens
before the track’s natural end. This simulates the user skipping part way through the track.</p>
<p>Expected: Player should only report the amount of time the track played.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_report_on_reboot">
<code class="descname">test_report_on_reboot</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_report_on_reboot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_report_on_reboot" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify a player sends the setPlayedSeconds call when anacapa is shutdown cleanly. The report should contain
the total play time of the track.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_scrub_forwards_within_track">
<code class="descname">test_scrub_forwards_within_track</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_scrub_forwards_within_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_scrub_forwards_within_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player accurately reports the amount of time listened when the user scrubs forwards
through a track and doesn’t listen to all of it.</p>
<p>Expected: Player should report the total amount of time that was actually heard by the user.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_scrubbing_backwards_within_a_track">
<code class="descname">test_scrubbing_backwards_within_a_track</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_scrubbing_backwards_within_a_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_scrubbing_backwards_within_a_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player accurately reports the amount of time listened when the user scrubs backwards
to hear part of a track twice.</p>
<p>Expected: Player should report the total amount of time that was actually heard by the user.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_skip_backwards_while_paused">
<code class="descname">test_skip_backwards_while_paused</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_skip_backwards_while_paused"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_skip_backwards_while_paused" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player sends the setPlaySeconds call when the user skips to a new track while paused. The
report should contain the play time of the skipped track.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_skip_backwards_while_playing">
<code class="descname">test_skip_backwards_while_playing</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_skip_backwards_while_playing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_skip_backwards_while_playing" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player sends the setPlaySeconds call when the user skips to a different track while playing.
The report should contain the play time of the skipped track.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_skip_forwards_while_paused">
<code class="descname">test_skip_forwards_while_paused</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_skip_forwards_while_paused"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_skip_forwards_while_paused" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player sends the setPlaySeconds call when the user skips to a new track while paused. The
report should contain the play time of the skipped track.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_skip_forwards_while_playing">
<code class="descname">test_skip_forwards_while_playing</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/spotify_track_play_reporting.html#SpotifyTrackPlayReporting.test_skip_forwards_while_playing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.spotify_track_play_reporting.SpotifyTrackPlayReporting.test_skip_forwards_while_playing" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player sends the setPlaySeconds call when the user skips to a different track while playing.
The report should contain the play time of the skipped track.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.system_api_reporting">
<span id="upnp-functional-reporting-system-api-reporting-module"></span><h2>upnp.functional.reporting.system_api_reporting module<a class="headerlink" href="#module-upnp.functional.reporting.system_api_reporting" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.system_api_reporting.SystemApiReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.system_api_reporting.</code><code class="descname">SystemApiReporting</code><span class="sig-paren">(</span><em>parameterized_setup=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/system_api_reporting.html#SystemApiReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.system_api_reporting.SystemApiReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.workflow.fixture.WorkflowTestFixture</span></code></p>
<p>Base class that implements common methods in the System-API event reporting
suites.</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.system_api_reporting.SystemApiReporting.MUSIC_SERVICE_URL_OVERRIDE_NAME">
<code class="descname">MUSIC_SERVICE_URL_OVERRIDE_NAME</code><em class="property"> = 'O_MUSIC_SERVICE_URL'</em><a class="headerlink" href="#upnp.functional.reporting.system_api_reporting.SystemApiReporting.MUSIC_SERVICE_URL_OVERRIDE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.system_api_reporting.SystemApiReporting.MUSIC_SERVICE_URL_OVERRIDE_VALUE">
<code class="descname">MUSIC_SERVICE_URL_OVERRIDE_VALUE</code><em class="property"> = 'http://{}/system-api'</em><a class="headerlink" href="#upnp.functional.reporting.system_api_reporting.SystemApiReporting.MUSIC_SERVICE_URL_OVERRIDE_VALUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.system_api_reporting.SystemApiReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/system_api_reporting.html#SystemApiReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.system_api_reporting.SystemApiReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the web server.
Make the event metrics URL override persistent.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.system_api_reporting.SystemApiReporting.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/system_api_reporting.html#SystemApiReporting.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.system_api_reporting.SystemApiReporting.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore usage metrics reporting URL, stop the twisted web server.
Clear AVT states on tested zones.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.temperature_events">
<span id="upnp-functional-reporting-temperature-events-module"></span><h2>upnp.functional.reporting.temperature_events module<a class="headerlink" href="#module-upnp.functional.reporting.temperature_events" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.temperature_events.</code><code class="descname">TestTemperatureEventReporting</code><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Temperature based event reporting tests.
Applicable to zone components that support temperature sensor.
Performs temperature tests using the spoofing interface and
verifies the zone component reports the expected values in
the usage metrics report.
Add local content playback during temperature reporting
to make sure the player reports the events on released
builds (SWPBL-87362).</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.AMP_TEMPERATURE_MODELS">
<code class="descname">AMP_TEMPERATURE_MODELS</code><em class="property"> = ('S6', 'S11', 'S9', 'S14')</em><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.AMP_TEMPERATURE_MODELS" title="Permalink to this definition">¶</a></dt>
<dd><p>Define constants which will be reported in the usage metrics
report when the condition is met.
The CPU &amp; AMP fault and warning status information from the
platforms/common/ctl/audioctl.h file
#define SYSTAT_AUDIO_FAULT_TEMPERATURE_STATUS               0x10000
#define SYSTAT_AUDIO_WARN_TEMPERATURE_STATUS                0x20000
#define SYSTAT_CPU_FAULT_TEMPERATURE_STATUS         0x40000
#define SYSTAT_CPU_WARN_TEMPERATURE_STATUS          0x80000</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.AUDIO_FAULT_STATUS">
<code class="descname">AUDIO_FAULT_STATUS</code><em class="property"> = '0x00010000'</em><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.AUDIO_FAULT_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.AUDIO_STAT_POLL_INTERVAL">
<code class="descname">AUDIO_STAT_POLL_INTERVAL</code><em class="property"> = 5</em><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.AUDIO_STAT_POLL_INTERVAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.AUDIO_WARN_STATUS">
<code class="descname">AUDIO_WARN_STATUS</code><em class="property"> = '0x00020000'</em><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.AUDIO_WARN_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.CPU_FAULT_STATUS">
<code class="descname">CPU_FAULT_STATUS</code><em class="property"> = '0x00040000'</em><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.CPU_FAULT_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.CPU_TEMPERATURE_MODELS">
<code class="descname">CPU_TEMPERATURE_MODELS</code><em class="property"> = ('S6', 'S11', 'S1', 'S3', 'S9', 'Sub', 'S14', 'S12')</em><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.CPU_TEMPERATURE_MODELS" title="Permalink to this definition">¶</a></dt>
<dd><p>Models which support AMP sensor</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.CPU_WARN_STATUS">
<code class="descname">CPU_WARN_STATUS</code><em class="property"> = '0x00080000'</em><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.CPU_WARN_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['TEMPERATURE_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd><p>Models which support CPU sensor</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.amp_temperature_reporting_zp_generator">
<code class="descname">amp_temperature_reporting_zp_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.amp_temperature_reporting_zp_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.amp_temperature_reporting_zp_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a testbed of unique deivces that support writing to and
reading from the AMP thermal sensor via the proc interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.cpu_temperature_reporting_zp_generator">
<code class="descname">cpu_temperature_reporting_zp_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.cpu_temperature_reporting_zp_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.cpu_temperature_reporting_zp_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a testbed of unique deivces that support writing to and
reading from the CPU thermal sensor via the proc interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.perform_fault_test">
<code class="descname">perform_fault_test</code><span class="sig-paren">(</span><em>zp</em>, <em>fault_type</em>, <em>fault_temp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.perform_fault_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.perform_fault_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform fault tests, either CPU or AMP based on the provided fault type.
Spoof the temperatures and verify the expected values are reported
in the usage metrics report.
Confirm that a single fault is reported if the usage metrics
when the fault state persists.</p>
<p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
:param str fault_type: ‘CPU’ or ‘AMP’
:param int fault_temp: Fault temperature in Celsius degrees.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.perform_warn_test">
<code class="descname">perform_warn_test</code><span class="sig-paren">(</span><em>zp</em>, <em>warn_type</em>, <em>warn_temp</em>, <em>warn_incr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.perform_warn_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.perform_warn_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform warning tests, either CPU or AMP based on the provided warning
type.
Spoof the temperatures and verify the expected values are reported
in the usage metrics report.
Confirm that a single warning is reported in the usage metrics
when the warning state persists.
The warn_incr is a boolean which directs the method to perform a
subsequent test (with the warning temperature increased by 1 degree)
following the initial warning temperature test.</p>
<p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
:param str warn_type: ‘CPU’ or ‘AMP’
:param int warn_temp: Warning temperature
:param bool warn_incr: Perform test to increase the warning
temperature ?</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the web server.
Make the event metrics URL override persistent.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.spoof_temperature">
<code class="descname">spoof_temperature</code><span class="sig-paren">(</span><em>zp</em>, <em>sensor</em>, <em>temperature</em>, <em>watch_str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.spoof_temperature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.spoof_temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to spoof either the AMP or CPU temperatures.
The supplied watch string is the subset of the diagnostic
string which will be generated when the spoofed event is
digested by anacapad.</p>
<p>:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:
:param str sensor: ‘AMP or ‘CPU’
:param int temperature: Temperature in Celcius degrees.
:param str watch_str: Diagnostic text to wait</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.test_amp_temperature_reporting">
<code class="descname">test_amp_temperature_reporting</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.test_amp_temperature_reporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.test_amp_temperature_reporting" title="Permalink to this definition">¶</a></dt>
<dd><p>On players which support the amplifier (AMP) temperature sensor
conduct AMP spoofing tests and confirm the usage metrics report
contains the expected values.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.test_cpu_temperature_reporting">
<code class="descname">test_cpu_temperature_reporting</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/temperature_events.html#TestTemperatureEventReporting.test_cpu_temperature_reporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.temperature_events.TestTemperatureEventReporting.test_cpu_temperature_reporting" title="Permalink to this definition">¶</a></dt>
<dd><p>On players which support the CPU temperature sensor
conduct CPU spoofing tests and confirm the usage metrics report
contains the expected values.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code> zp:</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.toslink_hdmi_event_reporting">
<span id="upnp-functional-reporting-toslink-hdmi-event-reporting-module"></span><h2>upnp.functional.reporting.toslink_hdmi_event_reporting module<a class="headerlink" href="#module-upnp.functional.reporting.toslink_hdmi_event_reporting" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.toslink_hdmi_event_reporting.</code><code class="descname">TOSLINKHDMIEventReporting</code><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>This class holds some tests to validate the TOSLINK/HDMI reporting that
occurs in Home Theater devices</p>
<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.compare_error_report_against_json">
<code class="descname">compare_error_report_against_json</code><span class="sig-paren">(</span><em>js</em>, <em>error_report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.compare_error_report_against_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.compare_error_report_against_json" title="Permalink to this definition">¶</a></dt>
<dd><p>method for comparing the expected error report JSON against the
captured error report
:param js: the JSON representing the expected error report values
:param error_report: the actual error report captured from the UDP log
:returns passed_test: boolean True/False for whether or not all
criteria were passed for the given report</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.download_track">
<code class="descname">download_track</code><span class="sig-paren">(</span><em>track</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.download_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.download_track" title="Permalink to this definition">¶</a></dt>
<dd><p>download the track from NAS and host it locally for playback
:param track: the name of the file to download</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.download_tracks">
<code class="descname">download_tracks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.download_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.download_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>download the tracks in self.test_jsons and store to track attribute</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.execute_logger_test">
<code class="descname">execute_logger_test</code><span class="sig-paren">(</span><em>zp</em>, <em>track=None</em>, <em>num_error_injections=0</em>, <em>time_between_injections=0.0</em>, <em>expected_error_report=None</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.execute_logger_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.execute_logger_test" title="Permalink to this definition">¶</a></dt>
<dd><p>generic method for executing a test on the zp for the logger
:param zp: the zone player to execute the test on (should be ht master)
:param str track: the audio track file to playback through the device
:param int num_error_injections: the number of stream error injections
to inject
:param float time_between_injections: the number of seconds between
stream error injections
:param json expected_error_report: the expected error report JSON to be
used for further validations
:param str encoding: a string to forward to mplayer to force a certain
decoder for playback
:returns passed_test: boolean True/False for whether or not all
criteria was passed for the given test</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.generate_ht_masters_and_test_case_JSON">
<code class="descname">generate_ht_masters_and_test_case_JSON</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.generate_ht_masters_and_test_case_JSON"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.generate_ht_masters_and_test_case_JSON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.get_error_report_from_usage_metrics">
<code class="descname">get_error_report_from_usage_metrics</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.get_error_report_from_usage_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.get_error_report_from_usage_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>get the error report for the given ZP and return it in JSON format
:param zp: the zone player whose error report we want to retrieve
:return: JSON object representing error report</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.get_files_from_nas">
<code class="descname">get_files_from_nas</code><span class="sig-paren">(</span><em>files_path</em>, <em>files_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.get_files_from_nas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.get_files_from_nas" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy files from NAS
:param str files_path: Path to download files from
:param list files_list: The list of files to download</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.play_track">
<code class="descname">play_track</code><span class="sig-paren">(</span><em>track</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.play_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.play_track" title="Permalink to this definition">¶</a></dt>
<dd><p>play the given track on the mplayer
:param str track: the filename of the track to play
:param str encoding: to force an encoding format</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.read_in_test_JSONs">
<code class="descname">read_in_test_JSONs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.read_in_test_JSONs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.read_in_test_JSONs" title="Permalink to this definition">¶</a></dt>
<dd><p>read in all of the test JSON files to self</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup Fixture</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.start_ht_session">
<code class="descname">start_ht_session</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.start_ht_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.start_ht_session" title="Permalink to this definition">¶</a></dt>
<dd><p>use queue then switch to TV to start a HT session
:param zp: zone player to start the home theater session on</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.stop_ht_session">
<code class="descname">stop_ht_session</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.stop_ht_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.stop_ht_session" title="Permalink to this definition">¶</a></dt>
<dd><p>terminate the home theater session by clearing the play state
:param zp: the zone player to stop the home theater session on</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.test_SPDIF_HDMI_logging">
<code class="descname">test_SPDIF_HDMI_logging</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.test_SPDIF_HDMI_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.test_SPDIF_HDMI_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>primary test method - goes through the given JSON file and evaluates
each test based on parameters.
:param master: HT master
:param test_json: the JSON containing the test case information</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.trigger_stream_error">
<code class="descname">trigger_stream_error</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/toslink_hdmi_event_reporting.html#TOSLINKHDMIEventReporting.trigger_stream_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.toslink_hdmi_event_reporting.TOSLINKHDMIEventReporting.trigger_stream_error" title="Permalink to this definition">¶</a></dt>
<dd><p>trigger a stream error on the zp
:param zp: the zp to trigger the stream error on</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.transport_event_errors">
<span id="upnp-functional-reporting-transport-event-errors-module"></span><h2>upnp.functional.reporting.transport_event_errors module<a class="headerlink" href="#module-upnp.functional.reporting.transport_event_errors" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.transport_event_errors.</code><code class="descname">TransportEventErrorReporting</code><span class="sig-paren">(</span><em>parameterized_setup=False</em>, <em>require_audio=False</em>, <em>nas_audio_tracks=('MaggieFarm.mp3'</em>, <em>'MaggieFarm.wav'</em>, <em>'MaggieFarm.flac'</em>, <em>'MaggieFarm.aiff'</em>, <em>'MaggieFarm_HEAAC.mp4'</em>, <em>'MaggieFarm_ALAC.m4a'</em>, <em>'MaggieFarm_AAC.mp4'</em>, <em>'MaggieFarm.wma'</em>, <em>'MaggieFarm.ogg')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/transport_event_errors.html#TransportEventErrorReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Verifies the events submitted by the zone player when the player
attempts to play back MP3 files which have an unsupported sampling rate.
It uses a compilation of MP3s which exhibit the erred characteristics.</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.CHSRC_DIAG_LEVEL">
<code class="descname">CHSRC_DIAG_LEVEL</code><em class="property"> = ('chsrc', 2)</em><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.CHSRC_DIAG_LEVEL" title="Permalink to this definition">¶</a></dt>
<dd><p>The diagnostic substring to look for when player fails to
play the audio track.</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.CHSRC_TRANSPORT_ERROR_DIAGC">
<code class="descname">CHSRC_TRANSPORT_ERROR_DIAGC</code><em class="property"> = 'Transport error ERROR_UNSUPPORTED_FREQ'</em><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.CHSRC_TRANSPORT_ERROR_DIAGC" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum files that can be handled in a multi-track operation
Reference all/oc/common/include/upnpcommon.h</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.EVENT_KEY_PATTERN">
<code class="descname">EVENT_KEY_PATTERN</code><em class="property"> = u'Transport error ERROR_UNSUPPORTED_FREQ for account type (\\d+),(?:.*) share/server: (\\S+), (?:.*), extra info: (\\d+), (?:.*) framer: (\\S+)'</em><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.EVENT_KEY_PATTERN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.PLAYBACK_VECTOR_FILES">
<code class="descname">PLAYBACK_VECTOR_FILES</code><em class="property"> = []</em><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.PLAYBACK_VECTOR_FILES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.RMAX_URIS_IN_LIST">
<code class="descname">RMAX_URIS_IN_LIST</code><em class="property"> = 16</em><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.RMAX_URIS_IN_LIST" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of test files to enqueue onto player’s queue.
The list is updated dynamically following indexing of the test share.</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.SHARE_KEY">
<code class="descname">SHARE_KEY</code><em class="property"> = 'mp3-unsupported-sample-rates'</em><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.SHARE_KEY" title="Permalink to this definition">¶</a></dt>
<dd><p>The pattern to match on the diagnostic which will be used
to compile the expected events from the player.</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['TRANSPORT_ERRORS_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.add_track_list_to_queue">
<code class="descname">add_track_list_to_queue</code><span class="sig-paren">(</span><em>zp</em>, <em>selected_tracks</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/transport_event_errors.html#TransportEventErrorReporting.add_track_list_to_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.add_track_list_to_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the selected tracks to the default player queue.</p>
<p>:param obj zp:<cite>sonos.client.internal.SonosZoneComponent</cite>
:param list selected_tracks: List of tracks</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.compile_expected_events">
<code class="descname">compile_expected_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/transport_event_errors.html#TransportEventErrorReporting.compile_expected_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.compile_expected_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on the accumulated information derived from the
player diagnostics, compile the expected events that the
player should report.
:return: Tuple of expected events
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.play_queue">
<code class="descname">play_queue</code><span class="sig-paren">(</span><em>zp</em>, <em>count</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/transport_event_errors.html#TransportEventErrorReporting.play_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.play_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Plays the player queue and waits for the
AV transport state to stop and the expected
number of diagnostic messages.</p>
<p>:param obj zp:<cite>sonos.client.internal.SonosZoneComponent</cite>
:param int count: The number of tracks to play</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/transport_event_errors.html#TransportEventErrorReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke inherited class method and add test share.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/transport_event_errors.html#TransportEventErrorReporting.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove test share and wrap up from inherited class</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.test_mp3_unsupported_sample_rates">
<code class="descname">test_mp3_unsupported_sample_rates</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/transport_event_errors.html#TransportEventErrorReporting.test_mp3_unsupported_sample_rates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.test_mp3_unsupported_sample_rates" title="Permalink to this definition">¶</a></dt>
<dd><p>The test starts with restarting the zone player so that
the usage event metrics URL override will go into affect.
It enqueues all the MP3 files from the test share and
attempts to play the files, monitoring for the expected
player diagnostic.
After all the files have been played, it forces the player
to send all the accumulated usage metrics events for
analysis (player events buffered but not sent).
The test compiles a list of expected events with their
respective values and verifies whether those events
have been received by the server.</p>
<p>:param obj zp:<cite>sonos.client.internal.SonosZoneComponent</cite></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.wait_on_mp3_transport_error">
<code class="descname">wait_on_mp3_transport_error</code><span class="sig-paren">(</span><em>count</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/transport_event_errors.html#TransportEventErrorReporting.wait_on_mp3_transport_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.wait_on_mp3_transport_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for the count of diagnostic messages to be reached.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>count</strong> (<em>int</em>) – Number to expect.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.watch_transport_error">
<code class="descname">watch_transport_error</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/transport_event_errors.html#TransportEventErrorReporting.watch_transport_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.transport_event_errors.TransportEventErrorReporting.watch_transport_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Call back on UDP logger to count the transport errors.
Update the appropriate event dictionaries based on the
diagnostic information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>msg</strong> (<em>str</em>) – Diagnostic string which prompted the call back.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.usage_metrics">
<span id="upnp-functional-reporting-usage-metrics-module"></span><h2>upnp.functional.reporting.usage_metrics module<a class="headerlink" href="#module-upnp.functional.reporting.usage_metrics" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.usage_metrics.PlayerConfigDict">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.usage_metrics.</code><code class="descname">PlayerConfigDict</code><span class="sig-paren">(</span><em>xml</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#PlayerConfigDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerConfigDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Converts the player config report to dictionary format.
The input is the XMLAccessor object that encapsulates
the player config report.</p>
<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg">
<code class="descname">convert_player_cfg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#PlayerConfigDict.convert_player_cfg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the elements in the player config report to a
dictionary.
Returns the dictionary of items in the player config report.
:return: A dictionary of key/value items in report
:rtype: :dict:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_ath">
<code class="descname">convert_player_cfg_ath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#PlayerConfigDict.convert_player_cfg_ath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_ath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with a single key ‘ath’ which
maps to a list of wireless interfaces named tuples
of ATH type
:return: A dictionary item with a list of wireless
interfaces
:rtype: :dict:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_eth">
<code class="descname">convert_player_cfg_eth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#PlayerConfigDict.convert_player_cfg_eth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_eth" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with a single key ‘eth’ which
maps to a list of ethernet interfaces named tuples
of ETH type
:return: A dictionary item with a list of ethernet
interfaces
:rtype: :dict:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_hdmi">
<code class="descname">convert_player_cfg_hdmi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#PlayerConfigDict.convert_player_cfg_hdmi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_hdmi" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the HDMI elements in the player config report
as a dictionary
:return: A dictionary item with a dictionary of HDMI
elements
:rtype: :dict:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_jffs">
<code class="descname">convert_player_cfg_jffs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#PlayerConfigDict.convert_player_cfg_jffs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_jffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with a single key ‘jffs’ which
maps to a named tuple JFFS.
:return: A dictionary item mapped to JFFS tuple
interfaces
:rtype: :dict:</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_voice">
<code class="descname">convert_player_cfg_voice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#PlayerConfigDict.convert_player_cfg_voice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerConfigDict.convert_player_cfg_voice" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the voice elements in the player config report
as a dictionary.
:return: A dictionary item with a dictionary of voice
elements
:rtype: :dict:</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="upnp.functional.reporting.usage_metrics.PlayerReports">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.usage_metrics.</code><code class="descname">PlayerReports</code><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#PlayerReports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerReports" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">custom_enums.StringEnum</span></code></p>
<p>Every zone sends a usage metrics and every player
sends a player config report.</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.usage_metrics.PlayerReports.CONFIG_REPORT">
<code class="descname">CONFIG_REPORT</code><em class="property"> = 'PlayerConfigReport'</em><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerReports.CONFIG_REPORT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.usage_metrics.PlayerReports.USAGE_REPORT">
<code class="descname">USAGE_REPORT</code><em class="property"> = 'UsageMetrics'</em><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.PlayerReports.USAGE_REPORT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="data">
<dt id="upnp.functional.reporting.usage_metrics.REPORT_INTERVAL">
<code class="descclassname">upnp.functional.reporting.usage_metrics.</code><code class="descname">REPORT_INTERVAL</code><em class="property"> = 3600</em><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.REPORT_INTERVAL" title="Permalink to this definition">¶</a></dt>
<dd><p>From all/oc/protocol/client/src/reportuploader.cxx:RReportUploader::serializePlayerConfig
ver - version number of report
ts - time stamp
cu - customer registration
hh - house hold id
mhhid - muse household id
sn - reporting serial device
md - zone model
bld - firmware version
rm - zone room name
uptime - uptime since boot</p>
</dd></dl>

<dl class="class">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.usage_metrics.</code><code class="descname">UsageMetrics</code><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that validates a usage metric report from the zone device.</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.SAVE_ALL">
<code class="descname">SAVE_ALL</code><em class="property"> = '0.0.0.0'</em><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.SAVE_ALL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.USAGE_METRICS_KEYS">
<code class="descname">USAGE_METRICS_KEYS</code><em class="property"> = ('ver', 'ts', 'cu', 'hh', 'mhh', 'sn', 'md', 'events', 'uptime')</em><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.USAGE_METRICS_KEYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.convert_event_to_dict">
<code class="descname">convert_event_to_dict</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.convert_event_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.convert_event_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionary of key/value pairs from the XML formatted
event name instance
:param str event: The reported event
:return: Dictionary of key/value pairs
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.convert_events_to_dict">
<code class="descname">convert_events_to_dict</code><span class="sig-paren">(</span><em>events</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.convert_events_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.convert_events_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>events</strong> (<em>list</em>) – A list of XML formatted events</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of events converted to a dictionary format</td>
</tr>
</tbody>
</table>
<p>from the XML report
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of dictionaries</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.find_event_in_reports">
<code class="descname">find_event_in_reports</code><span class="sig-paren">(</span><em>ip</em>, <em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.find_event_in_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.find_event_in_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of usage reports and an event comprising of a tuple
it returns True if the event is found else False.
The event tuple is of format type, name, value where the type is
either buttons or orientation_change, name is the entry name in
the report with its corresponding value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ip</strong> (<em>str</em>) – String of the internet address of device.</li>
<li><strong>event</strong> (<em>tuple</em>) – The event to search.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Is the event in the usage report(s)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.find_event_with_relative_value_in_reports">
<code class="descname">find_event_with_relative_value_in_reports</code><span class="sig-paren">(</span><em>ip</em>, <em>event</em>, <em>operator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.find_event_with_relative_value_in_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.find_event_with_relative_value_in_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of usage reports and an event comprising of a tuple
it returns True if the event is found else False.
The event tuple is of format type, name, value where the type is
either buttons or orientation_change, name is the entry name in
the report with its corresponding value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ip</strong> (<em>str</em>) – String of the internet address of device.</li>
<li><strong>event</strong> (<em>tuple</em>) – The event to search.</li>
<li><strong>operator</strong> (<em>obj</em>) – Operator to be used in raltive comparison</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Is the event in the usage report(s)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.find_names_in_reports">
<code class="descname">find_names_in_reports</code><span class="sig-paren">(</span><em>ip</em>, <em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.find_names_in_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.find_names_in_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple of events associated with the name.
:param str ip: Internet address of device
:param str name: The name to search in reports
:return: A list of events for name
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.get_reports">
<code class="descname">get_reports</code><span class="sig-paren">(</span><em>ip</em>, <em>report_type=&lt;PlayerReports.CONFIG_REPORT: 'PlayerConfigReport'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.get_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.get_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the saved specified reports.
:param str ip: Zone IP address
:param str report_type: Report(s) type to return
:return: List of UsageMetricsHelper objects
:rtype <a href="#id1"><span class="problematic" id="id2">:list:`UsageMetricsHelper`</span></a></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.hard_or_soft_error">
<code class="descname">hard_or_soft_error</code><span class="sig-paren">(</span><em>code</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.hard_or_soft_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.hard_or_soft_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the HTTP reply code based on test.
The msg parameter could be either a string,
a list of strings or a tuple of strings.
:param int code: HTTP response code
:param str msg: Accompanying message to reply
:return: tuple of HTTP response and message
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.has_report">
<code class="descname">has_report</code><span class="sig-paren">(</span><em>ip</em>, <em>report_type=&lt;PlayerReports.CONFIG_REPORT: 'PlayerConfigReport'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.has_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.has_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True when the report_type exists in the saved list
:param str ip: Zone player IP address
:param str report_type: <a class="reference internal" href="#upnp.functional.reporting.usage_metrics.PlayerReports" title="upnp.functional.reporting.usage_metrics.PlayerReports"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlayerReports</span></code></a>
:return: Has the report type been received ?
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.metrics_event_clear">
<code class="descname">metrics_event_clear</code><span class="sig-paren">(</span><em>ip</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.metrics_event_clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.metrics_event_clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the received usage reports from the specified IP address.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ip</strong> (<em>str</em>) – Internet address of device</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.metrics_event_depth">
<code class="descname">metrics_event_depth</code><span class="sig-paren">(</span><em>ip</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.metrics_event_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.metrics_event_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of usage reports from the specified IP address.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ip</strong> (<em>str</em>) – Internet address of device</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The number of usage reports from the device</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.metrics_event_handler">
<code class="descname">metrics_event_handler</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.metrics_event_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.metrics_event_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Private POST handler that validates the usage report.
Given the parsed usage report, it sets the HTTP reply code
and returns the accompanying reply message.</p>
<p>:param obj request:<cite>~requests</cite></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.set_hard_or_soft_error">
<code class="descname">set_hard_or_soft_error</code><span class="sig-paren">(</span><em>hard=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.set_hard_or_soft_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.set_hard_or_soft_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets how to respond to client based on error.
Setting to True, the server will respond to the client
with an internal server error while if the setting is
False, the server will respond to client with OK.
This method should be used for debugging purposes and
in test cases where it’s intended to verify that the
player re-sends the POST after it has received an error
from the server.
:param bool hard: Handling on error</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.set_raise_exc">
<code class="descname">set_raise_exc</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.set_raise_exc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.set_raise_exc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.system_api_event_handler">
<code class="descname">system_api_event_handler</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.system_api_event_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.system_api_event_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Private POST handler that stores the usage report.
Given the parsed usage report, it sets the HTTP reply code
and returns the accompanying reply message.</p>
<p>:param obj request:<cite>~requests</cite></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.validate_event_time_in_reports">
<code class="descname">validate_event_time_in_reports</code><span class="sig-paren">(</span><em>ip</em>, <em>max_seconds=3600</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.validate_event_time_in_reports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.validate_event_time_in_reports" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True when all events in the reports that have been saved
from the device with the associated IP have a time stamp no “older”
of max_seconds from the report time stamp.
:param str ip: Internet address of device
:param int max_seconds: Maximum seconds difference between the
event time and the report time
:return: True if time on all events within max_seconds of report time
else False
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.validate_player_config_report">
<code class="descname">validate_player_config_report</code><span class="sig-paren">(</span><em>report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.validate_player_config_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.validate_player_config_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the player configuration from the player sent once
following boot. It ascertains the report containes the required
elements. It does not check the integrity of the individual elements.
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.services.common.XMLAccessor</span></code> report:
:return: Tuple of integer for the HTTP response and message
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.validate_usage_metrics_report">
<code class="descname">validate_usage_metrics_report</code><span class="sig-paren">(</span><em>usage_report</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.validate_usage_metrics_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.validate_usage_metrics_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the usage metrics report from the player.
(a) Version
(b) Player time stamp
(c) Customer ID
(d) Household ID
(e) Serial #
(f) Model
(g) Button events
(h) Temperature events
(i) Orientation events
(j) Memory usage events
:param <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.services.common.XMLAccessor</span></code> report:
:return: Tuple of integer for the HTTP response and message
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetrics.validate_usage_report">
<code class="descname">validate_usage_report</code><span class="sig-paren">(</span><em>body</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetrics.validate_usage_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetrics.validate_usage_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates fields in the report.
Returns http.ok if validation succeeds else http.INTERNAL_SERVER_ERROR
with an accompanying message suggesting the failure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>body</strong> (<em>str</em>) – POST contents of usage report in XML format.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Tuple of integer for the HTTP response and message</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetricsHelper">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.usage_metrics.</code><code class="descname">UsageMetricsHelper</code><span class="sig-paren">(</span><em>XMLstr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetricsHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetricsHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Utility class for the usage metrics report.</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetricsHelper.HEADER_KEYS">
<code class="descname">HEADER_KEYS</code><em class="property"> = ('ver', 'ts', 'cu', 'hh', 'mhh', 'sn', 'md')</em><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetricsHelper.HEADER_KEYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetricsHelper.compare_event_time_to_report_time">
<code class="descname">compare_event_time_to_report_time</code><span class="sig-paren">(</span><em>max_seconds=3600</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetricsHelper.compare_event_time_to_report_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetricsHelper.compare_event_time_to_report_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates through the events in the usage metrics report.
Returns False when the time difference in seconds of the event
exceeds the specified maximum threshold of the report time.
:param int max_seconds: Maximum seconds difference allowed between the
event time and the report time
:return: True if time on all events within max_seconds of report time
else False
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetricsHelper.find_events">
<code class="descname">find_events</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetricsHelper.find_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetricsHelper.find_events" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>items</strong> (<em>list</em>) – <cite>~sonos.services.common.XMLAccessor</cite></li>
<li><strong>name</strong> (<em>str</em>) – The name of the event</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetricsHelper.has_event">
<code class="descname">has_event</code><span class="sig-paren">(</span><em>name</em>, <em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetricsHelper.has_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetricsHelper.has_event" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Event name</li>
<li><strong>key</strong> (<em>str</em>) – Key name</li>
<li><strong>value</strong> (<em>str</em>) – Key value</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetricsHelper.has_relative_event">
<code class="descname">has_relative_event</code><span class="sig-paren">(</span><em>name</em>, <em>key</em>, <em>value</em>, <em>operator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetricsHelper.has_relative_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetricsHelper.has_relative_event" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – Event name</li>
<li><strong>key</strong> (<em>str</em>) – Key name</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>“param str value: Key value
:pram obj operator: Operator to compare against Key value</p>
<p>Ex. has_relative_event(‘chsrc:framed’, ‘ms’, 2000, operator.le)</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetricsHelper.header_info">
<code class="descname">header_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetricsHelper.header_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetricsHelper.header_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a named tuple of the header information contained in
the usage metrics report.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the named tuple UsageMetricsHeader</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">UsageMetricsHeader</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.usage_metrics.UsageMetricsHelper.player_config_report">
<code class="descname">player_config_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics.html#UsageMetricsHelper.player_config_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics.UsageMetricsHelper.player_config_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of items in the player config report.
:return: A dictionary of key/value items in report
:rtype: :dict:</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.usage_metrics_events">
<span id="upnp-functional-reporting-usage-metrics-events-module"></span><h2>upnp.functional.reporting.usage_metrics_events module<a class="headerlink" href="#module-upnp.functional.reporting.usage_metrics_events" title="Permalink to this headline">¶</a></h2>
<p>Event name dictionary</p>
</div>
<div class="section" id="module-upnp.functional.reporting.usage_metrics_utils">
<span id="upnp-functional-reporting-usage-metrics-utils-module"></span><h2>upnp.functional.reporting.usage_metrics_utils module<a class="headerlink" href="#module-upnp.functional.reporting.usage_metrics_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.empty_value">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">empty_value</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#empty_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.empty_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the XML field empty ?
:param str value: String to validate</p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.is_bonded_mapping">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">is_bonded_mapping</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#is_bonded_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.is_bonded_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Is this a bonded mapping description ?
:param str value: The map describing the bonded players
:return: Is bonded mapping ?
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.is_boolean">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">is_boolean</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#is_boolean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.is_boolean" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the value boolean ?
:param str value: Numeric string value.
:return: Is string bool ?
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.is_float">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">is_float</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#is_float"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.is_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the value a float ?
:param str value: Numeric string value.
:return: Is string float ?
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.is_ip">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">is_ip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#is_ip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.is_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the value an IP/MASK ?
:param str value:</p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.is_numeric">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">is_numeric</code><span class="sig-paren">(</span><em>value</em>, <em>base=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#is_numeric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.is_numeric" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the value numeric ?
:param str value: Numeric string value.
:param int base: Base of numeric string.
:return: Is string numeric ?
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.is_udn">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">is_udn</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#is_udn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.is_udn" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the MAC identifier referenced in the UDN numeric ?
:param str value: String to validate</p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.non_empty_str">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">non_empty_str</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#non_empty_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.non_empty_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the XML field a non-empty str ?
:param str value: String to validate</p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.validate_common_header">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">validate_common_header</code><span class="sig-paren">(</span><em>report</em>, <em>keys_dict</em>, <em>logger=None</em>, <em>raise_exc=True</em><span class="sig-paren">)</span><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.validate_common_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses expected keys in dict to validate the keys in the report.
By default it raises an exception on validation of any key
that is missing from the report.
Returns a list of tuples for keys which are missing or have failed
validation.
:param <cite>~sonos.services.common.XMLAccessor</cite> event:
:param dict keys_dict:
:param <cite>logging.Logger</cite> logger:
:param bool raise_exc:
:return: A list of tuples
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.validate_duration_format">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">validate_duration_format</code><span class="sig-paren">(</span><em>value</em>, <em>time_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#validate_duration_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.validate_duration_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the value consistent with the requested duration time format ?
The duration field may be empty, so the following is acceptable
&lt;entry key=”dur”&gt;&lt;/entry&gt;
:param str value: String to validate
:param str time_format: Time format
:return: Datetime object
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.validate_event">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">validate_event</code><span class="sig-paren">(</span><em>event</em>, <em>event_dict</em>, <em>logger=None</em>, <em>raise_exc=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#validate_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.validate_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the keys from the received event to iterate and verify against
the given dictionary of expected keys.
If any key from the received event is not in the expected dictionary,
the function returns a tuple of False and a message that lists
the unexpected keys.
Expands the &lt;entry&gt;&lt;/entry&gt; contained in an event to a list and
iterates through each entry verifying the key.
:param <cite>~sonos.services.common.XMLAccessor</cite> event:
:param dict event_dict:
:param <cite>logging.Logger</cite> logger:
:param bool raise_exc:
:return: A list of tuples
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.validate_key_in_event">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">validate_key_in_event</code><span class="sig-paren">(</span><em>event</em>, <em>entry</em>, <em>verifier</em>, <em>logger=None</em>, <em>raise_exc=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#validate_key_in_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.validate_key_in_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates entry key in event using the provided function verifier
Returns a tuple of status, message.
:param <cite>~sonos.services.common.XMLAccessor</cite> event:
:param <cite>~sonos.services.common.XMLAccessor</cite> entry:
:param verifier: method to verify the entry
:type verifier: <code class="xref py py-obj docutils literal notranslate"><span class="pre">callable</span></code>
:param <cite>logging.Logger</cite> logger:
:param bool raise_exc:
:return: A tuple of boolean status and message string
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.validate_keys_in_report">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">validate_keys_in_report</code><span class="sig-paren">(</span><em>report</em>, <em>keys_dict</em>, <em>logger=None</em>, <em>raise_exc=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#validate_keys_in_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.validate_keys_in_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses expected keys in dict to validate the keys in the report.
By default it raises an exception on validation of any key
that is missing from the report.
Returns a list of tuples for keys which are missing or have failed
validation.
:param <cite>~sonos.services.common.XMLAccessor</cite> event:
:param dict keys_dict:
:param <cite>logging.Logger</cite> logger:
:param bool raise_exc:
:return: A list of tuples
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.validate_memfree">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">validate_memfree</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#validate_memfree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.validate_memfree" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the memfree field numeric ?
:param str text: Text to validate</p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.validate_serial_number">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">validate_serial_number</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#validate_serial_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.validate_serial_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the serial number numeric ?
:param str value: String to validate</p>
</dd></dl>

<dl class="function">
<dt id="upnp.functional.reporting.usage_metrics_utils.validate_time_format">
<code class="descclassname">upnp.functional.reporting.usage_metrics_utils.</code><code class="descname">validate_time_format</code><span class="sig-paren">(</span><em>value</em>, <em>time_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/usage_metrics_utils.html#validate_time_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.usage_metrics_utils.validate_time_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the value consistent with the requested time format ?
:param str value: String to validate
:param str time_format: Time format
:return: Datetime object
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting.voice_events">
<span id="upnp-functional-reporting-voice-events-module"></span><h2>upnp.functional.reporting.voice_events module<a class="headerlink" href="#module-upnp.functional.reporting.voice_events" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting">
<em class="property">class </em><code class="descclassname">upnp.functional.reporting.voice_events.</code><code class="descname">VoiceEventReporting</code><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.reporting.event_reporting.EventReporting" title="upnp.functional.reporting.event_reporting.EventReporting"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.reporting.event_reporting.EventReporting</span></code></a></p>
<p>Verify voice event uploading on wake word detection.</p>
<dl class="attribute">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.EXPECTED_VOICE_UPLOAD_KEYS">
<code class="descname">EXPECTED_VOICE_UPLOAD_KEYS</code><em class="property"> = ['eventType', 'wwDirection', 'localSilence', 'service', 'dialogId', 'doneTime', 'opMs', 'samples', 'success', 'timeout', 'rcvdResponse', 'wwEngine', 'wwSensitivity', 'forced']</em><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.EXPECTED_VOICE_UPLOAD_KEYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['VOICE_EVENT_REPORTING']</em><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.convert_wav_to_raw">
<code class="descname">convert_wav_to_raw</code><span class="sig-paren">(</span><em>zp</em>, <em>wav_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.convert_wav_to_raw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.convert_wav_to_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert wav tap file to raw for given zp type
:param zp: Sonos zone component for which to get voicetap url
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:param str wav_path: Full path of wav file</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.generate_voice_zones">
<code class="descname">generate_voice_zones</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.generate_voice_zones"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.generate_voice_zones" title="Permalink to this definition">¶</a></dt>
<dd><p>Reformats the yield from unique generators.generate_testbed_unique_voice_capable_devices()
by placing the zone player objects inside a tuple. This is done meet the
requirements of parameterized_setup.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a device with built in speakers in the testbed</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.get_voicetap">
<code class="descname">get_voicetap</code><span class="sig-paren">(</span><em>resource_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.get_voicetap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.get_voicetap" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy voicetap from NAS
:param str resource_path: Location where voicetap is stored locally.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.get_voicetap_url">
<code class="descname">get_voicetap_url</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.get_voicetap_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.get_voicetap_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Get voicetap file url after hosting on web server
:param zp: Sonos zone component for which to get voicetap url
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:return str url: Voice tap file url</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.register_voice_upload_msg">
<code class="descname">register_voice_upload_msg</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.register_voice_upload_msg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.register_voice_upload_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an event to monitor the upload message
:return: The event object that will monitor the
upload message event
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">Event</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup Fixture</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.set_diagcs">
<code class="descname">set_diagcs</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.set_diagcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.set_diagcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set diagcs on dut</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Tear down fixture</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.test_voice_info_in_player_config_report">
<code class="descname">test_voice_info_in_player_config_report</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.test_voice_info_in_player_config_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.test_voice_info_in_player_config_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify number of voice accounts and microphone enabled
information available in player config report.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.test_wwd_rate_eventing">
<code class="descname">test_wwd_rate_eventing</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.test_wwd_rate_eventing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.test_wwd_rate_eventing" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate eventing on wake word detection</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.validate_voiceupload_entries">
<code class="descname">validate_voiceupload_entries</code><span class="sig-paren">(</span><em>entries</em>, <em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.validate_voiceupload_entries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.validate_voiceupload_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify entry values for each entry in voice event
:param list entries: List of voice entries found in event.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.verify_all_voiceupload_entries_present">
<code class="descname">verify_all_voiceupload_entries_present</code><span class="sig-paren">(</span><em>entries</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.verify_all_voiceupload_entries_present"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.verify_all_voiceupload_entries_present" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify all entries are present from expected voice entries.
:param list entries: List of expect voice entries.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.verify_serial_number_in_report">
<code class="descname">verify_serial_number_in_report</code><span class="sig-paren">(</span><em>zp</em>, <em>cfg_rpt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.verify_serial_number_in_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.verify_serial_number_in_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the report is from dut serial
:param :class:<a href="#id3"><span class="problematic" id="id4">`</span></a>sonos.services.common.XMLAccessor`cfg_rpt:</p>
<blockquote>
<div>Config report accessor object.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.wait_for_voice_upload">
<code class="descname">wait_for_voice_upload</code><span class="sig-paren">(</span><em>timeout=10.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.wait_for_voice_upload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.wait_for_voice_upload" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.reporting.voice_events.VoiceEventReporting.wait_for_voicetap_eof">
<code class="descname">wait_for_voicetap_eof</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/reporting/voice_events.html#VoiceEventReporting.wait_for_voicetap_eof"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.reporting.voice_events.VoiceEventReporting.wait_for_voicetap_eof" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for voicetap playback to complete.
:return: True if diagnostic received else False
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.reporting">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-upnp.functional.reporting" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">TestCase Documentation</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="audio.html">audio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">cloud package</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_reporting.html">data_reporting package</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataio.html">dataio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">examples package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hdmi.html">hdmi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="ixchariot.html">ixchariot package</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">networking package</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">other package</a></li>
<li class="toctree-l1"><a class="reference internal" href="perf.html">perf package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytest_automation.html">pytest_automation package</a></li>
<li class="toctree-l1"><a class="reference internal" href="secure_registration.html">secure_registration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="syssw.html">syssw package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="upnp.html">upnp package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="upnp.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="upnp.api.html">upnp.api package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="upnp.functional.html">upnp.functional package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="upnp.functional.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="upnp.functional.html#module-upnp.functional">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="upnp.helpers.html">upnp.helpers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="upnp.stress.html">upnp.stress package</a></li>
<li class="toctree-l3"><a class="reference internal" href="upnp.suites.html">upnp.suites package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="upnp.html#module-upnp">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">voice package</a></li>
<li class="toctree-l1"><a class="reference internal" href="webserver.html">webserver package</a></li>
<li class="toctree-l1"><a class="reference internal" href="webserver_v0.html">webserver_v0 package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="upnp.html">upnp package</a><ul>
  <li><a href="upnp.functional.html">upnp.functional package</a><ul>
      <li>Previous: <a href="upnp.functional.rdm.html" title="previous chapter">upnp.functional.rdm package</a></li>
      <li>Next: <a href="upnp.functional.savedqueue.html" title="next chapter">upnp.functional.savedqueue package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Author.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/upnp.functional.reporting.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>