
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pytest_automation.syssw.rtc package &#8212; TestCase Documentation  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pytest_automation.syssw.suspend_resume package" href="pytest_automation.syssw.suspend_resume.html" />
    <link rel="prev" title="pytest_automation.syssw.hdmi_compliance package" href="pytest_automation.syssw.hdmi_compliance.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="pytest-automation-syssw-rtc-package">
<h1>pytest_automation.syssw.rtc package<a class="headerlink" href="#pytest-automation-syssw-rtc-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pytest_automation.syssw.rtc.conftest">
<span id="pytest-automation-syssw-rtc-conftest-module"></span><h2>pytest_automation.syssw.rtc.conftest module<a class="headerlink" href="#module-pytest_automation.syssw.rtc.conftest" title="Permalink to this headline">¶</a></h2>
<p>RTC test command line options.</p>
<dl class="function">
<dt id="pytest_automation.syssw.rtc.conftest.num_suspend_cycles">
<code class="descclassname">pytest_automation.syssw.rtc.conftest.</code><code class="descname">num_suspend_cycles</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/conftest.html#num_suspend_cycles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.conftest.num_suspend_cycles" title="Permalink to this definition">¶</a></dt>
<dd><p>Command line argument for number of suspend/resume cycles to test for.
See pytest_generate_tests for more info.</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.conftest.pytest_addoption">
<code class="descclassname">pytest_automation.syssw.rtc.conftest.</code><code class="descname">pytest_addoption</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/conftest.html#pytest_addoption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.conftest.pytest_addoption" title="Permalink to this definition">¶</a></dt>
<dd><p>Add test specific command line options.</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--num_suspend_cycles</span></kbd></td>
</tr>
<tr><td>&#160;</td><td>The number of suspend/resume cycles to run for test cases
that verify RTC behavior across multiple suspends/resumes</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--run_duration</span></kbd></td>
<td>The time in seconds to run the RTC drift test</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--suspend_duration</span></kbd></td>
</tr>
<tr><td>&#160;</td><td>The time in seconds to suspend for for lond duration suspend testing</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.conftest.rtc_drift_duration">
<code class="descclassname">pytest_automation.syssw.rtc.conftest.</code><code class="descname">rtc_drift_duration</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/conftest.html#rtc_drift_duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.conftest.rtc_drift_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Command line argument for time in seconds to run for</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.conftest.suspend_duration">
<code class="descclassname">pytest_automation.syssw.rtc.conftest.</code><code class="descname">suspend_duration</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/conftest.html#suspend_duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.conftest.suspend_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Command line argument for the amount of time to suspend for when
doing long suspend duration testing.
See pytest_generate_tests for more info.</p>
</dd></dl>

</div>
<div class="section" id="module-pytest_automation.syssw.rtc.test_rtc">
<span id="pytest-automation-syssw-rtc-test-rtc-module"></span><h2>pytest_automation.syssw.rtc.test_rtc module<a class="headerlink" href="#module-pytest_automation.syssw.rtc.test_rtc" title="Permalink to this headline">¶</a></h2>
<p>This test is for stress testing the real time clock on Alpine (may be
adapted to work on other devices which use an RTC in the future). Tests
basic RTC setter/getter syslib API calls, RTC drift and RTC-system clock
interaction.</p>
<p>Note:
Currently the rtc-test utility does not store sub-second time
and the python wrapper does not store time under a second either
(this is because of the time.struct_time object - datetime objects
could be used instead).
If we want more accurate test measurements the test app and wrapper
will have to be modified, but for now this test verifies RTC time
and drift on the order of seconds, not milliseconds.</p>
<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.charge_portable">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">charge_portable</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#charge_portable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.charge_portable" title="Permalink to this definition">¶</a></dt>
<dd><p>Charge the DUT to at least 80% to make sure it has enough battery
for long suspend durations and make sure the device’s power is on
during test teardown</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.disable_chrony">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">disable_chrony</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#disable_chrony"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.disable_chrony" title="Permalink to this definition">¶</a></dt>
<dd><p>Disables Chrony for the duration of testing and restarts during
teardown. Disabling is done by overwriting the Chrony configuration
file at /etc/chrony.conf by adding an empty dev configuration at
/jffs/dev_chrony.conf</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.reboot_for_teardown">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">reboot_for_teardown</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#reboot_for_teardown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.reboot_for_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Reboots a device after test teardown to bring the device
back to a supported state. This is needed because some of the
test cases in this file force suspend without the power coordinator
which can cause the device to wake into an unsupported state.</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.setup_blackbox_log">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">setup_blackbox_log</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#setup_blackbox_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.setup_blackbox_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the device’s blackbox log and sets mask for capturing
debug event logs only. Resets blackbox mask during teardown.</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.sync_rtc_system_and_testrunner">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">sync_rtc_system_and_testrunner</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#sync_rtc_system_and_testrunner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.sync_rtc_system_and_testrunner" title="Permalink to this definition">¶</a></dt>
<dd><p>Set RTC time to current time to make sure the RTC is synced
to the testrunner’s clock. Also sets the system clock to keep
that in sync as well.</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_long_suspend">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_long_suspend</code><span class="sig-paren">(</span><em>unique_portable_device</em>, <em>install_rtc_utility</em>, <em>suspend_duration</em>, <em>printk_monitor</em>, <em>reboot_for_teardown</em>, <em>kill_anacapa_with_stopanacapa</em>, <em>kill_power_coordinator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_long_suspend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_long_suspend" title="Permalink to this definition">¶</a></dt>
<dd><p>This test verifies that one long suspend will not affect a set
RTC time or alarm. Requires a serial port server for suspend
verification and a power outlet for waking the device. Anacapa and
power coordinator are killed so they don’t interfere with RTC alarm
setting when suspending.</p>
<dl class="docutils">
<dt>..note:</dt>
<dd>This test forces suspend without the power coordinator by doing
a direct call to the RTC alarm/suspend syslib API. This may
have unexpected consequences, but the power coordinator sets
RTC alarms when it suspends which can break our tests. To avoid
leaving the device in an unsupported state, the device is
rebooted at the end of testing.</dd>
</dl>
<p>Test Steps:
1. Kill anacapa and power coordinator
2. Set RTC time and alarm
3. Turn off external power to stop charging device
4. Suspend the device for suspend_duration seconds
5. Wake device
6. Read RTC time and alarm and verify they are expected given the</p>
<blockquote>
<div>previously set RTC time and alarm and suspend duration</div></blockquote>
<ol class="arabic simple" start="7">
<li>Reboot the device</li>
</ol>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_multiple_suspend_resume">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_multiple_suspend_resume</code><span class="sig-paren">(</span><em>unique_portable_device</em>, <em>install_rtc_utility</em>, <em>num_suspend_cycles</em>, <em>printk_monitor</em>, <em>reboot_for_teardown</em>, <em>kill_anacapa_with_stopanacapa</em>, <em>kill_power_coordinator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_multiple_suspend_resume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_multiple_suspend_resume" title="Permalink to this definition">¶</a></dt>
<dd><p>This test verifies that multiple suspend/resume cycles do not affect a
set RTC time or alarm. Requires a serial port server for suspend
verification and a power outlet for waking the device. Anacapa and
power coordinator are killed so they don’t interfere with RTC alarm
setting when suspending.</p>
<dl class="docutils">
<dt>..note:</dt>
<dd>This test forces suspend without the power coordinator by doing
a direct call to the RTC alarm/suspend syslib API. This may
have unexpected consequences, but the power coordinator sets
RTC alarms when it suspends which can break our tests. To avoid
leaving the device in an unsupported state, the device is
rebooted at the end of testing.</dd>
</dl>
<p>Test Steps:
1. Kill anacapa and power coordinator
2. Set RTC time and alarm
3. Turn off external power to stop charging device
4. Suspend device
5. Wake device
6. Read RTC time and alarm and verify they are expected given the</p>
<blockquote>
<div>previously set RTC time and alarm and suspend duration</div></blockquote>
<ol class="arabic simple" start="7">
<li>Repeat steps 4-6 for a number of suspend/resume cycles</li>
<li>Reboot the device</li>
</ol>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_power_off">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_power_off</code><span class="sig-paren">(</span><em>unique_portable_device</em>, <em>install_rtc_utility</em>, <em>printk_monitor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_power_off"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_power_off" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that a power off by pressing the power button does
not affect a set RTC time and alarm. Note: a 10+ second
power button press will hard reset the CCG3 and PSoC and will
reset the RTC; this is expected and not the type of power off
we will test here.</p>
<p>Test Steps:
1. Set RTC time and alarm
2. Turn off external power to stop charging device
3. Power off device by spoofing power button press
4. Turn on external device power (dock) to power back on device
5. Read RTC time and alarm and verify they are expected given the</p>
<blockquote>
<div>elapsed time</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_rtc_alarm">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_rtc_alarm</code><span class="sig-paren">(</span><em>unique_portable_device</em>, <em>setup_blackbox_log</em>, <em>install_rtc_utility</em>, <em>sync_rtc_system_and_testrunner</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_rtc_alarm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_rtc_alarm" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies setting an RTC alarm, reading the set RTC alarm and
alarm expiration</p>
<p>Test Steps:
1. Sync RTC time to testrunner time
2. Set alarm to a time in the future
3. Read alarm time and verify it was set as expected
4. Wait for alarm to expire and verify an RTC alarm event was sent</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_rtc_drift">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_rtc_drift</code><span class="sig-paren">(</span><em>install_rtc_utility</em>, <em>rtc_drift_duration</em>, <em>sync_rtc_system_and_testrunner</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_rtc_drift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_rtc_drift" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the RTC time does not drift more than is expected
given a run duration. This expected drift is based off of the
error of the crystal oscillator that drives the RTC on Alpine, but
does not take into consideration external factors like temperature
that may also affect drift. Sub-second drift will not be measured
so the expected drift will always be rounded up to the nearest integer
second value; this is useful too because it gives some more leeway
around verifying expected drift given external factors that may
make our expected drift estimate/calculation non-realistic.</p>
<p>Test Steps:
1. Calculate expected drift given a run duration
2. Set RTC time to testrunner time
3. For a given time, sample the RTC time and compare to external</p>
<blockquote>
<div>time. If the time difference/drift is above the previous stored
max value, set the new drift to the max</div></blockquote>
<ol class="arabic simple" start="4">
<li>Verify max drift measured was less than or equal to the expected drift</li>
</ol>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_rtc_restore_after_psoc_program">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_rtc_restore_after_psoc_program</code><span class="sig-paren">(</span><em>unique_portable_device</em>, <em>install_rtc_utility</em>, <em>kill_anacapa_with_stopanacapa</em>, <em>kill_power_coordinator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_rtc_restore_after_psoc_program"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_rtc_restore_after_psoc_program" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that a set RTC time and alarm are saved when we erase and
reprogram the PSoC. Anacapa and power coordinator are killed so that
there are no issues when reprogramming the PSoC.</p>
<p>Test Steps:
1. Kill anacapa and power coordinator
2. Set an RTC time and alarm
3. Erase PSoC
4. Reprogram PSoC
5. Verify RTC time and alarm are still set as expected</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_rtc_time">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_rtc_time</code><span class="sig-paren">(</span><em>install_rtc_utility</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_rtc_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_rtc_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies the ability to set and get the RTC time. Sets the
RTC to a given date/time, reads the RTC time afterwards and
verifies that this read time is within a few seconds of the set time</p>
<p>Test Steps:
1. Set RTC time to TEST_RTC_TIME
2. Get RTC time
3. Verify read RTC time is close to set RTC time (won’t be exact)</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_soft_reboot">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_soft_reboot</code><span class="sig-paren">(</span><em>unique_portable_device</em>, <em>install_rtc_utility</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_soft_reboot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_soft_reboot" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that a soft reboot will not affect a set RTC time or alarm.</p>
<p>Test Steps:
1. Set RTC time and alarm
2. Reboot device
3. Read RTC time and alarm and verify they are expected given the</p>
<blockquote>
<div>amount of time that has passed during the reboot (alarm should
not change)</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_system_clock_sync_after_boot">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_system_clock_sync_after_boot</code><span class="sig-paren">(</span><em>unique_portable_device</em>, <em>install_rtc_utility</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_system_clock_sync_after_boot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_system_clock_sync_after_boot" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the system clock time is set to the RTC clock time value
after a reboot/boot.</p>
<p>Test Steps:
1. Set RTC time and clear system clock time to make sure they are</p>
<blockquote>
<div>different and out of sync</div></blockquote>
<ol class="arabic simple" start="2">
<li>Reboot device</li>
<li>Verify system clock time is about equal to the RTC time</li>
</ol>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.test_system_clock_update_during_suspend">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">test_system_clock_update_during_suspend</code><span class="sig-paren">(</span><em>unique_portable_device</em>, <em>install_rtc_utility</em>, <em>printk_monitor</em>, <em>sync_rtc_system_and_testrunner</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#test_system_clock_update_during_suspend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.test_system_clock_update_during_suspend" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the system clock time continues to update during suspend.
This is not a test specific to the RTC and is handled automatically
by the linux kernel, but we should verify that the system time continues
to update across suspends so we can be sure that we don’t have to manually
keep it in sync with the RTC.</p>
<p>Test Steps:
1. Sync the system and RTC clocks to each other
2. Turn off external power to stop charging device
2. Suspend device
3. Wake device by turning external device power on
4. Verify system clock time is still about equal to the RTC time</p>
</dd></dl>

<dl class="function">
<dt id="pytest_automation.syssw.rtc.test_rtc.verify_rtc_after_action">
<code class="descclassname">pytest_automation.syssw.rtc.test_rtc.</code><code class="descname">verify_rtc_after_action</code><span class="sig-paren">(</span><em>portable_device</em>, <em>rtc_utility</em>, <em>action</em>, <em>*action_args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pytest_automation/syssw/rtc/test_rtc.html#verify_rtc_after_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytest_automation.syssw.rtc.test_rtc.verify_rtc_after_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a test that verifies a set RTC time and alarm are not affected
after an action is executed.</p>
<p>Test Steps:
1. Turn off external power to stop charging device
2. Execute action
3. Turn on external power to wake device
4. Read RTC time and alarm and verify they are expected given the</p>
<blockquote>
<div>previously set RTC time, RTC alarm and suspend duration</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>portable_device</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code>) – The DUT which is a portable device</li>
<li><strong>action</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">lambda</span></code>) – The action to execute before verifying the RTC time/alarm
is expected</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Parm rtc_utility:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">An rtc-test utility object based on the DUT</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pytest_automation.syssw.rtc">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pytest_automation.syssw.rtc" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">TestCase Documentation</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="audio.html">audio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">cloud package</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_reporting.html">data_reporting package</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataio.html">dataio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">examples package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hdmi.html">hdmi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="ixchariot.html">ixchariot package</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">networking package</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">other package</a></li>
<li class="toctree-l1"><a class="reference internal" href="perf.html">perf package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pytest_automation.html">pytest_automation package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pytest_automation.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pytest_automation.integration.html">pytest_automation.integration package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pytest_automation.networking.html">pytest_automation.networking package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pytest_automation.performance.html">pytest_automation.performance package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pytest_automation.player.html">pytest_automation.player package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pytest_automation.plugins.html">pytest_automation.plugins package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="pytest_automation.syssw.html">pytest_automation.syssw package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="pytest_automation.syssw.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="pytest_automation.syssw.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="pytest_automation.syssw.html#module-pytest_automation.syssw.common">pytest_automation.syssw.common module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pytest_automation.syssw.html#module-pytest_automation.syssw.conftest">pytest_automation.syssw.conftest module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pytest_automation.syssw.html#module-pytest_automation.syssw.test_amp_hal">pytest_automation.syssw.test_amp_hal module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pytest_automation.syssw.html#module-pytest_automation.syssw.test_cpu_freq">pytest_automation.syssw.test_cpu_freq module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pytest_automation.syssw.html#module-pytest_automation.syssw.test_mic_state">pytest_automation.syssw.test_mic_state module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pytest_automation.syssw.html#module-pytest_automation.syssw.test_module_load">pytest_automation.syssw.test_module_load module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pytest_automation.syssw.html#module-pytest_automation.syssw.test_neptune_output_sync">pytest_automation.syssw.test_neptune_output_sync module</a></li>
<li class="toctree-l4"><a class="reference internal" href="pytest_automation.syssw.html#module-pytest_automation.syssw">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pytest_automation.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytest_automation.html#module-pytest_automation.conftest">pytest_automation.conftest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytest_automation.html#module-pytest_automation.pytest_sonos_device_selection">pytest_automation.pytest_sonos_device_selection module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytest_automation.html#module-pytest_automation.pytest_sonos_json_report">pytest_automation.pytest_sonos_json_report module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytest_automation.html#module-pytest_automation.pytest_sonos_runlevels">pytest_automation.pytest_sonos_runlevels module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytest_automation.html#module-pytest_automation.pytest_sonos_testbed">pytest_automation.pytest_sonos_testbed module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytest_automation.html#module-pytest_automation.pytest_sonos_wireless_testbed">pytest_automation.pytest_sonos_wireless_testbed module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytest_automation.html#module-pytest_automation">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="secure_registration.html">secure_registration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="syssw.html">syssw package</a></li>
<li class="toctree-l1"><a class="reference internal" href="upnp.html">upnp package</a></li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">voice package</a></li>
<li class="toctree-l1"><a class="reference internal" href="webserver.html">webserver package</a></li>
<li class="toctree-l1"><a class="reference internal" href="webserver_v0.html">webserver_v0 package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="pytest_automation.html">pytest_automation package</a><ul>
  <li><a href="pytest_automation.syssw.html">pytest_automation.syssw package</a><ul>
      <li>Previous: <a href="pytest_automation.syssw.hdmi_compliance.html" title="previous chapter">pytest_automation.syssw.hdmi_compliance package</a></li>
      <li>Next: <a href="pytest_automation.syssw.suspend_resume.html" title="next chapter">pytest_automation.syssw.suspend_resume package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Author.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/pytest_automation.syssw.rtc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>