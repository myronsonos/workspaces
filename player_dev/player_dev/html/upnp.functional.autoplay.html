
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>upnp.functional.autoplay package &#8212; TestCase Documentation  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="upnp.functional.bonding package" href="upnp.functional.bonding.html" />
    <link rel="prev" title="upnp.functional package" href="upnp.functional.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="upnp-functional-autoplay-package">
<h1>upnp.functional.autoplay package<a class="headerlink" href="#upnp-functional-autoplay-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-upnp.functional.autoplay.auto_start_stop_logger">
<span id="upnp-functional-autoplay-auto-start-stop-logger-module"></span><h2>upnp.functional.autoplay.auto_start_stop_logger module<a class="headerlink" href="#module-upnp.functional.autoplay.auto_start_stop_logger" title="Permalink to this headline">¶</a></h2>
<p>This module contains the class for attempting to re-create the auto stop
issues that occurred as parts of SWPBL-91611 and SWPBL-91367</p>
<dl class="class">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest">
<em class="property">class </em><code class="descclassname">upnp.functional.autoplay.auto_start_stop_logger.</code><code class="descname">AutoPlayAutoStopLogTest</code><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.workflow.fixture.WorkflowTestFixture</span></code></p>
<p>Purpose of the test is to monitor the autoplay and autostop log to see
if anything strange is occurring</p>
<p>Requirements:</p>
<ul class="simple">
<li>Set autostop interval to configurable amount of time</li>
<li>Bump up logging to include htap_autostop=3 and other HT pipeline modules</li>
<li>Start playback of content via mplayer</li>
<li>Pause playback after configurable amount of time</li>
<li>Resume playback after a configurable amount of time</li>
<li>Evaluate logs and ensure everything lines up as expected</li>
</ul>
<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.auto_stop_int">
<code class="descname">auto_stop_int</code><em class="property"> = 20</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.auto_stop_int" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.autostop_cb">
<code class="descname">autostop_cb</code><span class="sig-paren">(</span><em>msg</em>, <em>zp_sn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.autostop_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.autostop_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>the callback for the autostop messages
:param str msg: the message that triggered the callback
:param str zp_sn: the serial number of the ZP that triggered it</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.autostop_map">
<code class="descname">autostop_map</code><em class="property"> = {}</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.autostop_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.autostop_msg">
<code class="descname">autostop_msg</code><em class="property"> = '[0-9]* seconds of silence detected.'</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.autostop_msg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.beginning_silence_cb">
<code class="descname">beginning_silence_cb</code><span class="sig-paren">(</span><em>msg</em>, <em>zp_sn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.beginning_silence_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.beginning_silence_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>the callback for the beginning silence messages
:param str msg: the message that triggered the callback
:param str zp_sn: the serial number of the ZP that triggered it</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.beginning_silence_map">
<code class="descname">beginning_silence_map</code><em class="property"> = {}</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.beginning_silence_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.beginning_silence_msg">
<code class="descname">beginning_silence_msg</code><em class="property"> = 'beginning silence detection for auto stop'</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.beginning_silence_msg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.bond_all_ht_masters">
<code class="descname">bond_all_ht_masters</code><span class="sig-paren">(</span><em>ht_masters</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.bond_all_ht_masters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.bond_all_ht_masters" title="Permalink to this definition">¶</a></dt>
<dd><p>configure all HT masters to be in HT bonded configurations,
be it either 3.1 or 5.0 configs.
:param list ht_masters: a list of home theater masters to bond
satellites to</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.get_files_from_nas">
<code class="descname">get_files_from_nas</code><span class="sig-paren">(</span><em>files_path</em>, <em>files_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.get_files_from_nas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.get_files_from_nas" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy files from NAS
:param str files_path: Path to download files from
:param list files_list: The list of files to download</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.get_satellite_pairs_and_subs">
<code class="descname">get_satellite_pairs_and_subs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.get_satellite_pairs_and_subs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.get_satellite_pairs_and_subs" title="Permalink to this definition">¶</a></dt>
<dd><p>generate member variables to hold all pairs of HT satellite capable
devices and subs, which will later be used to tickle the zone
topology monitor thread as a test for evaluating the autostop
functionality</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.interval_is_expected">
<code class="descname">interval_is_expected</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.interval_is_expected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.interval_is_expected" title="Permalink to this definition">¶</a></dt>
<dd><p>check if the numeric value for the number of seconds of silence
detected is 1 + the specified number of auto stop interval seconds
:param line: the line detected by regex
:type line: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>
:return: True/False
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.pause_duration">
<code class="descname">pause_duration</code><em class="property"> = 39</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.pause_duration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.play_content">
<code class="descname">play_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.play_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.play_content" title="Permalink to this definition">¶</a></dt>
<dd><p>play content to trigger auto start</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.play_track">
<code class="descname">play_track</code><span class="sig-paren">(</span><em>file</em>, <em>playback_duration</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.play_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.play_track" title="Permalink to this definition">¶</a></dt>
<dd><p>play the given track on the mplayer and pause after duration
specified in playback arg
:param str file: the path to the file to play
:param int playback_duration: the amount of time to play the given
track
:param str encoding: to force an encoding format</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.playback_duration">
<code class="descname">playback_duration</code><em class="property"> = 15</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.playback_duration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.playback_nas_file">
<code class="descname">playback_nas_file</code><em class="property"> = '5ch_diff_music_01.ac3'</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.playback_nas_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.playback_nas_path">
<code class="descname">playback_nas_path</code><em class="property"> = '/Automation/reporting_toslink_files/'</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.playback_nas_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.reset_callback_maps">
<code class="descname">reset_callback_maps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.reset_callback_maps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.reset_callback_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>reset all of the member callback maps so that the values for all ZPs
are defaulted to False</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.sat_added_cb">
<code class="descname">sat_added_cb</code><span class="sig-paren">(</span><em>msg</em>, <em>zp_sn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.sat_added_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.sat_added_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>the callback for the satellite added messages
:param str msg: the message that triggered the callback
:param str zp_sn: the serial number of the ZP that triggered it</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.sat_added_map">
<code class="descname">sat_added_map</code><em class="property"> = {}</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.sat_added_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.sat_added_msg">
<code class="descname">sat_added_msg</code><em class="property"> = 'satellite [\\S]* added to the ht network'</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.sat_added_msg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>setup test fixture</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.set_logging">
<code class="descname">set_logging</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.set_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.set_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>set the logging levels as expected
:param zp: the ZP whose logging levels we are to set
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.set_up_routine">
<code class="descname">set_up_routine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.set_up_routine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.set_up_routine" title="Permalink to this definition">¶</a></dt>
<dd><p>set up routine for test</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.set_up_udp_log_cbs">
<code class="descname">set_up_udp_log_cbs</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.set_up_udp_log_cbs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.set_up_udp_log_cbs" title="Permalink to this definition">¶</a></dt>
<dd><p>set up the UDP logging callbacks for the given zone player
:param zp: the zone player whose UDP logger callbacks we’re setting up
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.silence_nas_file">
<code class="descname">silence_nas_file</code><em class="property"> = 'zeros.wav'</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.silence_nas_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.start_autoplay_cb">
<code class="descname">start_autoplay_cb</code><span class="sig-paren">(</span><em>msg</em>, <em>zp_sn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.start_autoplay_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.start_autoplay_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>the callback for the start auto play messages
:param str msg: the message that triggered the callback
:param str zp_sn: the serial number of the ZP that triggered it</p>
</dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.start_autoplay_map">
<code class="descname">start_autoplay_map</code><em class="property"> = {}</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.start_autoplay_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.start_autoplay_msg">
<code class="descname">start_autoplay_msg</code><em class="property"> = 'starting auto play for spdif source'</em><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.start_autoplay_msg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>disable auto play on all ZPs at tear down and clean up bonded configs</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.test_autoplay_autostop_playback_sequentially">
<code class="descname">test_autoplay_autostop_playback_sequentially</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.test_autoplay_autostop_playback_sequentially"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.test_autoplay_autostop_playback_sequentially" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ht_master</strong> (<em>:obj`sonos.client.internal.SonosZoneComponent`</em>) – the home theater master to test with</td>
</tr>
</tbody>
</table>
<p>test the SWPBL-91611 test case
using the test method described in comments:</p>
<ul class="simple">
<li>Set autostop threshold to 20 seconds by setting</li>
</ul>
<p>HTASilenceThresholdAutoStopSec: [20] in localsettings.txt on an HT
capable device
- Playback SPDIF on HT device to engage autoplay
- Wait X seconds for autostop to engage (play silence to mitigate
risk of sound card noise tickling noise detector).
- Add sub to HT master to create 3.1 config (or any satellite config
should work)
- Wait at least another X seconds (where bug would normally kick in)
- Playback SPDIF on HT device to engage autoplay</p>
<p>There are 2 messages that indicate the bug:
1. The re-beginning of of silence detection upon addition of a HT
satellite to the already stopped HT master:
&lt;htap_autostop,2&gt; beginning silence detection for auto stop &#64; 363256.5
2. The arbitrarily numbered seconds of silence detected at autoplay:
&lt;htap_autostop,1&gt; 41 seconds of silence detected. Engaging auto stop</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.wait_for_map_to_be_entirely_false">
<code class="descname">wait_for_map_to_be_entirely_false</code><span class="sig-paren">(</span><em>bool_map</em>, <em>timeout</em>, <em>reason</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.wait_for_map_to_be_entirely_false"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.wait_for_map_to_be_entirely_false" title="Permalink to this definition">¶</a></dt>
<dd><p>generate an array of values based on the values for each HT master
serial number in the given map (should be an array of boolean values).
wait until all values in that array are False.
:param bool_map: the map to use to generate the array of booleans
:param int timeout: the number of seconds to wait before timing out
:param str reason: the reason to give if a timeout occurs</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.wait_for_map_to_be_entirely_true">
<code class="descname">wait_for_map_to_be_entirely_true</code><span class="sig-paren">(</span><em>bool_map</em>, <em>timeout</em>, <em>reason</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/auto_start_stop_logger.html#AutoPlayAutoStopLogTest.wait_for_map_to_be_entirely_true"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.auto_start_stop_logger.AutoPlayAutoStopLogTest.wait_for_map_to_be_entirely_true" title="Permalink to this definition">¶</a></dt>
<dd><p>generate an array of values based on the values for each HT master
serial number in the given map (should be an array of boolean values).
wait until all values in that array are True.
:param bool_map: the map to use to generate the array of booleans
:param int timeout: the number of seconds to wait before timing out
:param str reason: the reason to give if a timeout occurs</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.autoplay.autoplay_base">
<span id="upnp-functional-autoplay-autoplay-base-module"></span><h2>upnp.functional.autoplay.autoplay_base module<a class="headerlink" href="#module-upnp.functional.autoplay.autoplay_base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase">
<em class="property">class </em><code class="descclassname">upnp.functional.autoplay.autoplay_base.</code><code class="descname">AutoPlayBase</code><span class="sig-paren">(</span><em>fixture_name=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.workflow.fixture.WorkflowTestFixture</span></code></p>
<p>Autoplay tests base class for linein and spdif autoplay</p>
<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.add_tracks_to_queue">
<code class="descname">add_tracks_to_queue</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.add_tracks_to_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.add_tracks_to_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Add tracks to queue.
:param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.are_all_zps_linked">
<code class="descname">are_all_zps_linked</code><span class="sig-paren">(</span><em>gc</em>, <em>gms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.are_all_zps_linked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.are_all_zps_linked" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if all zone players in gms list are linked to gc</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>gc</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – Sonos zone component that is group coordinator</li>
<li><strong>gms</strong> (<em>list</em>) – List of sonos zone components that are gms</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">are all zps from gms list linked to gc</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.are_all_zps_unlinked">
<code class="descname">are_all_zps_unlinked</code><span class="sig-paren">(</span><em>gc</em>, <em>gms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.are_all_zps_unlinked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.are_all_zps_unlinked" title="Permalink to this definition">¶</a></dt>
<dd><p>Check none of zone players in gms list are linked to gc</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>gc</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – Sonos zone component that is group coordinator</li>
<li><strong>gms</strong> (<em>list</em>) – List of sonos zone components that are gms</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">are all zps from gms list unlinked from gc</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.cb_autostop">
<code class="descname">cb_autostop</code><span class="sig-paren">(</span><em>msg</em>, <em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.cb_autostop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.cb_autostop" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback on detecting autostop for zp
:param str msg: autostop log message
:param zp: Sonos zone component on which autostop message found
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.cb_detected_playing">
<code class="descname">cb_detected_playing</code><span class="sig-paren">(</span><em>msg</em>, <em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.cb_detected_playing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.cb_detected_playing" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback on detecting tv or linein (sbc) or music playback
:param str msg: anacapa trace line containing detected string
:param zp: Sonos zone component from which to submit
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.cb_enter_idle_state">
<code class="descname">cb_enter_idle_state</code><span class="sig-paren">(</span><em>msg</em>, <em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.cb_enter_idle_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.cb_enter_idle_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback on detecting error string
:param str msg: idle state log message
:param zp: Sonos zone component on which idle state log message found
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear avt and queue, remove bonded config if it exists
:param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.collect_anacapa_trace_from_devices">
<code class="descname">collect_anacapa_trace_from_devices</code><span class="sig-paren">(</span><em>devices</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.collect_anacapa_trace_from_devices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.collect_anacapa_trace_from_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect anacapa trace from ‘devices’
:param list devices: List of sonos zone components to collect trace from</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.do_test">
<code class="descname">do_test</code><span class="sig-paren">(</span><em>when_autoplay_enabled</em>, <em>source_zp=None</em>, <em>autoplay_zp=None</em>, <em>mplayer=None</em>, <em>track=None</em>, <em>source=None</em>, <em>playback_state=False</em>, <em>gms=None</em>, <em>autoplay_linked_config=None</em>, <em>verify_ht_state=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.do_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.do_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Do autoplay test</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>when_autoplay_enabled</strong> (<em>str</em>) – Autoplay enabled before or after
content start</li>
<li><strong>source_zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – Sonos zone component that is source of linein/spdif
content</li>
<li><strong>autoplay_zp</strong> – Sonos zone component that plays lines/spdif content</li>
<li><strong>autoplay_zp</strong> – Sonos zone component that is source of linein/spdif
content</li>
<li><strong>mplayer</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">MplayerPlayback</span></code>) – mplayer context manager to play linein/spdif content</li>
<li><strong>track</strong> (<em>str</em>) – Track to play using mplayer</li>
<li><strong>source</strong> (<em>str</em>) – Source linein or spdif</li>
<li><strong>playback_state</strong> (<em>str</em>) – Initial playback state of autoplay zp</li>
<li><strong>gms</strong> (<em>list</em>) – List of sonos zone componets that are GMs</li>
<li><strong>autoplay_linked_config</strong> (<em>str</em>) – AutoplayLinkedZone config</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.get_num_zps_linked">
<code class="descname">get_num_zps_linked</code><span class="sig-paren">(</span><em>gc</em>, <em>gms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.get_num_zps_linked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.get_num_zps_linked" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of zps from gms list linked to gc</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>gc</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – Sonos zone component that is group coordinator</li>
<li><strong>gms</strong> (<em>list</em>) – List of sonos zone components expected to be group
members</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Number of zones from gms linked to gc</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.get_track_uris">
<code class="descname">get_track_uris</code><span class="sig-paren">(</span><em>tracks</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.get_track_uris"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.get_track_uris" title="Permalink to this definition">¶</a></dt>
<dd><p>Get track uri list for tracks given the source (local webserver or
nas
:param tracks: List of tracks
:type tracks: :<cite>list</cite>
:return: List of uris
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.get_tracks">
<code class="descname">get_tracks</code><span class="sig-paren">(</span><em>tracks=None</em>, <em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.get_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.get_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy tracks from local disc for web hosting
:param list tracks: List of tracks to copy, default CPU tracks
:param str path: Path to copy tracks from. Default CPU track location</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.restore_udplogger_diagcs">
<code class="descname">restore_udplogger_diagcs</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.restore_udplogger_diagcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.restore_udplogger_diagcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore udplogger and diagc after reboot of zps. Turn of amps</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zps</strong> (<em>list</em>) – List of sonos zone components on which to restore
udplogger and diags</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup Fixture</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup test. Cleanup devices and set initial values.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.set_diagcs">
<code class="descname">set_diagcs</code><span class="sig-paren">(</span><em>clear=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.set_diagcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.set_diagcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set diagcs</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.setup_udp_logger">
<code class="descname">setup_udp_logger</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.setup_udp_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.setup_udp_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup udp logger and pass in callbacks for strings we are looking for
:param zp: sonos zone player for which to setup udp logger
:type zp: :class:<a href="#id1"><span class="problematic" id="id2">``</span></a>~sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.setup_webserver">
<code class="descname">setup_webserver</code><span class="sig-paren">(</span><em>handlers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.setup_webserver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.setup_webserver" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup local web server
:param handlers: Basically dictionary of tracks to serve up
:type handlers: <code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.start_playback">
<code class="descname">start_playback</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.start_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.start_playback" title="Permalink to this definition">¶</a></dt>
<dd><p>Start playback
:param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Teardown fixture</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.verify_autoplay">
<code class="descname">verify_autoplay</code><span class="sig-paren">(</span><em>source_zp=None</em>, <em>autoplay_zp=None</em>, <em>gms=None</em>, <em>source=None</em>, <em>autoplay_linked_config=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.verify_autoplay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.verify_autoplay" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify autoplay on autoplay zone player as well as group members
depending on autoplay link config</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – linein or spdif source player</li>
<li><strong>autoplay_zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – Line in or spdif autoplay player</li>
<li><strong>gms</strong> (<em>list</em>) – List of sonos zone component</li>
<li><strong>source</strong> (<em>str</em>) – Line in or spdif</li>
<li><strong>autoplay_linked_config</strong> (<em>str</em>) – AutoPlay Linked Zones config</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.verify_avts_not_changed">
<code class="descname">verify_avts_not_changed</code><span class="sig-paren">(</span><em>ht_master</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.verify_avts_not_changed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.verify_avts_not_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify no avt state change on ht master device ht_master to continue
playing for atleast SPDIF_PLAYBACK_TIME
:param ht_master: Sonos zone component - New gc of group
:type ht_master: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:return: avts_unchanged</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlayBase.verify_devices_playing">
<code class="descname">verify_devices_playing</code><span class="sig-paren">(</span><em>devices</em>, <em>codec=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlayBase.verify_devices_playing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase.verify_devices_playing" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify devices are playing specified codec</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>devices</strong> (<em>list</em>) – List of sonos zone component</li>
<li><strong>codec</strong> (<em>str</em>) – Codec</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Did devices play specified codec ?</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlaySource">
<em class="property">class </em><code class="descclassname">upnp.functional.autoplay.autoplay_base.</code><code class="descname">AutoPlaySource</code><a class="reference internal" href="_modules/upnp/functional/autoplay/autoplay_base.html#AutoPlaySource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlaySource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">custom_enums.StringEnum</span></code></p>
<dl class="attribute">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlaySource.LINEIN">
<code class="descname">LINEIN</code><em class="property"> = 'RCA'</em><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlaySource.LINEIN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.autoplay_base.AutoPlaySource.SPDIF">
<code class="descname">SPDIF</code><em class="property"> = 'TV'</em><a class="headerlink" href="#upnp.functional.autoplay.autoplay_base.AutoPlaySource.SPDIF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.autoplay.test_ht_autoplay">
<span id="upnp-functional-autoplay-test-ht-autoplay-module"></span><h2>upnp.functional.autoplay.test_ht_autoplay module<a class="headerlink" href="#module-upnp.functional.autoplay.test_ht_autoplay" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests">
<em class="property">class </em><code class="descclassname">upnp.functional.autoplay.test_ht_autoplay.</code><code class="descname">HTAutoPlayTests</code><span class="sig-paren">(</span><em>fixture_name=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_ht_autoplay.html#HTAutoPlayTests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase" title="upnp.functional.autoplay.autoplay_base.AutoPlayBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.autoplay.autoplay_base.AutoPlayBase</span></code></a></p>
<p>Test autoplay functionality on player for SPDIF content.
Following tests are covered.
1. Verify autoplay for SPDIF with following variations:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>Grouped zones linked or unlinked on autoplay.</li>
<li>Autoplay enabled before or after spdif content start</li>
<li><dl class="first docutils">
<dt>Autoplay zone already playing music or idle when  spdif content</dt>
<dd>starts.</dd>
</dl>
</li>
<li>Reboot of ht master</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><dl class="first docutils">
<dt>Verify delegation on autoplay (this is already covered in delegation</dt>
<dd>stress test, but also tested here for completeness)</dd>
</dl>
</li>
<li>Test autostop</li>
</ol>
<dl class="attribute">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.AUTOPLAY_LINKED_CONFIGS">
<code class="descname">AUTOPLAY_LINKED_CONFIGS</code><em class="property"> = ['linked_on_autoplay', 'unlink_on_autoplay']</em><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.AUTOPLAY_LINKED_CONFIGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.AUTOPLAY_STATES">
<code class="descname">AUTOPLAY_STATES</code><em class="property"> = ['autoplay_enabled_after_content_start', 'autoplay_enabled_before_content_start']</em><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.AUTOPLAY_STATES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.PLAYBACK_STATES">
<code class="descname">PLAYBACK_STATES</code><em class="property"> = ['idle', 'playing_music']</em><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.PLAYBACK_STATES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.generate_ht_master_and_states">
<code class="descname">generate_ht_master_and_states</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_ht_autoplay.html#HTAutoPlayTests.generate_ht_master_and_states"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.generate_ht_master_and_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate ht_master device, autoplay linked config, initial
playback state of autoplay zone player and when autoplay is enabled
(before linein source playback or after.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.generate_ht_master_autoplay_and_playback_states">
<code class="descname">generate_ht_master_autoplay_and_playback_states</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_ht_autoplay.html#HTAutoPlayTests.generate_ht_master_autoplay_and_playback_states"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.generate_ht_master_autoplay_and_playback_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for delegation on spdif autoplay. Generate ht master, when autoplay
is enabled and initial playback state of (non ht master gc)</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.generate_linein_zp_ht_master_and_ht_master_playing_state">
<code class="descname">generate_linein_zp_ht_master_and_ht_master_playing_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_ht_autoplay.html#HTAutoPlayTests.generate_linein_zp_ht_master_and_ht_master_playing_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.generate_linein_zp_ht_master_and_ht_master_playing_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate HT master, linein device and ht_master playing state</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_autoplay_on_ht_master">
<code class="descname">test_autoplay_on_ht_master</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_ht_autoplay.html#HTAutoPlayTests.test_autoplay_on_ht_master"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_autoplay_on_ht_master" title="Permalink to this definition">¶</a></dt>
<dd><p>Test autoplay of spdif content on ht master with following variations:
1. autoplay linked config: Keep grouped device link or unlink when</p>
<blockquote>
<div>autoplay of spdif content starts</div></blockquote>
<ol class="arabic simple" start="2">
<li><dl class="first docutils">
<dt>playback state: Playback state of ht_master when spdif content is</dt>
<dd>available</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>when autoplay enabled: Autoplay enabled before or after spdif content</dt>
<dd>:raise available.</dd>
</dl>
</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ht_master</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – ht master capable sonos zone component</li>
<li><strong>autoplay_linked_config</strong> (<em>str</em>) – Auto playLinkZone config</li>
<li><strong>playback_state</strong> (<em>str</em>) – Initial playback state of ht_master</li>
<li><strong>when_autoplay_enabled</strong> (<em>str</em>) – When autoplay enabled on ht master,
before or after start of spdif content.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_delegation_to_ht_master">
<code class="descname">test_delegation_to_ht_master</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_ht_autoplay.html#HTAutoPlayTests.test_delegation_to_ht_master"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_delegation_to_ht_master" title="Permalink to this definition">¶</a></dt>
<dd><p>Test delagation to ht_master when ht_master is a group member and
has TV content to play. The original GC should delegate to ht_master and
becomes GM of the new group whose GC is ht_master playing TV</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ht_master</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – ht master capable sonos zone component</li>
<li><strong>when_autoplay_enabled</strong> (<em>str</em>) – When autoplay on ht_master is enabled
before or after spdif content is available</li>
<li><strong>playback_state</strong> (<em>str</em>) – HT master state when spdif content starts,
playing music or idle.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_ht_master_autostop">
<code class="descname">test_ht_master_autostop</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_ht_autoplay.html#HTAutoPlayTests.test_ht_master_autostop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_ht_master_autostop" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify we engage autostop after autostop time on htmaster devices
after there is silence for HTA_HTA_SILENCE_THRESHOLD_AUTOSTOP_SEC secs.
:param ht_master: Ht master capable device
:type ht_master: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_linein_autoplay_with_ht_master">
<code class="descname">test_linein_autoplay_with_ht_master</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_ht_autoplay.html#HTAutoPlayTests.test_linein_autoplay_with_ht_master"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_linein_autoplay_with_ht_master" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify HT master plays line in in following cases:
1. HT master is playing TV, line in content starts (htmaster is set
as linein autoplay room).
2. HT master is playing linein, TV content starts (htmaster
autoplay tv is set), ht master continues to play line in
:param ht_master: Ht master capable device
:type ht_master: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:param linein_zp: Sonos zone component
:type linein_zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:param bool htmaster_playing_tv: Is ht master already playing tv</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_spdif_autoplay_device_reboot">
<code class="descname">test_spdif_autoplay_device_reboot</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_ht_autoplay.html#HTAutoPlayTests.test_spdif_autoplay_device_reboot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_ht_autoplay.HTAutoPlayTests.test_spdif_autoplay_device_reboot" title="Permalink to this definition">¶</a></dt>
<dd><p>Test autoplay of spdif content resumes on ht_master after ht_master
reboots and is up.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ht_master</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – ht master capable sonos zone component</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.autoplay.test_linein_autoplay">
<span id="upnp-functional-autoplay-test-linein-autoplay-module"></span><h2>upnp.functional.autoplay.test_linein_autoplay module<a class="headerlink" href="#module-upnp.functional.autoplay.test_linein_autoplay" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests">
<em class="property">class </em><code class="descclassname">upnp.functional.autoplay.test_linein_autoplay.</code><code class="descname">LineinAutoPlayTests</code><span class="sig-paren">(</span><em>fixture_name=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#upnp.functional.autoplay.autoplay_base.AutoPlayBase" title="upnp.functional.autoplay.autoplay_base.AutoPlayBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.functional.autoplay.autoplay_base.AutoPlayBase</span></code></a></p>
<p>Test autoplay functionality on player for linein content.
Following tests are covered.
1. Verify autoplay for Linein with following variations:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>Grouped zones linked or unlinked on autoplay.</li>
<li>Autoplay enabled before or after line in content start</li>
<li><dl class="first docutils">
<dt>Autoplay zone already playing music or idle when linein content</dt>
<dd>starts.</dd>
</dl>
</li>
<li>Autoplay on source or other then source zone player.</li>
<li><dl class="first docutils">
<dt>Reboot of line in source, or autoplay zone player or both players.</dt>
<dd>(SWPBL-63515)</dd>
</dl>
</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><dl class="first docutils">
<dt>Verify when (for wired players) playing line-in on 3 or more target</dt>
<dd>(line in content playback devices - aka ‘remotes’) we switch from wav to
SBC codec.</dd>
</dl>
</li>
<li>Verify when user hits pause, Linein playback stops. (SWPBL-65285)</li>
</ol>
<dl class="attribute">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.AUTOPLAY_LINKED_CONFIGS">
<code class="descname">AUTOPLAY_LINKED_CONFIGS</code><em class="property"> = ['linked_on_autoplay', 'unlink_on_autoplay']</em><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.AUTOPLAY_LINKED_CONFIGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.AUTOPLAY_STATES">
<code class="descname">AUTOPLAY_STATES</code><em class="property"> = ['autoplay_enabled_after_content_start', 'autoplay_enabled_before_content_start']</em><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.AUTOPLAY_STATES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.PLAYBACK_STATES">
<code class="descname">PLAYBACK_STATES</code><em class="property"> = ['idle', 'playing_music']</em><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.PLAYBACK_STATES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_autoplay_location_and_stop_method">
<code class="descname">generate_linein_autoplay_location_and_stop_method</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.generate_linein_autoplay_location_and_stop_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_autoplay_location_and_stop_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate line in (and connected) player, autoplay zp (playing on
itself or on other player) and user action to stop playback</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_autoplay_location_stop_method_and_activity">
<code class="descname">generate_linein_autoplay_location_stop_method_and_activity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.generate_linein_autoplay_location_stop_method_and_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_autoplay_location_stop_method_and_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate line in (and connected) player, autoplay zp (playing on
itself or on other player) and user action to stop playback</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_player_and_rebooting_player">
<code class="descname">generate_linein_player_and_rebooting_player</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.generate_linein_player_and_rebooting_player"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_player_and_rebooting_player" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate line in capable player, where linein content should play on
source or other player, and player that would be rebooted</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_player_and_states">
<code class="descname">generate_linein_player_and_states</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.generate_linein_player_and_states"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_player_and_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate line in capable player, autoplay linked config, initial
playback state of autoplay zone player and when autoplay is enabled
(before linein source playback or after.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_zp_and_autoplay_location">
<code class="descname">generate_linein_zp_and_autoplay_location</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.generate_linein_zp_and_autoplay_location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.generate_linein_zp_and_autoplay_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate line in (and connected) player, autoplay zp (playing on
itself or on other player)</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_autoplay_on_linein_source">
<code class="descname">test_autoplay_on_linein_source</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.test_autoplay_on_linein_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_autoplay_on_linein_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Test linein autoplay on linein source player itself with following
variations:
1. autoplay_linked config: Keep grouped devices linked or unlinked them
2. Initial playback state of autoplay target zp
3. Autoplay enabled before or after linein content is available</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linein_zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – Line in connected zone player</li>
<li><strong>autoplay_linked_config</strong> (<em>str</em>) – AutoplayLinkedZoneConfig</li>
<li><strong>playback_state</strong> (<em>str</em>) – Initial playback state of autoplay zone</li>
<li><strong>when_autoplay_enabled</strong> (<em>str</em>) – Autoplay enabled before or after
line in content is available to play.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_autoplay_codec">
<code class="descname">test_linein_autoplay_codec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.test_linein_autoplay_codec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_autoplay_codec" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify codec type played on autoplay zones. For less than 3 remotes play
wav. For 3 or more remotes switch to sbc. Also If remotes reduced. After
pause and  resume, we switch to wav.</p>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_autoplay_device_reboot">
<code class="descname">test_linein_autoplay_device_reboot</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.test_linein_autoplay_device_reboot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_autoplay_device_reboot" title="Permalink to this definition">¶</a></dt>
<dd><p>Test linein autoplay resume after reboot.
following variations:
1. Is autoplay zp same as the linein source or different.
2. Which player is rebooting: linein or autoplay player or both</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – Line in source zone player</li>
<li><strong>is_autoplay_zp_source</strong> (<em>bool</em>) – Is target autoplay player local or
remote</li>
<li><strong>rebooting_device</strong> (<em>str</em>) – Rebooting device source or remote or both</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_autoplay_on_non_linein_source">
<code class="descname">test_linein_autoplay_on_non_linein_source</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.test_linein_autoplay_on_non_linein_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_autoplay_on_non_linein_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Test linein autoplay on linein source player other than itself with
following variations:
1. autoplay_linked config: Keep grouped devices linked or unlinked them
2. Initial playback state of autoplay target zp
3. Autoplay enabled before or after linein content is available</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linein_zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – Line in connected zone player</li>
<li><strong>autoplay_linked_config</strong> (<em>str</em>) – AutoplayLinkedZoneConfig</li>
<li><strong>playback_state</strong> (<em>str</em>) – Initial playback state of autoplay zone</li>
<li><strong>when_autoplay_enabled</strong> (<em>str</em>) – Autoplay enabled before or after
line in content is available to play.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_autostop">
<code class="descname">test_linein_autostop</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.test_linein_autostop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_autostop" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify when content stop, autostop kicks in 13 seconds
:param linein_zp: Line in source
:type linein_zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:param str autoplay_location: Autoplay location (on line in source</p>
<blockquote>
<div>itself or on other player or remote)</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_no_autoplay_before_silence_detection">
<code class="descname">test_linein_no_autoplay_before_silence_detection</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.test_linein_no_autoplay_before_silence_detection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_no_autoplay_before_silence_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify we do not autoplay before silence time of 13 sec
:param linein_zp: Line in source
:type linein_zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:param str autoplay_location: Autoplay location (on line in source</p>
<blockquote>
<div>itself or on other player or remote)</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_user_stop">
<code class="descname">test_linein_user_stop</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/upnp/functional/autoplay/test_linein_autoplay.html#LineinAutoPlayTests.test_linein_user_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#upnp.functional.autoplay.test_linein_autoplay.LineinAutoPlayTests.test_linein_user_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify with autoplay on,
1. When user hits play/pause via controller or
button, playback stops until user triggers play via controller or
buttons
2. Playback does not resume until the line in silence time meets the
auto stop interval and the line in source begins playing anew.
:param linein_zp: Line in source
:type linein_zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:param str autoplay_location: Autoplay location (on line in source</p>
<blockquote>
<div>itself or on other player or remote)</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stop_method</strong> (<em>str</em>) – How does user stop playback, via controller or
play/pause button</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-upnp.functional.autoplay">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-upnp.functional.autoplay" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">TestCase Documentation</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="audio.html">audio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">cloud package</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_reporting.html">data_reporting package</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataio.html">dataio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">examples package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hdmi.html">hdmi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="ixchariot.html">ixchariot package</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">networking package</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">other package</a></li>
<li class="toctree-l1"><a class="reference internal" href="perf.html">perf package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytest_automation.html">pytest_automation package</a></li>
<li class="toctree-l1"><a class="reference internal" href="secure_registration.html">secure_registration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="syssw.html">syssw package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="upnp.html">upnp package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="upnp.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="upnp.api.html">upnp.api package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="upnp.functional.html">upnp.functional package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="upnp.functional.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="upnp.functional.html#module-upnp.functional">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="upnp.helpers.html">upnp.helpers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="upnp.stress.html">upnp.stress package</a></li>
<li class="toctree-l3"><a class="reference internal" href="upnp.suites.html">upnp.suites package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="upnp.html#module-upnp">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">voice package</a></li>
<li class="toctree-l1"><a class="reference internal" href="webserver.html">webserver package</a></li>
<li class="toctree-l1"><a class="reference internal" href="webserver_v0.html">webserver_v0 package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="upnp.html">upnp package</a><ul>
  <li><a href="upnp.functional.html">upnp.functional package</a><ul>
      <li>Previous: <a href="upnp.functional.html" title="previous chapter">upnp.functional package</a></li>
      <li>Next: <a href="upnp.functional.bonding.html" title="next chapter">upnp.functional.bonding package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Author.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/upnp.functional.autoplay.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>