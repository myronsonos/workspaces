
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pytest_automation.pytest_sonos_device_selection &#8212; TestCase Documentation  documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for pytest_automation.pytest_sonos_device_selection</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This plugin implements fixtures that allow you to use Sonos devices in Pytest</span>
<span class="sd">fixtures and testcases.</span>

<span class="sd">Fixtures implemented by this plugin should select devices based upon static</span>
<span class="sd">attributes (such as model number, platform, marketing name, product features,</span>
<span class="sd">etc).</span>

<span class="sd">Fixtures based on more dynamic attributes (such as registration state, whether</span>
<span class="sd">an audio cable is connected, signal strength, etc) should be implemented in a</span>
<span class="sd">local conftest.py file.</span>

<span class="sd">This plugin uses the following naming conventions for fixtures:</span>

<span class="sd">    * all_&lt;attribute&gt;: Return a list of all devices with &lt;attribute&gt;</span>
<span class="sd">    * a_&lt;attribute&gt;: Return a single device with &lt;attribute&gt;</span>
<span class="sd">    * &lt;attribute&gt;: Return each device with &lt;attribute&gt;, once at a time.</span>

<span class="sd">.. code-block:: pycon</span>

<span class="sd">    def test_all_devices(all_devices):</span>
<span class="sd">     # Testcase uses all devices specified in testbed configuration</span>

<span class="sd">    @pytest.fixture(scope=&quot;session&quot;)</span>
<span class="sd">    def setup_duts(all_s5):</span>
<span class="sd">     # This fixture will return a list containing all testbed S5s</span>

<span class="sd">.. code-block:: pycon</span>

<span class="sd">    def test_s5(a_s5):</span>
<span class="sd">     # Testcase uses a single S5 in the testbed</span>

<span class="sd">    @pytest.fixture(scope=&quot;session&quot;)</span>
<span class="sd">    def configured_playbar(a_playbar):</span>
<span class="sd">     # This fixture will use a single Playbar (S9) in the testbed</span>

<span class="sd">.. code-block:: pycon</span>

<span class="sd">    def test_some_devices(s3):</span>
<span class="sd">     # Testcase is parametrized with each testbed S3</span>

<span class="sd">    def test_devices_with_speakers(device_with_builtin_speaker):</span>
<span class="sd">     # Testcase is parametrized with each testbed device with a speaker</span>

<span class="sd">For a complete list of properties and fixtures available, run</span>
<span class="sd">&quot;pytest --fixtures&quot;.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">sonos.subnet</span>
<span class="kn">from</span> <span class="nn">sonos.client.internal</span> <span class="k">import</span> <span class="n">SonosZoneComponent</span>
<span class="kn">from</span> <span class="nn">sonos.exception</span> <span class="k">import</span> <span class="n">TestbedError</span>
<span class="kn">from</span> <span class="nn">sonos.client.zone_player</span> <span class="k">import</span> <span class="p">(</span>
        <span class="n">ALL_PLATFORMS</span><span class="p">,</span>
        <span class="n">ALL_IN_ONE_MODELS</span><span class="p">,</span>
        <span class="n">BONDED_SUB_DEVICES</span><span class="p">,</span>
        <span class="n">CPU_SCALING_DEVICES</span><span class="p">,</span>
        <span class="n">DEVICES_WITH_BUILT_IN_SPEAKERS</span><span class="p">,</span>
        <span class="n">HT_MASTER_MODELS</span><span class="p">,</span>
        <span class="n">HT_SATELLITE_DEVICES</span><span class="p">,</span>
        <span class="n">PAIRABLE_MODEL_COMPATIBILITY_MAP</span><span class="p">,</span>
        <span class="n">PLAYBACK_DEVICES</span><span class="p">,</span>
        <span class="n">PLAYBACK_PLATFORMS</span><span class="p">,</span>
        <span class="n">SECURE_BOOT_DEVICES</span><span class="p">,</span>
        <span class="n">IMX6_DEVICES</span><span class="p">,</span>
        <span class="n">MTK_DEVICES</span><span class="p">,</span>
        <span class="n">A113_DEVICES</span><span class="p">,</span>
        <span class="n">AUDIO_FEEDBACK_MODELS</span><span class="p">,</span>
        <span class="n">PRE_FENWAY_MODELS</span><span class="p">,</span>
        <span class="n">LINE_IN_CAPABLE_MODELS</span><span class="p">,</span>
        <span class="n">RCA_LINE_OUT_CAPABLE_MODELS</span><span class="p">,</span>
        <span class="n">BALANCE_CAPABLE_MODELS</span><span class="p">,</span>
        <span class="n">AIRPLAY_DEVICES</span><span class="p">,</span>
        <span class="n">CAP_TOUCH_DEVICES</span><span class="p">,</span>
        <span class="n">NON_AIRPLAY_DEVICES</span><span class="p">,</span>
        <span class="n">PORTABLE_DEVICES</span><span class="p">,</span>
        <span class="n">BTLE_DEVICES</span><span class="p">,</span> <span class="n">HDMI_DEVICES</span><span class="p">,</span> <span class="n">DEVICES_WITH_BUILT_IN_MICS</span><span class="p">,</span>
        <span class="n">HT_SOLO_REAR_SURROUND_DEVICES</span><span class="p">,</span>
        <span class="n">PLAYBACK_DEVICES_JOIN_BUTTON_NO_CAP_TOUCH</span><span class="p">,</span>
        <span class="n">PLATFORM_TO_MODELS</span><span class="p">,</span> <span class="n">BT_DEVICES</span><span class="p">,</span>
        <span class="n">ZP80</span><span class="p">,</span> <span class="n">ZP90</span><span class="p">,</span> <span class="n">ZP100</span><span class="p">,</span> <span class="n">ZP120</span><span class="p">,</span> <span class="n">S5</span><span class="p">,</span> <span class="n">S6</span><span class="p">,</span> <span class="n">S3</span><span class="p">,</span> <span class="n">S1</span><span class="p">,</span> <span class="n">SUB</span><span class="p">,</span> <span class="n">ZB100</span><span class="p">,</span> <span class="n">BR200</span><span class="p">,</span> <span class="n">WD100</span><span class="p">,</span> <span class="n">S9</span><span class="p">,</span>
        <span class="n">S11</span><span class="p">,</span> <span class="n">S12</span><span class="p">,</span> <span class="n">S13</span><span class="p">,</span> <span class="n">S14</span><span class="p">,</span> <span class="n">S15</span><span class="p">,</span> <span class="n">S16</span><span class="p">,</span> <span class="n">S17</span><span class="p">,</span> <span class="n">S18</span><span class="p">,</span> <span class="n">S19</span><span class="p">,</span> <span class="n">S20</span><span class="p">,</span> <span class="n">S21</span><span class="p">,</span> <span class="n">S22</span><span class="p">,</span> <span class="n">S23</span><span class="p">,</span>
        <span class="n">PLATFORM_SH4</span><span class="p">,</span>
        <span class="n">PLATFORM_MIPS</span><span class="p">,</span> <span class="n">PLATFORM_MIPS24K</span><span class="p">,</span> <span class="n">PLATFORM_FENWAY</span><span class="p">,</span> <span class="n">PLATFORM_LIMELIGHT</span><span class="p">,</span>
        <span class="n">PLATFORM_FILLMORE</span><span class="p">,</span> <span class="n">PLATFORM_ARM</span><span class="p">,</span> <span class="n">PLATFORM_ENCORE</span><span class="p">,</span> <span class="n">PLATFORM_SOLBASE</span><span class="p">,</span>
        <span class="n">PLATFORM_PPC</span><span class="p">,</span> <span class="n">PLATFORM_CONNECTX</span><span class="p">,</span> <span class="n">PLATFORM_LACKS_NTP_DAEMON</span><span class="p">,</span>
        <span class="n">DUAL_MONO_MODE_CAPABLE_DEVICES</span><span class="p">,</span>
        <span class="n">HT_WIFI_DISABLED_IF_WIRED_SATELLITE_DEVICES</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">common.printk_monitor</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">get_serial_port_server</span><span class="p">,</span>
    <span class="n">setup_printk_monitor</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">random</span>

<span class="n">SKIP_MISSING_OPTION</span> <span class="o">=</span> <span class="s1">&#39;--skip_missing_devices&#39;</span>
<span class="n">REQUIRED_PYTEST_MAJOR_VERSION</span> <span class="o">=</span> <span class="mi">4</span>

<div class="viewcode-block" id="pytest_addoption"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.pytest_addoption">[docs]</a><span class="k">def</span> <span class="nf">pytest_addoption</span><span class="p">(</span><span class="n">parser</span><span class="p">):</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">addoption</span><span class="p">(</span>
        <span class="n">SKIP_MISSING_OPTION</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;skips a test if a device needed for the test is not in the testbed&quot;</span>
    <span class="p">)</span></div>

<div class="viewcode-block" id="skip_or_testbed_error"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.skip_or_testbed_error">[docs]</a><span class="k">def</span> <span class="nf">skip_or_testbed_error</span><span class="p">(</span><span class="n">message</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">pytest</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">getoption</span><span class="p">(</span><span class="n">SKIP_MISSING_OPTION</span><span class="p">):</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">TestbedError</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></div>

<div class="viewcode-block" id="pytest_load_initial_conftests"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.pytest_load_initial_conftests">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">hookimpl</span><span class="p">(</span><span class="n">tryfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">pytest_load_initial_conftests</span><span class="p">(</span><span class="n">early_config</span><span class="p">,</span> <span class="n">parser</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    * Sanity check installed Pytest version.</span>
<span class="sd">    * Add this plugin to the Pytest namespace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO: remove version check in SWPBL-114774</span>
    <span class="n">pytest_major_version</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pytest</span><span class="o">.</span><span class="n">__version__</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">pytest_major_version</span> <span class="o">&lt;</span> <span class="n">REQUIRED_PYTEST_MAJOR_VERSION</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;This plugin requires Pytest 4.0.0 or greater (found </span><span class="si">{}</span><span class="s2">). &quot;</span>
                <span class="s2">&quot;Please visit https://confluence.sonos.com/display/PDSW/Pytest#Pytest-UpdatetoPytest4 &quot;</span>
                <span class="s2">&quot;for instructions on updating to the latest supported version!&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pytest</span><span class="o">.</span><span class="n">__version__</span><span class="p">))</span>
    <span class="n">pytest</span><span class="o">.</span><span class="n">device_selection</span> <span class="o">=</span> <span class="n">early_config</span><span class="o">.</span><span class="n">pluginmanager</span><span class="o">.</span><span class="n">getplugin</span><span class="p">(</span>
            <span class="s2">&quot;pytest_automation.pytest_sonos_device_selection&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="pytest_sessionstart"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.pytest_sessionstart">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">hookimpl</span><span class="p">(</span><span class="n">tryfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">pytest_sessionstart</span><span class="p">(</span><span class="n">session</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This hook executes before test collection begins. We want the</span>
<span class="sd">    testbed and all devices discovered prior to collection, otherwise</span>
<span class="sd">    device discovery may fail during collection.</span>

<span class="sd">    :param session: The pytest session object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_test_framework_started</span><span class="p">():</span>
        <span class="n">start_test_framework</span><span class="p">()</span></div>


<div class="viewcode-block" id="is_test_framework_started"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.is_test_framework_started">[docs]</a><span class="k">def</span> <span class="nf">is_test_framework_started</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :return: Has a :class:`sonos.subnet.Devices` instance been created yet?</span>
<span class="sd">    :rtype: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">pytest</span><span class="p">,</span> <span class="s2">&quot;subnet&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="start_test_framework"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.start_test_framework">[docs]</a><span class="k">def</span> <span class="nf">start_test_framework</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a :class:`sonos.subnet.Devices` instance, and adds it to the Pytest</span>
<span class="sd">    namespace.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pytest</span><span class="o">.</span><span class="n">subnet</span> <span class="o">=</span> <span class="n">sonos</span><span class="o">.</span><span class="n">subnet</span><span class="o">.</span><span class="n">Devices</span><span class="p">()</span>
    <span class="n">pytest</span><span class="o">.</span><span class="n">subnet</span><span class="o">.</span><span class="n">wait_for_all_environment_devices</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">pytest</span><span class="o">.</span><span class="n">subnet</span><span class="o">.</span><span class="n">environment</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> \
        <span class="s2">&quot;Expect devices to be on subnet and configured in testbed.json&quot;</span></div>

<div class="viewcode-block" id="pytest_generate_tests"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.pytest_generate_tests">[docs]</a><span class="k">def</span> <span class="nf">pytest_generate_tests</span><span class="p">(</span><span class="n">metafunc</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Runs for each testcase collected in a Pytest session.</span>

<span class="sd">    * Start the UPnP control point (if required and not already started).</span>
<span class="sd">    * If the testcase uses a model, platform, or display name as a positional</span>
<span class="sd">      argument, find the appropriate device(s) in the testbed.</span>
<span class="sd">    * Parametrize the testcase differently based on selection type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">_build_fixture_request</span><span class="p">():</span>
        <span class="n">fixture_module</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">pluginmanager</span><span class="o">.</span><span class="n">getplugin</span><span class="p">(</span><span class="s1">&#39;fixtures&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fixture_module</span><span class="o">.</span><span class="n">FixtureRequest</span><span class="p">(</span><span class="n">metafunc</span><span class="o">.</span><span class="n">definition</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_get_fixture</span><span class="p">(</span><span class="n">fixture_name</span><span class="p">):</span>
        <span class="n">device_selection_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;all_</span><span class="si">{}</span><span class="s2">s&quot;</span><span class="p">,</span> <span class="s2">&quot;all_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;all_</span><span class="si">{}</span><span class="s2">_devices&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="n">device_selection_patterns</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fixture_name</span><span class="p">)</span>
            <span class="n">fixture</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">pytest</span><span class="o">.</span><span class="n">device_selection</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">fixture</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">fixture</span><span class="o">.</span><span class="n">func_name</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">metafunc</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">getoption</span><span class="p">(</span><span class="s2">&quot;setupplan&quot;</span><span class="p">)</span> <span class="ow">or</span>
            <span class="n">metafunc</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">getoption</span><span class="p">(</span><span class="s2">&quot;showfixtures&quot;</span><span class="p">)):</span>
        <span class="c1"># There&#39;s nothing to parametrize when running Pytest in --setup-plan</span>
        <span class="c1"># or --fixtures modes</span>
        <span class="k">return</span>
    <span class="n">parametrized_fixtures</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">metafunc</span><span class="o">.</span><span class="n">fixturenames</span><span class="p">:</span>
        <span class="n">fixture_name</span> <span class="o">=</span> <span class="n">_get_fixture</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">fixture_name</span><span class="p">:</span>
            <span class="n">parametrized_fixtures</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">=</span> <span class="n">fixture_name</span>
    <span class="k">if</span> <span class="n">parametrized_fixtures</span><span class="p">:</span>
        <span class="n">names</span> <span class="o">=</span> <span class="n">parametrized_fixtures</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="n">fixture_request</span> <span class="o">=</span> <span class="n">_build_fixture_request</span><span class="p">()</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span>
                 <span class="o">*</span><span class="p">[</span><span class="n">fixture_request</span><span class="o">.</span><span class="n">getfixturevalue</span><span class="p">(</span><span class="n">fixture</span><span class="p">)</span>
                 <span class="k">for</span> <span class="n">fixture</span> <span class="ow">in</span> <span class="n">parametrized_fixtures</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
        <span class="n">metafunc</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="n">indirect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="pytest_make_parametrize_id"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.pytest_make_parametrize_id">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">hookimpl</span><span class="p">(</span><span class="n">trylast</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">pytest_make_parametrize_id</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Called for each parameter used in a parametrized testcase.</span>

<span class="sd">    Generates string IDs for :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    parameters. This hook is set to run only if a string ID has not already</span>
<span class="sd">    been generated for this parameter.</span>

<span class="sd">    If the parameter is a :class:`~sonos.client.internal.SonosZoneComponent`,</span>
<span class="sd">    or a single element tuple containing a</span>
<span class="sd">    :class:`~sonos.client.internal.SonosZoneComponent`, a string with the</span>
<span class="sd">    model and serial will be returned.</span>

<span class="sd">    If the parameter is a list of</span>
<span class="sd">    :class:`~sonos.client.internal.SonosZoneComponent`s, an ID will be</span>
<span class="sd">    generated for their shared platform or model. If the list does not match</span>
<span class="sd">    this criteria, no string ID will be generated.</span>

<span class="sd">    :return: String ID for parameter</span>
<span class="sd">    :rtype: `str`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">is_szp</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">SonosZoneComponent</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">all_szps</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">([</span><span class="n">is_szp</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">val</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">all_same_model</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">([</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">v</span><span class="o">.</span><span class="n">modelNumber</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">all_same_platform</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">([</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="o">==</span> <span class="n">v</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">val</span><span class="p">])</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">is_szp</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">v</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span> <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="n">serialNumber</span>
    <span class="k">elif</span> <span class="n">is_szp</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">val</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span> <span class="o">+</span> <span class="n">val</span><span class="o">.</span><span class="n">serialNumber</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">all_szps</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">all_same_model</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">modelNumber</span>
        <span class="k">elif</span> <span class="n">all_same_platform</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span></div>

<div class="viewcode-block" id="pytest_collection_modifyitems"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.pytest_collection_modifyitems">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">hookimpl</span><span class="p">(</span><span class="n">tryfirst</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">pytest_collection_modifyitems</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Called once in a Pytest session, after all testcases have been collected.</span>

<span class="sd">    When we parametrize testcases with :meth:`itertools.product`, single</span>
<span class="sd">    :class:`~sonos.client.internal.SonosZoneComponent` objects will be packed</span>
<span class="sd">    into a 1-element tuple.</span>

<span class="sd">    Unpack those here, so we don&#39;t need to in testcases.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">_is_parameterized</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;callspec&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_unpack_items</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">item</span><span class="o">.</span><span class="n">callspec</span><span class="o">.</span><span class="n">params</span><span class="p">:</span>
            <span class="n">param_value</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">callspec</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">param_value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span>
                    <span class="nb">len</span><span class="p">(</span><span class="n">param_value</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span>
                    <span class="nb">isinstance</span><span class="p">(</span><span class="n">param_value</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">SonosZoneComponent</span><span class="p">)):</span>
                <span class="n">item</span><span class="o">.</span><span class="n">callspec</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="n">param_value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">_is_parameterized</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="n">_unpack_items</span><span class="p">(</span><span class="n">item</span><span class="p">)</span></div>

<div class="viewcode-block" id="get_all_testbed_devices_by_model"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.get_all_testbed_devices_by_model">[docs]</a><span class="k">def</span> <span class="nf">get_all_testbed_devices_by_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">is_required</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with this model.</span>

<span class="sd">    :param str model: Desired device model.</span>
<span class="sd">    :return: All :class:`~sonos.client.internal.SonosZoneComponent` devices of</span>
<span class="sd">    the specified model.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">pytest</span><span class="o">.</span><span class="n">subnet</span><span class="o">.</span><span class="n">get_environment_devices</span><span class="p">()</span>
              <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">model</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">devices</span> <span class="ow">and</span> <span class="n">is_test_framework_started</span><span class="p">()</span> <span class="ow">and</span> <span class="n">is_required</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;Not enough </span><span class="si">{}</span><span class="s2">s: need 1 or more&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">model</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">devices</span></div>

<div class="viewcode-block" id="get_testbed_devices_by_model"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.get_testbed_devices_by_model">[docs]</a><span class="k">def</span> <span class="nf">get_testbed_devices_by_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">num_required</span><span class="p">,</span> <span class="n">is_required</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a specified number of testbed devices with the specified</span>
<span class="sd">    model number, or stop the test.</span>

<span class="sd">    :param str model: the model of the device</span>
<span class="sd">    :param int num_required: the max number of devices to return</span>
<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` devices of the</span>
<span class="sd">    specified number and model.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    :raises :exc:IndexError: if could not find enough devices of specified</span>
<span class="sd">    model, after Pytest collection has occurred.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="n">get_all_testbed_devices_by_model</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
                                               <span class="n">is_required</span><span class="o">=</span><span class="n">is_required</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">devices</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">num_required</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">devices</span><span class="p">[:</span><span class="n">num_required</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">is_test_framework_started</span><span class="p">()</span> <span class="ow">and</span> <span class="n">is_required</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;Not enough </span><span class="si">{}</span><span class="s2">s: need </span><span class="si">{}</span><span class="s2">, found </span><span class="si">{}</span><span class="s2">&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">model</span><span class="p">,</span>
                    <span class="n">num_required</span><span class="p">,</span>
                    <span class="nb">len</span><span class="p">(</span><span class="n">get_all_testbed_devices_by_model</span><span class="p">(</span><span class="n">model</span><span class="p">))))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="get_testbed_devices_by_models"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.get_testbed_devices_by_models">[docs]</a><span class="k">def</span> <span class="nf">get_testbed_devices_by_models</span><span class="p">(</span><span class="n">models</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a specified set of testbed devices based on an input list of</span>
<span class="sd">    desired models</span>

<span class="sd">    Ex: [S6, S6, Sub] returns two S6&#39;s and one Sub from testbed</span>
<span class="sd">        [S1, S12, Sub] returns one each of S1, S12, and Sub</span>

<span class="sd">    :param :obj:`list` models: Desired models to retrieve</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    :raises: :exc:IndexError: if could not find enough devices of specified</span>
<span class="sd">    model, after Pytest collection has occurred.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
        <span class="c1"># We haven&#39;t already added this device in the case where we are</span>
        <span class="c1"># requesting more than one of a particular model</span>
        <span class="n">found_devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">devices</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">model</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">found_devices</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">devices</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">get_testbed_devices_by_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span>
                <span class="n">models</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">model</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">devices</span></div>

<div class="viewcode-block" id="get_testbed_device_by_model"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.get_testbed_device_by_model">[docs]</a><span class="k">def</span> <span class="nf">get_testbed_device_by_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">is_required</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return one device of a specified model type or stop the test</span>

<span class="sd">    :param str model: the model of the device</span>
<span class="sd">    :return: A device of the specified model.</span>
<span class="sd">    :rtype: :class:`sonos.client.internal.SonosZoneComponent` or None</span>
<span class="sd">    :raises :exc:IndexError: if could not find enough devices of specified</span>
<span class="sd">    model, after Pytest collection has occurred.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="n">get_testbed_devices_by_model</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">num_required</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                           <span class="n">is_required</span><span class="o">=</span><span class="n">is_required</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">devices</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">is_test_framework_started</span><span class="p">()</span> <span class="ow">and</span> <span class="n">is_required</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;No devices with model </span><span class="si">{}</span><span class="s2"> found&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">model</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="get_all_testbed_devices_by_platform"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.get_all_testbed_devices_by_platform">[docs]</a><span class="k">def</span> <span class="nf">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">platform</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return devices with the specified platform.</span>

<span class="sd">    :param str platform: Desired platform</span>
<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` devices of</span>
<span class="sd">    the specified platform</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">pytest</span><span class="o">.</span><span class="n">subnet</span><span class="o">.</span><span class="n">get_environment_devices</span><span class="p">()</span>
           <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="o">==</span> <span class="n">platform</span><span class="p">]</span></div>

<div class="viewcode-block" id="get_testbed_devices_by_platform"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.get_testbed_devices_by_platform">[docs]</a><span class="k">def</span> <span class="nf">get_testbed_devices_by_platform</span><span class="p">(</span><span class="n">platform</span><span class="p">,</span> <span class="n">num_required</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get testbed devices with the specified platform.</span>

<span class="sd">    :param str platform: Desired platform</span>
<span class="sd">    :param int num_required: Number of devices to return</span>
<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` devices of</span>
<span class="sd">    specified number and platform.</span>

<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    :raises :exc:IndexError: if could not find enough devices of specified</span>
<span class="sd">    platform, after Pytest collection has occurred.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">platform</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">devices</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">num_required</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">devices</span><span class="p">[:</span><span class="n">num_required</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">is_test_framework_started</span><span class="p">():</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span>
                <span class="s2">&quot;Not enough devices with platform </span><span class="si">{}</span><span class="s2">: need </span><span class="si">{}</span><span class="s2">, found </span><span class="si">{}</span><span class="s2">&quot;</span>
                <span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">platform</span><span class="p">,</span>
                    <span class="n">num_required</span><span class="p">,</span>
                    <span class="nb">len</span><span class="p">(</span><span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">platform</span><span class="p">))))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="get_testbed_device_by_platform"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.get_testbed_device_by_platform">[docs]</a><span class="k">def</span> <span class="nf">get_testbed_device_by_platform</span><span class="p">(</span><span class="n">platform</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a single testbed device with the specified platform.</span>

<span class="sd">    :param str platform: Desired platform</span>
<span class="sd">    :return: A device of the specified platform</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="n">get_testbed_devices_by_platform</span><span class="p">(</span><span class="n">platform</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">devices</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns all devices in this testbed.</span>

<span class="sd">    :return: a device on this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all devices in this testbed.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` devices on</span>
<span class="sd">        this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_test_framework_started</span><span class="p">():</span>
        <span class="n">devices</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">subnet</span><span class="o">.</span><span class="n">get_environment_devices</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">devices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">devices</span>
        <span class="k">raise</span> <span class="n">TestbedError</span><span class="p">(</span><span class="s2">&quot;No environment devices found on testbed. &quot;</span>
            <span class="s2">&quot;Please check that your $EXECUTION_ENVIRONMENT is set correctly&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="a_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_device</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a single device in this testbed.</span>

<span class="sd">    :return: A single testbed device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="unique_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns one of each model device in the testbed.</span>

<span class="sd">    :return: A device for each unique model in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_unique_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns one of each model device in the testbed.</span>

<span class="sd">    :return: A :class:`~sonos.client.internal.SonosZoneComponent` device for</span>
<span class="sd">        each unique model in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="c1"># If we&#39;re already seen a device of this model, skip this device.</span>
        <span class="c1"># Note: zp.model is actually a string, such as &quot;ZP100&quot;!</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">models</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span>
    <span class="k">return</span> <span class="n">models</span><span class="o">.</span><span class="n">values</span><span class="p">()</span></div>

<div class="viewcode-block" id="pairable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.pairable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">pairable_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each pairable device combination in</span>
<span class="sd">    the testbed.</span>

<span class="sd">    .. note::</span>

<span class="sd">        pairable is not the same as bond-able.  Pairable means any</span>
<span class="sd">        playback device that can be paired with another playback device.</span>
<span class="sd">        For example, S1 can be paired with another S1 or another S12 as</span>
<span class="sd">        either a stereo pair or as rear satellite pair.</span>

<span class="sd">    :return: Pair of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_pairable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_pairable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_pairable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">,</span> <span class="n">all_unique_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all pairable device combinations in the testbed.</span>

<span class="sd">    .. note::</span>

<span class="sd">        pairable is not the same as bond-able.  Pairable means any</span>
<span class="sd">        playback device that can be paired with another playback device.</span>
<span class="sd">        For example, S1 can be paired with another S1 or another S12 as</span>
<span class="sd">        either a stereo pair or as rear satellite pair.</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">returnable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">left_zone</span> <span class="ow">in</span> <span class="n">all_unique_devices</span><span class="p">:</span>
        <span class="n">pairable_models</span> <span class="o">=</span> <span class="n">PAIRABLE_MODEL_COMPATIBILITY_MAP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">left_zone</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pairable_models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">other_model</span> <span class="ow">in</span> <span class="n">pairable_models</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">right_zone</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">non_left_devices</span> <span class="o">=</span> <span class="p">[</span>
                        <span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span>
                        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">other_model</span> <span class="ow">and</span> <span class="n">d</span> <span class="o">!=</span> <span class="n">left_zone</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">non_left_devices</span><span class="p">:</span>
                    <span class="n">right_zone</span> <span class="o">=</span> <span class="n">non_left_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">left_zone</span> <span class="ow">and</span> <span class="n">right_zone</span><span class="p">:</span>
                    <span class="n">returnable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">left_zone</span><span class="p">,</span> <span class="n">right_zone</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">returnable_devices</span></div>

<div class="viewcode-block" id="a_pairable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_pairable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_pairable_device</span><span class="p">(</span><span class="n">all_pairable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a single pairable device combination in this testbed.</span>

<span class="sd">    :return: Pair of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_pairable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="playback_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.playback_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">playback_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each device capable of playback.</span>

<span class="sd">    :return: Device capable of playback.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_playback_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_playback_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_playback_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all devices capable of playback.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` devices</span>
<span class="sd">        capable of playback.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PLAYBACK_DEVICES</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_non_portable_playback_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_non_portable_playback_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_non_portable_playback_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all non portable devices capable of playback.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` devices</span>
<span class="sd">        capable of playback and not portable</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PLAYBACK_DEVICES</span> <span class="ow">and</span>
                                       <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span><span class="p">)]</span></div>

<div class="viewcode-block" id="all_non_portable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_non_portable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_non_portable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all non portable devices.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` devices not portable</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span><span class="p">]</span></div>

<div class="viewcode-block" id="all_all_in_one_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_all_in_one_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_all_in_one_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all devices that can perform playback and have a speaker (all-in-one)</span>
<span class="sd">    Should also be all TruePlay capable devices?</span>
<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` devices supporting playback</span>
<span class="sd">        and onboard speakers.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">ALL_IN_ONE_MODELS</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_playback_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_playback_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_playback_device</span><span class="p">(</span><span class="n">all_playback_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single playback device from this testbed.</span>

<span class="sd">    :return: A single playback device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_playback_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="unique_cap_touch_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_cap_touch_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_cap_touch_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single cap touch capable device from this testbed.</span>

<span class="sd">    :return: A single cap touch capable device</span>
<span class="sd">    :rtype: :class:~sonos.client.internal.SonosZoneComponent</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_unique_cap_touch_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_cap_touch_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_cap_touch_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all cap touch capable devices from this testbed.</span>

<span class="sd">    :return: A single cap touch capable device</span>
<span class="sd">    :rtype: :class:~sonos.client.internal.SonosZoneComponent</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="n">all_devices</span>
    <span class="n">unique_cap_touch_capable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="n">ALL_PLATFORMS</span><span class="p">:</span>
        <span class="n">cap_touch_devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="o">==</span> <span class="n">arch</span> <span class="ow">and</span>
                             <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">CAP_TOUCH_DEVICES</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">cap_touch_devices</span><span class="p">:</span>
            <span class="n">unique_cap_touch_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cap_touch_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">unique_cap_touch_capable_devices</span></div>

<div class="viewcode-block" id="a_unique_cap_touch_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_cap_touch_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_cap_touch_capable_device</span><span class="p">(</span><span class="n">all_unique_cap_touch_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single cap touch device from this testbed.</span>
<span class="sd">    :param all_unique_cap_touch_capable_devices: all the cap touch devices</span>
<span class="sd">    in the testbed</span>
<span class="sd">    :return: A single cap touch device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_cap_touch_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="platform_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.platform_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">platform_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each group of platforms on this testbed.</span>

<span class="sd">    :return: Each group of platform devices on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_platform_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_platform_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_platform_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices, organized by platform.</span>

<span class="sd">    :return: All devices found on this testbed, grouped by platform.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="n">all_devices</span>
    <span class="n">all_platform_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="n">ALL_PLATFORMS</span><span class="p">:</span>
        <span class="n">platform_devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="o">==</span> <span class="n">arch</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">platform_devices</span><span class="p">:</span>
            <span class="n">all_platform_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">platform_devices</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">all_platform_devices</span></div>

<div class="viewcode-block" id="unique_platform_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_platform_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_platform_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns a unique platform device for each</span>
<span class="sd">    platform in this testbed.</span>

<span class="sd">    :return: A unique platform device on this testbed</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_unique_platform_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_platform_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_platform_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of devices for each platform in this testbed.</span>

<span class="sd">    :return: A unique platform devices on this testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="n">all_devices</span>
    <span class="n">unique_platform_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">arch</span> <span class="ow">in</span> <span class="n">ALL_PLATFORMS</span><span class="p">:</span>
        <span class="n">platform_devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="o">==</span> <span class="n">arch</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">platform_devices</span><span class="p">:</span>
            <span class="n">unique_platform_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">platform_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">unique_platform_devices</span></div>

<div class="viewcode-block" id="devices_by_model"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.devices_by_model">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">devices_by_model</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns devices grouped by model.</span>

<span class="sd">    :return: Each group of models found on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_devices_by_model"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_devices_by_model">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_devices_by_model</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices, organized by model.</span>

<span class="sd">    :return: All devices found on this testbed, grouped by model.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">grouped_devices</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">grouped_devices</span><span class="p">:</span>
            <span class="n">grouped_devices</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">grouped_devices</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">grouped_devices</span><span class="o">.</span><span class="n">values</span><span class="p">()</span></div>

<div class="viewcode-block" id="unique_platform_playback_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_platform_playback_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_platform_playback_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns a playback device from each platform.</span>

<span class="sd">    :return: One playback device per platform in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_unique_platform_playback_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_platform_playback_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_platform_playback_devices</span><span class="p">(</span><span class="n">all_playback_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a playback device from each platform.</span>

<span class="sd">    :return: One playback device per platform in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">platform_playback_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">playback_devices</span> <span class="o">=</span> <span class="n">all_playback_devices</span>
    <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">PLAYBACK_PLATFORMS</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">playback_devices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="o">==</span> <span class="n">platform</span><span class="p">:</span>
                <span class="n">platform_playback_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">platform_playback_devices</span></div>


<div class="viewcode-block" id="all_unique_non_portable_platform_playback_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_non_portable_platform_playback_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_non_portable_platform_playback_devices</span><span class="p">(</span><span class="n">all_non_portable_playback_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a playback device from each platform that&#39;s not portable</span>

<span class="sd">    :return: One playback device per platform in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">platform_playback_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">playback_devices</span> <span class="o">=</span> <span class="n">all_non_portable_playback_devices</span>
    <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">PLAYBACK_PLATFORMS</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">playback_devices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="o">==</span> <span class="n">platform</span><span class="p">:</span>
                <span class="n">platform_playback_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">platform_playback_devices</span></div>


<div class="viewcode-block" id="all_unique_non_portable_platform_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_non_portable_platform_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_non_portable_platform_devices</span><span class="p">(</span><span class="n">all_unique_platform_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of non portable devices for each platform in this testbed.</span>

<span class="sd">    :return: All unique non portable platform devices on this testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">unique_non_portable_platform_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_unique_platform_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span><span class="p">:</span>
            <span class="n">unique_non_portable_platform_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">unique_non_portable_platform_devices</span></div>


<div class="viewcode-block" id="unique_platform_all_in_one_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_platform_all_in_one_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_platform_all_in_one_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameterized fixture which returns an all-in-one device from each platform</span>

<span class="sd">    :return: One AIO device per platform on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_unique_platform_all_in_one_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_platform_all_in_one_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_platform_all_in_one_devices</span><span class="p">(</span><span class="n">all_all_in_one_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return an all-in-one device from each platform.</span>

<span class="sd">    :return: One AIO device per platform in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">platform_all_in_one_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">aio_devices</span> <span class="o">=</span> <span class="n">all_all_in_one_devices</span>
    <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">PLAYBACK_PLATFORMS</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">aio_devices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="o">==</span> <span class="n">platform</span><span class="p">:</span>
                <span class="n">platform_all_in_one_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">platform_all_in_one_devices</span></div>


<div class="viewcode-block" id="a_unique_ntpd_enabled_platform_playback_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_ntpd_enabled_platform_playback_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_ntpd_enabled_platform_playback_device</span><span class="p">(</span>
        <span class="n">all_unique_ntpd_enabled_platform_playback_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns a unique playback device from</span>
<span class="sd">    a platform that has NTPD enabled.</span>

<span class="sd">    :return: One playback device per platform in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_ntpd_enabled_platform_playback_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_unique_ntpd_enabled_platform_playback_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_ntpd_enabled_platform_playback_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_ntpd_enabled_platform_playback_devices</span><span class="p">(</span>
        <span class="n">all_unique_platform_playback_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a playback device from each platform that has NTPD enabled.</span>

<span class="sd">    :return: One playback device per platform in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ntpd_enabled_playback_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">all_unique_platform_playback_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PLATFORM_LACKS_NTP_DAEMON</span><span class="p">:</span>
            <span class="n">ntpd_enabled_playback_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">platform</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ntpd_enabled_playback_devices</span></div>


<div class="viewcode-block" id="all_ntpd_enabled_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ntpd_enabled_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ntpd_enabled_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all devices that have NTPD enabled.</span>

<span class="sd">    :return: All devices with NTPD enabled in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ntpd_enabled_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PLATFORM_LACKS_NTP_DAEMON</span><span class="p">:</span>
            <span class="n">ntpd_enabled_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">platform</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ntpd_enabled_devices</span></div>


<div class="viewcode-block" id="all_ntpd_lacking_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ntpd_lacking_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ntpd_lacking_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all device that lack NTPD</span>

<span class="sd">    :return: All devices lacking NTPD in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ntpd_lacking_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">platform</span><span class="o">.</span><span class="n">get_arch</span><span class="p">()</span> <span class="ow">in</span> <span class="n">PLATFORM_LACKS_NTP_DAEMON</span><span class="p">:</span>
            <span class="n">ntpd_lacking_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">platform</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ntpd_lacking_devices</span></div>


<div class="viewcode-block" id="device_with_builtin_speaker"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.device_with_builtin_speaker">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">device_with_builtin_speaker</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed device with a built-in</span>
<span class="sd">    speaker.</span>

<span class="sd">    :return: A testbed device with a built-in speaker.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="device_which_can_override_amp"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.device_which_can_override_amp">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">device_which_can_override_amp</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each device which can override</span>
<span class="sd">    its amp in this testbed.</span>

<span class="sd">    :return: Each devices which can override amps in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="device_which_can_override_amps_interface"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.device_which_can_override_amps_interface">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">device_which_can_override_amps_interface</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each device which can override</span>
<span class="sd">    its amp interface in this testbed. Includes devices such</span>
<span class="sd">    as Neptune don&#39;t have amps but can still interface with ampctl proc</span>
<span class="sd">    interface.</span>

<span class="sd">    :return: Each devices which can override amps in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_device_which_can_override_amps"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_device_which_can_override_amps">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_device_which_can_override_amps</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices which can override amps.</span>

<span class="sd">    :return: All devices which can override amps in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Don&#39;t include neptune because it does not have amps. Use</span>
    <span class="c1"># override_amps_interface below if you want all devices that can override</span>
    <span class="c1"># /proc/driver/ampctl</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> \
            <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">can_override_amp_interface</span><span class="p">()</span> <span class="ow">and</span>
             <span class="ow">not</span> <span class="n">d</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">is_neptune</span><span class="p">())]</span></div>


<div class="viewcode-block" id="all_device_which_can_override_amps_interface"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_device_which_can_override_amps_interface">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_device_which_can_override_amps_interface</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices which can override amp interface. Devices such</span>
<span class="sd">    as Neptune don&#39;t have amps but can still interface with ampctl proc</span>
<span class="sd">    interface.</span>

<span class="sd">    :return: All devices which can override amps in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">can_override_amp_interface</span><span class="p">()]</span></div>


<div class="viewcode-block" id="all_filtered_platform_valgrind_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_filtered_platform_valgrind_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_filtered_platform_valgrind_capable_devices</span><span class="p">(</span>
        <span class="n">request</span><span class="p">,</span> <span class="n">all_unique_platform_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a valgrind capable device from each platform based</span>
<span class="sd">    on the command line option.</span>

<span class="sd">    :return: One valgrind capable device per platform in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">platforms</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">option</span><span class="o">.</span><span class="n">valgrind_platforms</span>
    <span class="n">valgrinds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">platform</span> <span class="ow">in</span> <span class="n">platforms</span><span class="p">:</span>
        <span class="n">models</span> <span class="o">=</span> <span class="n">PLATFORM_TO_MODELS</span><span class="p">[</span><span class="n">platform</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_unique_platform_devices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
                <span class="n">valgrinds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">valgrinds</span></div>


<div class="viewcode-block" id="all_devices_with_builtin_speakers"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_devices_with_builtin_speakers">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_devices_with_builtin_speakers</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with built-in speakers.</span>

<span class="sd">    :return: All devices with built-in speakers in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span>
            <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">DEVICES_WITH_BUILT_IN_SPEAKERS</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_device_with_built_in_speakers"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_device_with_built_in_speakers">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_device_with_built_in_speakers</span><span class="p">(</span><span class="n">all_devices_with_builtin_speakers</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a device with build in speakers from testbed,</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_devices_with_builtin_speakers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="audio_feedback_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.audio_feedback_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">audio_feedback_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each audio feedback device in this</span>
<span class="sd">    testbed.</span>

<span class="sd">    :return: Each audio feedback devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_audio_feedback_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_audio_feedback_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_audio_feedback_devices</span><span class="p">(</span><span class="n">all_unique_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all audio feedback devices in this testbed.</span>

<span class="sd">    :return: All audio feedback devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">audio_feedback_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_unique_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">AUDIO_FEEDBACK_MODELS</span><span class="p">:</span>
            <span class="n">audio_feedback_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">audio_feedback_devices</span></div>


<div class="viewcode-block" id="unique_balance_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_balance_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_balance_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns each balance capable device in this testbed.</span>

<span class="sd">    :return: Unique balance capable devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="a_balance_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_balance_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_balance_capable_device</span><span class="p">(</span><span class="n">all_unique_balance_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a balance capable devices in this testbed.</span>

<span class="sd">    :return: A balance capable devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_balance_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_unique_balance_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_balance_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_balance_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all balance capable devices in this testbed.</span>

<span class="sd">    :return: All capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span>
            <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">BALANCE_CAPABLE_MODELS</span><span class="p">]</span></div>


<div class="viewcode-block" id="unique_amp_no_speakers_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_amp_no_speakers_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_amp_no_speakers_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="a_amp_no_speakers_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_amp_no_speakers_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_amp_no_speakers_device</span><span class="p">(</span><span class="n">all_unique_amp_no_speakers_devices</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">all_unique_amp_no_speakers_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_unique_amp_no_speakers_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_amp_no_speakers_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_amp_no_speakers_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="p">[</span><span class="n">S16</span><span class="p">,</span> <span class="n">ZP120</span><span class="p">]]</span></div>


<div class="viewcode-block" id="unique_line_in_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_line_in_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_line_in_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each line-in capable devices in this</span>
<span class="sd">    testbed.</span>

<span class="sd">    :return: A unique line-in capable devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_unique_line_in_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_line_in_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_line_in_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all line-in capable devices in this testbed.</span>

<span class="sd">    :return: Unique line-in capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">LINE_IN_CAPABLE_MODELS</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_line_in_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_line_in_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_line_in_capable_device</span><span class="p">(</span><span class="n">all_unique_line_in_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a line in capable device from testbed.</span>
<span class="sd">    :param all_unique_line_in_capable_devices:</span>
<span class="sd">    :return: a line in capable device</span>
<span class="sd">    :rtype: :obj:class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_line_in_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="unique_line_out_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_line_out_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_line_out_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each line-out capable devices in this</span>
<span class="sd">    testbed.</span>

<span class="sd">    :return: A unique line-out capable devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_unique_line_out_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_line_out_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_line_out_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all line-out capable devices in this testbed.</span>

<span class="sd">    :return: Unique line-out capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span>
            <span class="n">RCA_LINE_OUT_CAPABLE_MODELS</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_line_out_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_line_out_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_line_out_capable_device</span><span class="p">(</span><span class="n">all_unique_line_out_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a line out capable device from testbed.</span>
<span class="sd">    :param all_unique_line_out_capable_devices:</span>
<span class="sd">    :return: a line out capable device</span>
<span class="sd">    :rtype: :obj:class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_line_out_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="unique_line_in_capable_connected_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_line_in_capable_connected_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_line_in_capable_connected_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each unique model line-in capable and</span>
<span class="sd">    connected devices.</span>

<span class="sd">    :return: line-in capable connected devices in this testbed.</span>
<span class="sd">    :rtype: :obj:class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_unique_line_in_capable_connected_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_line_in_capable_connected_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_line_in_capable_connected_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a list of unique line-in capable and connected devices.</span>

<span class="sd">    If the --assert_on_disconnected_line_in command line option has been set</span>
<span class="sd">    assert if there is not one of each model line-in device with line-in</span>
<span class="sd">    connected</span>

<span class="sd">    :return: Unique line-in capable connected devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list`:class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span>
               <span class="ow">in</span> <span class="n">LINE_IN_CAPABLE_MODELS</span>
               <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;AudioIn&#39;</span><span class="p">)</span>
               <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">AudioIn</span><span class="o">.</span><span class="n">LineInConnected</span><span class="p">()]</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">option</span><span class="o">.</span><span class="n">assert_on_disconnected_line_in</span><span class="p">:</span>
        <span class="n">available_models</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span>
                            <span class="ow">in</span> <span class="n">LINE_IN_CAPABLE_MODELS</span><span class="p">]</span>
        <span class="n">connected_models</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">devices</span><span class="p">]</span>
        <span class="n">disconnected_models</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">available_models</span><span class="p">)</span>
                                   <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">connected_models</span><span class="p">))</span>
        <span class="k">assert</span> <span class="n">disconnected_models</span> <span class="o">==</span> <span class="p">[],</span> \
            <span class="s2">&quot;Line-in is disconnected on model(s) </span><span class="si">{}</span><span class="s2">&quot;</span>\
            <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">disconnected_models</span><span class="p">))</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">devices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> \
        <span class="s2">&quot;No line-in capable device(s) detected with audio input connected&quot;</span>
    <span class="k">return</span> <span class="n">devices</span></div>


<div class="viewcode-block" id="a_unique_line_in_capable_connected_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_line_in_capable_connected_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_line_in_capable_connected_device</span><span class="p">(</span>
        <span class="n">all_unique_line_in_capable_connected_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a random line-in capable and connected device.</span>

<span class="sd">    :return: A random line-in capable connected device in this testbed.</span>
<span class="sd">    :rtype: :obj:class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_unique_line_in_capable_connected_devices</span><span class="p">)</span></div>


<div class="viewcode-block" id="unique_airplay_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_airplay_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_airplay_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each airplay capable devices in this</span>
<span class="sd">    testbed.</span>

<span class="sd">    :return: A unique airplay capable device in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_unique_airplay_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_airplay_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_airplay_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all airplay capable devices in this testbed.</span>

<span class="sd">    :return: Unique airplay capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">AIRPLAY_DEVICES</span><span class="p">]</span></div>

<div class="viewcode-block" id="an_unique_line_in_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.an_unique_line_in_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">an_unique_line_in_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a random single line-in capable device in this testbed.</span>

<span class="sd">    :return: An unique line-in capable devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span>
        <span class="n">LINE_IN_CAPABLE_MODELS</span><span class="p">])</span></div>

<div class="viewcode-block" id="fenway_or_newer_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.fenway_or_newer_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fenway_or_newer_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each Fenway (or newer) device in this</span>
<span class="sd">    testbed.</span>

<span class="sd">    :return: A Fenway (or newer) device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_fenway_or_newer_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_fenway_or_newer_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_fenway_or_newer_devices</span><span class="p">(</span><span class="n">all_unique_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all Fenway (or newer) devices in this testbed.</span>

<span class="sd">    :return: All Fenway (or newer) devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fenway_or_newer_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_unique_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PRE_FENWAY_MODELS</span><span class="p">:</span>
            <span class="n">fenway_or_newer_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fenway_or_newer_devices</span></div>

<div class="viewcode-block" id="a_fenway_or_newer_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_fenway_or_newer_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_fenway_or_newer_device</span><span class="p">(</span><span class="n">all_fenway_or_newer_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a Fenway (or newer) devices in this testbed.</span>

<span class="sd">    :return: a Fenway (or newer) devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_fenway_or_newer_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="secure_boot_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.secure_boot_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">secure_boot_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each secure boot devices in this</span>
<span class="sd">    testbed.</span>

<span class="sd">    :return: Each secure boot devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_secure_boot_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_secure_boot_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_secure_boot_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all secure boot devices in this testbed.</span>

<span class="sd">    :return: All secure boot devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">SECURE_BOOT_DEVICES</span><span class="p">]</span></div>

<div class="viewcode-block" id="imx6_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.imx6_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">imx6_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each IMX6 device found in this testbed.</span>

<span class="sd">    :return: Each IMX6 device in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_imx6_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_imx6_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_imx6_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all IMX6 devices found in this testbed.</span>

<span class="sd">    :return: IMX6 devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">IMX6_DEVICES</span><span class="p">]</span></div>

<div class="viewcode-block" id="mtk_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.mtk_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">mtk_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each MTK device found in this testbed.</span>

<span class="sd">    :return: Each MTK device in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_mtk_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_mtk_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_mtk_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all MTK devices found in this testbed.</span>

<span class="sd">    :return: MTK devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">MTK_DEVICES</span><span class="p">]</span></div>

<div class="viewcode-block" id="a113_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a113_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a113_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each A113 device found in this testbed.</span>

<span class="sd">    :return: Each A113 device in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_a113_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_a113_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_a113_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all A113 devices found in this testbed.</span>

<span class="sd">    :return: A113 devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">A113_DEVICES</span><span class="p">]</span></div>


<div class="viewcode-block" id="ht_master_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_master_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_master_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each unique model of home theater master</span>
<span class="sd">    capable devices in the testbed. Thus, if the testbed contains two</span>
<span class="sd">    PLAYBARSs, only one PLAYBAR will be returned.</span>

<span class="sd">    :return: HT master capable devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="a_ht_master_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_ht_master_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_ht_master_capable_device</span><span class="p">(</span><span class="n">all_ht_master_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single home theater master capable device from this testbed.</span>

<span class="sd">    :return: A single home theater master capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_ht_master_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_ht_master_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_master_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_master_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one instance of each model of home theater master capable</span>
<span class="sd">    devices in the testbed. Thus, if the testbed contains two PLAYBARSs,</span>
<span class="sd">    only one PLAYBAR will be returned.</span>

<span class="sd">    :return: HT master capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">master_capable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">models</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">HT_MASTER_MODELS</span><span class="p">:</span>
            <span class="n">master_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">master_capable_devices</span></div>


<div class="viewcode-block" id="non_ht_master_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.non_ht_master_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">non_ht_master_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each unique model of non home theater</span>
<span class="sd">    master capable devices in the testbed. Thus, if the testbed contains two</span>
<span class="sd">    PLAY:1s, only one PLAY:1 will be returned.</span>

<span class="sd">    :return: non HT master capable devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="a_non_ht_master_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_non_ht_master_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_non_ht_master_capable_device</span><span class="p">(</span><span class="n">all_non_ht_master_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single non home theater master capable device from this testbed.</span>

<span class="sd">    :return: A single non home theater master capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_non_ht_master_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_non_ht_master_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_non_ht_master_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_non_ht_master_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one instance of each model of non home theater master capable</span>
<span class="sd">    devices in the testbed. Thus, if the testbed contains two PLAY:1s,</span>
<span class="sd">    only one PLAY:! will be returned.</span>

<span class="sd">    :return: non HT master capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">models</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">HT_MASTER_MODELS</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">!=</span> <span class="n">SUB</span><span class="p">:</span>
            <span class="n">devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">devices</span></div>


<div class="viewcode-block" id="all_hdmi_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_hdmi_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_hdmi_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one instance of each model of HDMI capable</span>
<span class="sd">    devices in the testbed. Thus, if the testbed contains two El Rey&#39;s,</span>
<span class="sd">    only one El Rey will be returned.</span>

<span class="sd">    This fixture can parametrize testcases by using</span>
<span class="sd">    &#39;hdmi_capable&#39; as a positional argument in your</span>
<span class="sd">    testcase or fixture.</span>

<span class="sd">    :return: HDMI capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">hdmi_capable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">models</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">HDMI_DEVICES</span><span class="p">:</span>
            <span class="n">hdmi_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">hdmi_capable_devices</span></div>

<div class="viewcode-block" id="an_hdmi_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.an_hdmi_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">an_hdmi_capable_device</span><span class="p">(</span><span class="n">all_hdmi_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed HDMI capable device.</span>

<span class="sd">    :return: 1 testbed HDMI capable devices in this testbed.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_hdmi_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="hdmi_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.hdmi_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hdmi_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameterized fixture which returns each unique</span>
<span class="sd">    HDMI capable device in the testbed.</span>

<span class="sd">    :return: Each unique voice capable device in this testbed.</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="voice_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.voice_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">voice_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameterized fixture which returns each unique</span>
<span class="sd">    voice capable device in this testbed.</span>

<span class="sd">    :return: Each unique voice capable device in this testbed.</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_voice_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_voice_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_voice_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one instance of each model of voice capable</span>
<span class="sd">    devices in the testbed. Thus, if the testbed contains two El Rey&#39;s,</span>
<span class="sd">    only one El Rey will be returned.</span>

<span class="sd">    This fixture can parametrize testcases by using</span>
<span class="sd">    &#39;voice_capable&#39; as a positional argument in your</span>
<span class="sd">    testcase or fixture.</span>

<span class="sd">    :return: voice capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">voice_capable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">models</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">DEVICES_WITH_BUILT_IN_MICS</span><span class="p">:</span>
            <span class="n">voice_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">voice_capable_devices</span></div>


<div class="viewcode-block" id="a_voice_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_voice_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_voice_capable_device</span><span class="p">(</span><span class="n">all_voice_capable_devices</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Return a single ZP that supports voice assistants</span>
<span class="sd">   :param all_voice_capable_devices:</span>
<span class="sd">   :return:</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_voice_capable_devices</span><span class="p">)</span></div>


<div class="viewcode-block" id="stereo_pair_of_voice_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.stereo_pair_of_voice_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">stereo_pair_of_voice_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameterized fixture which returns each unique</span>
<span class="sd">    pair of voice capable devices in this testbed.</span>

<span class="sd">    :return: Each pair of unique voice capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_stereo_pairable_voice_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_stereo_pairable_voice_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_stereo_pairable_voice_devices</span><span class="p">(</span><span class="n">all_pairable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one pair of each model of stereo pairable devices that support</span>
<span class="sd">    voice assistants in the testbed. Thus, if the testbed contains four ONEs, only two</span>
<span class="sd">    ONEs will be returned.</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create stereo pairs.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">all_pairable_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">left</span><span class="o">.</span><span class="n">is_voice_capable</span><span class="p">():</span>
            <span class="n">devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">devices</span></div>


<div class="viewcode-block" id="a_stereo_pair_of_voice_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_stereo_pair_of_voice_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_stereo_pair_of_voice_devices</span><span class="p">(</span><span class="n">all_stereo_pairable_voice_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single pair of voice-capable stereo-pairable ZPs</span>
<span class="sd">    :param all_stereo_pairable_voice_devices:</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_stereo_pairable_voice_devices</span><span class="p">)</span></div>


<div class="viewcode-block" id="all_btle_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_btle_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_btle_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one instance of each model of BTLE capable</span>
<span class="sd">    devices in the testbed. Thus, if the testbed contains two El Rey&#39;s,</span>
<span class="sd">    only one El Rey will be returned.</span>

<span class="sd">    This fixture can parametrize testcases by using</span>
<span class="sd">    &#39;btle_capable&#39; as a positional argument in your</span>
<span class="sd">    testcase or fixture.</span>

<span class="sd">    :return: BTLE capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">btle_capable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">models</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">BTLE_DEVICES</span><span class="p">:</span>
            <span class="n">btle_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">btle_capable_devices</span></div>

<div class="viewcode-block" id="btle_capable"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.btle_capable">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">btle_capable</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameterized fixture which returns each unique</span>
<span class="sd">    BTLE capable device in the testbed.</span>

<span class="sd">    :return: Each BTLE capable device in this testbed.</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_bt_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_bt_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_bt_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one instance of each model of Bluetooth (BT) capable</span>
<span class="sd">    devices in the testbed. Thus, if the testbed contains two Alpine&#39;s,</span>
<span class="sd">    only one Alpine will be returned.</span>

<span class="sd">    This fixture can parametrize testcases by using</span>
<span class="sd">    &#39;bt_capable&#39; as a positional argument in your</span>
<span class="sd">    testcase or fixture.</span>

<span class="sd">    :return: BT capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">bt_capable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">models</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">BT_DEVICES</span><span class="p">:</span>
            <span class="n">bt_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">bt_capable_devices</span></div>

<div class="viewcode-block" id="bt_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.bt_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">bt_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameterized fixture which returns each unique</span>
<span class="sd">    Bluetooth (BT) capable device in the testbed.</span>

<span class="sd">    :return: Each BT capable device in this testbed.</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="a_bt_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_bt_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_bt_capable_device</span><span class="p">(</span><span class="n">all_bt_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single Bluetooth (BT) capable device in this testbed</span>

<span class="sd">    :return: A unique Bluetooth capable device in this testbed.</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_bt_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="all_portable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_portable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_portable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all portable devices.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` portable devices</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span><span class="p">]</span></div>

<div class="viewcode-block" id="unique_portable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_portable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_portable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameterized fixture which returns each unique</span>
<span class="sd">    portable device in this testbed.</span>

<span class="sd">    :return: Each unique portable device in this testbed.</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_unique_portable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_portable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_portable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one instance of each portable device model</span>
<span class="sd">    in the testbed. Thus, if the testbed contains two Alpines,</span>
<span class="sd">    only one Alpine will be returned.</span>

<span class="sd">    This fixture can parameterize testcases by using</span>
<span class="sd">    &#39;portable_device&#39; as a positional argument in your</span>
<span class="sd">    testcase or fixture.</span>

<span class="sd">    :return: Portable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">portable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">models</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span><span class="p">:</span>
            <span class="n">portable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">portable_devices</span></div>

<div class="viewcode-block" id="a_unique_portable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_portable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_portable_device</span><span class="p">(</span><span class="n">all_unique_portable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single portable device in this testbed.</span>

<span class="sd">    :return: A unique portable device in this testbed.</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_portable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="a_non_portable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_non_portable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_non_portable_device</span><span class="p">(</span><span class="n">all_non_portable_devices</span><span class="p">,</span> <span class="n">all_playback_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a random non-portable device in this testbed.</span>

<span class="sd">    :return: A unique non-portable device in this testbed.</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">all_non_portable_devices</span><span class="p">)</span> <span class="o">&amp;</span>
                              <span class="nb">set</span><span class="p">(</span><span class="n">all_playback_devices</span><span class="p">)))</span></div>

<div class="viewcode-block" id="ht_satellite_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_satellite_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_satellite_capable_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns a pair of each model of home theater</span>
<span class="sd">    satellite capable devices in the testbed. Thus, if the testbed contains</span>
<span class="sd">    four PLAY:3s, only two PLAY:3s will be returned.</span>

<span class="sd">    :return: HT satellite capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_ht_satellite_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_satellite_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_satellite_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a pair of each model of home theater satellite capable devices in</span>
<span class="sd">    the testbed. Thus, if the testbed contains four PLAY:3s, only two</span>
<span class="sd">    PLAY:3s will be returned.</span>

<span class="sd">    :return: HT satellite capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">satellite_capable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># We are iterating through the satellite devices in the opposite order so</span>
    <span class="c1"># that if we get an S16 as a satellite, it will be the last one in the list</span>
    <span class="c1"># whereas if we get an S16 as a master, it will be the first one in the</span>
    <span class="c1"># list.  The all_ht_master_satellite_capable_devices method checks to</span>
    <span class="c1"># make sure the master and satellite aren&#39;t the same before setting up a</span>
    <span class="c1"># master/satellite config with two S16&#39;s.</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">models</span><span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">HT_SATELLITE_DEVICES</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">HT_SOLO_REAR_SURROUND_DEVICES</span><span class="p">:</span>
                <span class="n">devices</span> <span class="o">=</span> <span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">devices</span> <span class="o">=</span> <span class="n">get_all_testbed_devices_by_model</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">devices</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">devices</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">satellite_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">devices</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>

    <span class="c1"># identify models that can be sats with a different model</span>
    <span class="n">distinct_pair_models</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">model</span> <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">PAIRABLE_MODEL_COMPATIBILITY_MAP</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">PAIRABLE_MODEL_COMPATIBILITY_MAP</span><span class="p">[</span><span class="n">model</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">model</span> <span class="ow">in</span>
        <span class="n">HT_SATELLITE_DEVICES</span><span class="p">]</span>

    <span class="c1"># of the distinct pair models, identify if we have one of each</span>
    <span class="n">all_distinct_satellites</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">zps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">zps</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">get_all_testbed_devices_by_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">distinct_pair_models</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">zps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>

    <span class="c1"># start tracking which ones we&#39;ve put into testbed configs already</span>
    <span class="n">models_that_are_in_satellite_configs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># go through and generate all combos of distinct satellites such that we</span>
    <span class="c1"># minimize the number of combinations while ensuring that all models are</span>
    <span class="c1"># covered as satellites at least once</span>
    <span class="k">for</span> <span class="n">zp1</span> <span class="ow">in</span> <span class="n">all_distinct_satellites</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">zp2</span> <span class="ow">in</span> <span class="n">all_distinct_satellites</span><span class="p">:</span>

            <span class="c1"># we&#39;ve already covered identical pairs, continue</span>
            <span class="k">if</span> <span class="n">zp1</span> <span class="o">==</span> <span class="n">zp2</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="c1"># if both models already have been assigned to pairs, continue</span>
            <span class="k">if</span> <span class="n">zp1</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models_that_are_in_satellite_configs</span> <span class="ow">and</span> \
               <span class="n">zp2</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">models_that_are_in_satellite_configs</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="c1"># otherwise, if they&#39;re compatible, put in the list</span>
            <span class="k">if</span> <span class="n">zp2</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PAIRABLE_MODEL_COMPATIBILITY_MAP</span><span class="p">[</span>
                    <span class="n">zp1</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]:</span>
                <span class="n">satellite_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">zp1</span><span class="p">,</span> <span class="n">zp2</span><span class="p">])</span>
                <span class="n">models_that_are_in_satellite_configs</span><span class="p">[</span><span class="n">zp1</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">models_that_are_in_satellite_configs</span><span class="p">[</span><span class="n">zp2</span><span class="o">.</span><span class="n">modelNumber</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">satellite_capable_devices</span></div>


<div class="viewcode-block" id="ht_master_satellite_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_master_satellite_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_master_satellite_capable_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns home theater master and satellites</span>
<span class="sd">    grouped by unique models. Thus, if the testbed contains two PLAYBARSs &amp;</span>
<span class="sd">    four PLAY:3s, only one PLAYBAR and two PLAY:3s will be returned.</span>

<span class="sd">    :return: HT master + HT satellite capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_ht_master_satellite_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_master_satellite_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_master_satellite_capable_devices</span><span class="p">(</span>
        <span class="n">all_ht_master_capable_devices</span><span class="p">,</span> <span class="n">all_ht_satellite_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns home theater master and satellites grouped by unique models. Thus,</span>
<span class="sd">    if the testbed contains two PLAYBARSs &amp; four PLAY:3s, only one PLAYBAR</span>
<span class="sd">    and two PLAY:3s will be returned.</span>

<span class="sd">    :return: HT master + HT satellite capable devices in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ht_masters</span> <span class="o">=</span> <span class="n">all_ht_master_capable_devices</span>
    <span class="c1"># For the S16 case, get the list of satellite devices in the reverse order</span>
    <span class="c1"># so that if we have an S16 master and satellite, they are different</span>
    <span class="c1"># devices.</span>
    <span class="n">ht_sats</span> <span class="o">=</span> <span class="n">all_ht_satellite_capable_devices</span>
    <span class="n">master_satellite_capable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">sub</span> <span class="o">=</span> <span class="n">get_testbed_device_by_model</span><span class="p">(</span><span class="n">SUB</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ht_master</span> <span class="ow">in</span> <span class="n">ht_masters</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">ht_sat</span> <span class="ow">in</span> <span class="n">ht_sats</span><span class="p">:</span>
            <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">ht_sat</span>
            <span class="c1"># For the S16 case, make sure that if we have two S16&#39;s for master</span>
            <span class="c1"># and sat, that they are different devices.</span>
            <span class="k">if</span> <span class="n">ht_master</span><span class="o">.</span><span class="n">serialNumber</span> <span class="o">!=</span> <span class="n">left</span><span class="o">.</span><span class="n">serialNumber</span><span class="p">:</span>
                <span class="n">master_satellite_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="p">(</span><span class="n">ht_master</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">sub</span><span class="p">:</span>
                    <span class="n">master_satellite_capable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="p">(</span><span class="n">ht_master</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">sub</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">master_satellite_capable_devices</span></div>

<div class="viewcode-block" id="ht_31_config_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_31_config_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_31_config_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns home theater master and sub</span>

<span class="sd">    :return: HT master + sub from the testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_ht_31_config_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_31_config_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_31_config_devices</span><span class="p">(</span><span class="n">all_ht_master_capable_devices</span><span class="p">,</span> <span class="n">all_subs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns list of tuples of all devices in HT 3.1 config</span>

<span class="sd">    :return: Pair of HT master capable device and Sub in testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">master_devices</span> <span class="o">=</span> <span class="n">all_ht_master_capable_devices</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">master</span><span class="p">,</span> <span class="n">all_subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">master</span> <span class="ow">in</span> <span class="n">master_devices</span><span class="p">]</span></div>


<div class="viewcode-block" id="ht_50_config_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_50_config_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_50_config_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns home theater master and rears</span>

<span class="sd">    :return: HT master + rears from the testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="a_ht_50_config_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_ht_50_config_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_ht_50_config_devices</span><span class="p">(</span><span class="n">all_ht_50_config_devices</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Return a single instance of home theater master and rears</span>

<span class="sd">   :param all_ht_50_config_devices:</span>
<span class="sd">   :return: HT master + rears from the testbed.</span>
<span class="sd">   :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="k">return</span> <span class="n">all_ht_50_config_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="all_ht_50_config_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_50_config_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_50_config_devices</span><span class="p">(</span><span class="n">all_ht_master_satellite_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns list of tuples of all devices in HT 5.0 config</span>

<span class="sd">    :return: Pair of HT master capable device and satellite in testbed ex. sub</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">devices</span> <span class="ow">in</span> <span class="n">all_ht_master_satellite_capable_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">devices</span><span class="p">):</span>
            <span class="n">master</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">devices</span>
            <span class="n">config_devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">master</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">config_devices</span></div>


<div class="viewcode-block" id="all_ht_50_config_devices_with_same_ht_master"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_50_config_devices_with_same_ht_master">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_50_config_devices_with_same_ht_master</span><span class="p">(</span>
        <span class="n">all_ht_master_satellite_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Yield all HT 5.0 configs with the same HT master (single HT master)</span>
<span class="sd">    The HT master is selected randomly to be any HT master other than Hideout.</span>
<span class="sd">    :return: list of all 5.0 configs with same HT master</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">master_model</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">devices</span> <span class="ow">in</span> <span class="n">all_ht_master_satellite_capable_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">devices</span><span class="p">):</span>
            <span class="n">master</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">devices</span>
            <span class="c1"># skip hideout since we want all satellites in this config</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">master_model</span> <span class="ow">and</span> <span class="n">master</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">!=</span> <span class="n">S16</span><span class="p">:</span>
                <span class="n">master_model</span> <span class="o">=</span> <span class="n">master</span><span class="o">.</span><span class="n">modelNumber</span>
            <span class="k">if</span> <span class="n">master</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">master_model</span><span class="p">:</span>
                <span class="n">config_devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">master</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">config_devices</span></div>


<div class="viewcode-block" id="ht_50_config_devices_with_same_ht_master"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_50_config_devices_with_same_ht_master">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_50_config_devices_with_same_ht_master</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns home theater master and rears,</span>
<span class="sd">    where each returned combination has the same HT master, which is</span>
<span class="sd">    selected randomly to be any HT master except hideout.</span>

<span class="sd">    :return: HT master + rears from the testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="ht_50_config_devices_with_cap_touch_surrounds"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_50_config_devices_with_cap_touch_surrounds">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_50_config_devices_with_cap_touch_surrounds</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns home theater master and rears,</span>
<span class="sd">    where rears are cap touch capable</span>

<span class="sd">    :return: HT master + rears from the testbed (where rears are cap touch</span>
<span class="sd">    capable)</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_ht_50_config_devices_with_cap_touch_surrounds"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_50_config_devices_with_cap_touch_surrounds">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_50_config_devices_with_cap_touch_surrounds</span><span class="p">(</span>
        <span class="n">all_ht_50_config_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    yield all the 5.0 HT configs that include cap touch capable satellites</span>
<span class="sd">    :param all_ht_50_config_devices: list of all HT 5.0 configurations</span>
<span class="sd">    :return: HT master + rears from testbed where rears are cap touch capable</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">ls</span><span class="p">,</span> <span class="n">rs</span> <span class="ow">in</span> <span class="n">all_ht_50_config_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ls</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">CAP_TOUCH_DEVICES</span> <span class="ow">and</span> \
           <span class="n">rs</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">CAP_TOUCH_DEVICES</span><span class="p">:</span>
            <span class="n">config_devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">m</span><span class="p">,</span> <span class="n">ls</span><span class="p">,</span> <span class="n">rs</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">config_devices</span></div>


<div class="viewcode-block" id="all_ledctl_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ledctl_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ledctl_devices</span><span class="p">(</span><span class="n">all_secure_boot_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    All players with an ledctl driver</span>

<span class="sd">    :param all_secure_boot_devices: all secure boot devices</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_secure_boot_devices</span></div>


<div class="viewcode-block" id="ledctl_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ledctl_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ledctl_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each zone player with an ledctl driver</span>

<span class="sd">    :return: player with ledctl driver</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="a_ledctl_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_ledctl_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_ledctl_device</span><span class="p">(</span><span class="n">all_ledctl_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns random zone player with an ledctl driver</span>

<span class="sd">    :return: player with ledctl driver</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_ledctl_devices</span><span class="p">)</span></div>


<div class="viewcode-block" id="all_ledctl_ht_masters"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ledctl_ht_masters">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ledctl_ht_masters</span><span class="p">(</span><span class="n">all_ht_master_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    All ht masters with an ledctl driver</span>

<span class="sd">    :param all_ht_master_capable_devices: all ht masters</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">zp</span> <span class="ow">in</span> <span class="n">all_ht_master_capable_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">zp</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">SECURE_BOOT_DEVICES</span><span class="p">:</span>
            <span class="n">devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">zp</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">devices</span></div>


<div class="viewcode-block" id="ledctl_ht_masters"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ledctl_ht_masters">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ledctl_ht_masters</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each ht master with an ledctl driver</span>

<span class="sd">    :return: ht master with ledctl driver</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="a_ledctl_ht_master"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_ledctl_ht_master">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_ledctl_ht_master</span><span class="p">(</span><span class="n">all_ledctl_ht_masters</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns random ht master with an ledctl driver</span>

<span class="sd">    :return: ht master with ledctl driver</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_ledctl_ht_masters</span><span class="p">)</span></div>


<div class="viewcode-block" id="all_ledctl_devices_with_buttons"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ledctl_devices_with_buttons">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ledctl_devices_with_buttons</span><span class="p">(</span><span class="n">all_secure_boot_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    All players with an ledctl driver and buttons</span>

<span class="sd">    :param all_secure_boot_devices: all players</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">zp</span> <span class="ow">in</span> <span class="n">all_secure_boot_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">zp</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">PLAYBACK_DEVICES_JOIN_BUTTON_NO_CAP_TOUCH</span><span class="p">:</span>
            <span class="n">devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">zp</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">devices</span></div>


<div class="viewcode-block" id="ledctl_devices_with_buttons"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ledctl_devices_with_buttons">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ledctl_devices_with_buttons</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each player with an ledctl driver and</span>
<span class="sd">        buttons</span>

<span class="sd">    :return: player with ledctl driver and buttons</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="a_ledctl_device_with_buttons"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_ledctl_device_with_buttons">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_ledctl_device_with_buttons</span><span class="p">(</span><span class="n">all_ledctl_devices_with_buttons</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns random player with an ledctl driver and buttons</span>

<span class="sd">    :return: player with ledctl driver and buttons</span>
<span class="sd">    :rtype: :obj:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_ledctl_devices_with_buttons</span><span class="p">)</span></div>


<div class="viewcode-block" id="ht_50_config_devices_with_ledctl_driver"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_50_config_devices_with_ledctl_driver">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_50_config_devices_with_ledctl_driver</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns home theater master and rears,</span>
<span class="sd">    where all players have an ledctl driver</span>

<span class="sd">    :return: HT master + rears from the testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_ht_50_config_devices_with_ledctl_driver"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_50_config_devices_with_ledctl_driver">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_50_config_devices_with_ledctl_driver</span><span class="p">(</span>
        <span class="n">all_ht_50_config_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    yield all the 5.0 HT configs that include ledctl drivers on all players</span>

<span class="sd">    :param all_ht_50_config_devices: list of all HT 5.0 configurations</span>
<span class="sd">    :return: HT master + rears from testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">ls</span><span class="p">,</span> <span class="n">rs</span> <span class="ow">in</span> <span class="n">all_ht_50_config_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ls</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">SECURE_BOOT_DEVICES</span> <span class="ow">and</span> \
           <span class="n">rs</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">SECURE_BOOT_DEVICES</span> <span class="ow">and</span> \
           <span class="n">m</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">SECURE_BOOT_DEVICES</span><span class="p">:</span>
            <span class="n">config_devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">m</span><span class="p">,</span> <span class="n">ls</span><span class="p">,</span> <span class="n">rs</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">config_devices</span></div>


<div class="viewcode-block" id="a_ht_50_config_devices_with_ledctl_driver"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_ht_50_config_devices_with_ledctl_driver">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_ht_50_config_devices_with_ledctl_driver</span><span class="p">(</span>
        <span class="n">all_ht_50_config_devices_with_ledctl_driver</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns a random home theater master and rears,</span>
<span class="sd">    where all players have an ledctl driver</span>

<span class="sd">    :return: HT master + rears from the testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_ht_50_config_devices_with_ledctl_driver</span><span class="p">)</span></div>


<div class="viewcode-block" id="ht_50_config_devices_with_speakers"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_50_config_devices_with_speakers">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_50_config_devices_with_speakers</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns home theater master and rears with</span>
<span class="sd">    speakers</span>

<span class="sd">    :return: HT master + rears from the testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_ht_50_config_devices_with_speakers"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_50_config_devices_with_speakers">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_50_config_devices_with_speakers</span><span class="p">(</span><span class="n">all_ht_50_config_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns list of tuples of all devices in HT 5.0 config with satellites</span>
<span class="sd">    that has speakers. So ZP120 or Hideout satellites config will not be</span>
<span class="sd">    returned.</span>

<span class="sd">    :return: Pair of HT master capable device and sats in testbed ex. sub</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">devices</span> <span class="k">for</span> <span class="n">devices</span> <span class="ow">in</span> <span class="n">all_ht_50_config_devices</span> <span class="k">if</span>
            <span class="nb">all</span><span class="p">([</span><span class="n">d</span><span class="o">.</span><span class="n">has_built_in_speakers</span><span class="p">()</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">devices</span><span class="p">])]</span></div>


<div class="viewcode-block" id="ht_51_config_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ht_51_config_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ht_51_config_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns home theater master, rears and sub</span>

<span class="sd">    :return: Pair of HT master capable device and Sub in testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_ht_51_config_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_51_config_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_51_config_devices</span><span class="p">(</span><span class="n">all_ht_master_satellite_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns list of tuples of all devices in HT 5.1 config</span>

<span class="sd">    :return: Pair of HT master capable device and Sub in testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">devices</span> <span class="k">for</span> <span class="n">devices</span> <span class="ow">in</span>
            <span class="n">all_ht_master_satellite_capable_devices</span> <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">devices</span><span class="p">)]</span></div>


<div class="viewcode-block" id="stereo_pairable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.stereo_pairable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">stereo_pairable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns only one pair of each model of stereo</span>
<span class="sd">    pairable devices in the testbed. Thus, if the testbed contains four</span>
<span class="sd">    PLAY:3s, only two PLAY:3s will be returned.</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create stereo pairs.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_stereo_pairable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_stereo_pairable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_stereo_pairable_devices</span><span class="p">(</span><span class="n">all_pairable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one pair of each model of stereo pairable devices in the</span>
<span class="sd">    testbed. Thus, if the testbed contains four PLAY:3s, only two PLAY:3s</span>
<span class="sd">    will be returned.</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create stereo pairs.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">all_pairable_devices</span><span class="p">:</span>
        <span class="n">devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">devices</span></div>


<div class="viewcode-block" id="a_stereo_pairable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_stereo_pairable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_stereo_pairable_devices</span><span class="p">(</span><span class="n">all_stereo_pairable_devices</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">   Return a single pair of pairable ZPs</span>
<span class="sd">   :param all_stereo_pairable_devices:</span>
<span class="sd">   :return:</span>
<span class="sd">   &quot;&quot;&quot;</span>
   <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_stereo_pairable_devices</span><span class="p">)</span></div>


<div class="viewcode-block" id="stereo_pairable_airplay_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.stereo_pairable_airplay_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">stereo_pairable_airplay_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns only one pair of each model of stereo</span>
<span class="sd">    pairable devices that support AirPlay in the testbed. Thus, if the testbed</span>
<span class="sd">    contains four ONEs, only two ONEs will be returned.</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create stereo pairs.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_stereo_pairable_airplay_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_stereo_pairable_airplay_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_stereo_pairable_airplay_devices</span><span class="p">(</span><span class="n">all_pairable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one pair of each model of stereo pairable devices that support</span>
<span class="sd">    AirPlay in the testbed. Thus, if the testbed contains four ONEs, only two</span>
<span class="sd">    ONEs will be returned.</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create stereo pairs.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">all_pairable_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">left</span><span class="o">.</span><span class="n">is_airplay_capable</span><span class="p">():</span>
            <span class="n">devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">devices</span></div>


<div class="viewcode-block" id="stereo_pairable_ledctl_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.stereo_pairable_ledctl_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">stereo_pairable_ledctl_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns stereo pairs where both devices</span>
<span class="sd">    have an ledctl driver</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create stereo pairs.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_stereo_pairable_ledctl_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_stereo_pairable_ledctl_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_stereo_pairable_ledctl_devices</span><span class="p">(</span><span class="n">all_stereo_pairable_devices</span><span class="p">,</span>
                                       <span class="n">all_ledctl_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns stereo pairs where both devices have an ledctl driver</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create stereo pairs.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">all_stereo_pairable_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">left</span> <span class="ow">in</span> <span class="n">all_ledctl_devices</span> <span class="ow">and</span>\
                <span class="n">right</span> <span class="ow">in</span> <span class="n">all_ledctl_devices</span><span class="p">:</span>
            <span class="n">devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">devices</span></div>


<div class="viewcode-block" id="a_stereo_pairable_ledctl_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_stereo_pairable_ledctl_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_stereo_pairable_ledctl_device</span><span class="p">(</span><span class="n">all_stereo_pairable_ledctl_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns stereo pairs where both devices</span>
<span class="sd">    have an ledctl driver</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create stereo pairs.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_stereo_pairable_ledctl_devices</span><span class="p">)</span></div>


<div class="viewcode-block" id="bonded_sub_config"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.bonded_sub_config">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">bonded_sub_config</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each device and sub pair from this</span>
<span class="sd">    testbed.</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create bonded sub configurations.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_bonded_sub_configs"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_bonded_sub_configs">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_bonded_sub_configs</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all device and sub pairs from this testbed.</span>

<span class="sd">    :return: Pairs of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices that can be used to create bonded sub configurations.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sub</span> <span class="o">=</span> <span class="n">get_testbed_device_by_model</span><span class="p">(</span><span class="n">SUB</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">TestbedError</span><span class="p">:</span>
        <span class="n">sub</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">returnable_configs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">sub</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">BONDED_SUB_DEVICES</span><span class="p">:</span>
                <span class="n">returnable_configs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">d</span><span class="p">,</span> <span class="n">sub</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">returnable_configs</span></div>

<div class="viewcode-block" id="bonded_sub_config_for_each_model"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.bonded_sub_config_for_each_model">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">bonded_sub_config_for_each_model</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns a device and sub pair from this testbed.</span>
<span class="sd">    One pair for each eligible model will be returned.</span>

<span class="sd">    :return: Device + Sub :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        pairs</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_bonded_sub_config_for_each_model"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_bonded_sub_config_for_each_model">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_bonded_sub_config_for_each_model</span><span class="p">(</span><span class="n">all_bonded_sub_configs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a device and sub pair from this testbed. One pair for each eligible</span>
<span class="sd">    model will be returned.</span>

<span class="sd">    :return: Device + Sub :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        pairs</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">bonded_configs</span> <span class="o">=</span> <span class="n">all_bonded_sub_configs</span>
    <span class="n">seen_models</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">model_configs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">devices</span> <span class="ow">in</span> <span class="n">bonded_configs</span><span class="p">:</span>
        <span class="n">non_sub_model</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">!=</span> <span class="n">SUB</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">non_sub_model</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_models</span><span class="p">:</span>
            <span class="n">seen_models</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">non_sub_model</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="n">model_configs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">devices</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">model_configs</span></div>

<div class="viewcode-block" id="stereo_sub_pairable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.stereo_sub_pairable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">stereo_sub_pairable_devices</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Paramaterized fixture which returns only one pair of each model of stereo</span>
<span class="sd">    pairable devices in the testbed, with a Sub. Thus, if the testbed contains</span>
<span class="sd">    four PLAY:3s, only two PLAY:3s will be returned.</span>

<span class="sd">    :return: Groups of 3 :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices, representing the left, right, and sub channels of a</span>
<span class="sd">        Stereo Pair + Sub configuration.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_stereo_sub_pairable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_stereo_sub_pairable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_stereo_sub_pairable_devices</span><span class="p">(</span><span class="n">all_stereo_pairable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns only one pair of each model of stereo pairable devices in the</span>
<span class="sd">    testbed, with a Sub. Thus, if the testbed contains four PLAY:3s, only two</span>
<span class="sd">    PLAY:3s will be returned.</span>

<span class="sd">    :return: Groups of 3 :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices, representing the left, right, and sub channels of a</span>
<span class="sd">        Stereo Pair + Sub configuration.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sub</span> <span class="o">=</span> <span class="n">get_testbed_device_by_model</span><span class="p">(</span><span class="n">SUB</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">TestbedError</span><span class="p">:</span>
        <span class="n">sub</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">stereo_sub_pairable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">sub</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">all_stereo_pairable_devices</span><span class="p">:</span>
            <span class="n">stereo_sub_pairable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">sub</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">stereo_sub_pairable_devices</span></div>


<div class="viewcode-block" id="gc_gm_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.gc_gm_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">gc_gm_pair</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns all GC/GM playback device pairs on this</span>
<span class="sd">    testbed.</span>

<span class="sd">    :return: Each GC/GM pairs possible on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_gc_gm_pairs"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_gc_gm_pairs">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_gc_gm_pairs</span><span class="p">(</span>
        <span class="n">all_playback_devices</span><span class="p">,</span> <span class="n">all_unique_platform_playback_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all GC/GM pairs possible on this testbed, given a list of</span>
<span class="sd">    platform playback devices.</span>

<span class="sd">    :return: All GC/GM pairs possible on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pairs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">group_size</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">unique_devices</span> <span class="o">=</span> <span class="n">all_unique_platform_playback_devices</span>

    <span class="c1"># FIXME: This implementation allows for a pair of</span>
    <span class="c1"># Alpines/portable devices so that we can test the</span>
    <span class="c1"># case where Alpine is a gc. When we have more</span>
    <span class="c1"># portable platforms this fixture will have to be changed.</span>
    <span class="n">portable_devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">zp</span> <span class="k">for</span> <span class="n">zp</span> <span class="ow">in</span> <span class="n">all_playback_devices</span>
                        <span class="k">if</span> <span class="n">zp</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">permutations</span><span class="p">(</span><span class="n">unique_devices</span><span class="p">,</span> <span class="n">group_size</span><span class="p">):</span>
        <span class="n">gc</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">gms</span> <span class="o">=</span> <span class="p">[</span><span class="n">zp</span> <span class="k">for</span> <span class="n">zp</span> <span class="ow">in</span> <span class="n">group</span> <span class="k">if</span> <span class="n">zp</span> <span class="o">!=</span> <span class="n">gc</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">gc</span> <span class="ow">in</span> <span class="n">portable_devices</span><span class="p">:</span>
            <span class="c1"># Portable devices can only be a group coordinator if</span>
            <span class="c1"># grouped only with other portable devices</span>
            <span class="n">gms</span> <span class="o">=</span> <span class="p">[</span><span class="n">zp</span> <span class="k">for</span> <span class="n">zp</span> <span class="ow">in</span> <span class="n">portable_devices</span> <span class="k">if</span> <span class="n">zp</span> <span class="o">!=</span> <span class="n">gc</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">gms</span><span class="p">:</span>
            <span class="n">pair</span> <span class="o">=</span> <span class="p">(</span><span class="n">gc</span><span class="p">,</span> <span class="n">gms</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">pair</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
                <span class="c1"># Only add pairs that haven&#39;t already been created</span>
                <span class="n">pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pair</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pairs</span></div>

<div class="viewcode-block" id="a_gc_gm_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_gc_gm_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_gc_gm_pair</span><span class="p">(</span><span class="n">all_gc_gm_pairs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a GC/GM pair possible on this testbed.</span>

<span class="sd">    :return: A GC/GM pair possible on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_gc_gm_pairs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="non_portable_gc_gm_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.non_portable_gc_gm_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">non_portable_gc_gm_pair</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns all GC/GM playback device pairs on this</span>
<span class="sd">    testbed. The GC/GM pairs are non portable players.</span>

<span class="sd">    :return: Each GC/GM non portable pairs possible on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_non_portable_gc_gm_pairs"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_non_portable_gc_gm_pairs">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_non_portable_gc_gm_pairs</span><span class="p">(</span><span class="n">all_gc_gm_pairs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all non portable GC/GM pairs in this testbed.</span>

<span class="sd">    :return: Return all non portable GC/GM pairs in this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of tuples</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">non_portable_pairs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">all_gc_gm_pairs</span><span class="p">:</span>
        <span class="n">gc</span><span class="p">,</span> <span class="n">gms</span> <span class="o">=</span> <span class="n">pair</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span> <span class="ow">or</span>
            <span class="nb">any</span><span class="p">([</span><span class="n">gm</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span> <span class="k">for</span> <span class="n">gm</span> <span class="ow">in</span> <span class="n">gms</span><span class="p">])):</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">pair</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">non_portable_pairs</span><span class="p">:</span>
            <span class="n">non_portable_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pair</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">non_portable_pairs</span></div>


<div class="viewcode-block" id="a_non_portable_gc_gm_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_non_portable_gc_gm_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_non_portable_gc_gm_pair</span><span class="p">(</span><span class="n">all_non_portable_gc_gm_pairs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single non portable GC/GM pair</span>

<span class="sd">    :return: Return a non portable GC/GM pair in this testbed.</span>
<span class="sd">    :rtype: :obj:`tuple` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    and a list of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_non_portable_gc_gm_pairs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="unique_gc_unique_gm_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_gc_unique_gm_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_gc_unique_gm_pair</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns all GC/GM playback device pairs on this</span>
<span class="sd">    testbed.  Only once of each unique device will be generated for the gc</span>
<span class="sd">    and gm.</span>

<span class="sd">    :return: Each unique(once) GC/GM pairs possible on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_unique_gc_unique_gm_pairs"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_gc_unique_gm_pairs">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_gc_unique_gm_pairs</span><span class="p">(</span><span class="n">all_gc_gm_pairs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all GC/GM pairs possible on this testbed, given a list of</span>
<span class="sd">    platform playback devices.  Only once of each unique device will be</span>
<span class="sd">    generated for the gc and gm.</span>

<span class="sd">    Given a testbed with S1, S3, S6, this fixture would create the following</span>
<span class="sd">    initially:</span>
<span class="sd">    [(S1,[S3])],(S3,[S6]),(S6,[S1]),(S6,[S1]),(S6,[S3]),(S1,[S6])]</span>
<span class="sd">    but the final filtration would then yield:</span>
<span class="sd">    [(S1,[S3])],(S3,[S6]),(S6,[S1]),(S6,[S3]),(S1,[S6])]</span>
<span class="sd">        whereby (S6,[S1]) is removed</span>

<span class="sd">    However, if the original list that was created originally was:</span>
<span class="sd">    [(S1,[S3])],(S3,[S6]),(S6,[S1]),(S6,[S1]),(S1,[S3]),(S1,[S6])],</span>
<span class="sd">    then final filtration would then yield:</span>
<span class="sd">    [(S1,[S3])],(S3,[S6]),(S6,[S1]),(S1,[S6])]</span>
<span class="sd">        whereby (S6,[S1]) and (S1,[S3]) is removed</span>

<span class="sd">    One final example whereby the original list that was created originally was:</span>
<span class="sd">    [(S1,[S3])],(S3,[S6]),(S6,[S1]),(S6,[S1]),(S1,[S3]),(S3,[S6])],</span>
<span class="sd">    then final filtration would then yield:</span>
<span class="sd">    [(S1,[S3])],(S3,[S6]),(S6,[S1])</span>
<span class="sd">        whereby (S6,[S1]),(S1,[S3]) and(S3,[S6])] is removed</span>

<span class="sd">    FIXME: One can see that the original created list has an impact on reducing</span>
<span class="sd">    the number of required pair to test BUT this fixture does not try and solve</span>
<span class="sd">    this optimization.</span>

<span class="sd">    :return: All unique(once) GC/GM pairs possible on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Note that all_gc_gm_pairs is a tuple of SZC and list of SZC :-(</span>
    <span class="n">unique_gc_unique_gm_pairs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">all_gc_gm_pairs</span><span class="p">:</span>
        <span class="c1"># Get all GCs from all_gc_gm_pairs.</span>
        <span class="n">unique_gcs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">all_gc_gm_pairs</span><span class="p">))</span>
        <span class="c1"># Get all GMs from all_gc_gm_pairs.  Note that gms are list in the tuple.</span>
        <span class="n">unique_gms</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">],),</span>
                                <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">all_gc_gm_pairs</span><span class="p">))[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">unique_gc_gm_pairs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">gc_unique_gm_pairs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># We then filter all_gc_gm_pairs that has a particular player as the GC</span>
        <span class="c1"># and then store it into a dictionary with that GC as the key.</span>
        <span class="k">for</span> <span class="n">gc</span> <span class="ow">in</span> <span class="n">unique_gcs</span><span class="p">:</span>
            <span class="n">unique_gc_gm_pairs</span><span class="p">[</span><span class="n">gc</span><span class="p">]</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">gc</span><span class="p">,</span> <span class="n">all_gc_gm_pairs</span><span class="p">)</span>
        <span class="c1"># We then filter all_gc_gm_pairs that has a particular player as the GM</span>
        <span class="c1"># and then store it into a dictionary with that GM as the key.</span>
        <span class="k">for</span> <span class="n">gm</span> <span class="ow">in</span> <span class="n">unique_gms</span><span class="p">:</span>
            <span class="n">gc_unique_gm_pairs</span><span class="p">[</span><span class="n">gm</span><span class="p">]</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">gm</span> <span class="ow">in</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                            <span class="n">all_gc_gm_pairs</span><span class="p">)</span>
        <span class="c1"># Initial created list</span>
        <span class="c1"># For each GC, we just pick the first set.  In doing so, we know we</span>
        <span class="c1"># have that player as the GC once.</span>
        <span class="c1"># For each GM, we just pick the first set.  In doing so, we know we</span>
        <span class="c1"># have that player as the GM once.</span>
        <span class="n">unique_gc_unique_gm_pairs_with_dup</span> <span class="o">=</span> \
            <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">unique_gc_gm_pairs</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">+</span> \
            <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">gc_unique_gm_pairs</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="c1"># Final filtration to remove duplicate.</span>
        <span class="n">unique_gc_unique_gm_pairs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">unique_gc_unique_gm_pair</span> <span class="ow">in</span> <span class="n">unique_gc_unique_gm_pairs_with_dup</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">unique_gc_unique_gm_pair</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_gc_unique_gm_pairs</span><span class="p">:</span>
                <span class="n">unique_gc_unique_gm_pairs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">unique_gc_unique_gm_pair</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">unique_gc_unique_gm_pairs</span></div>


<div class="viewcode-block" id="a_unique_gc_unique_gm_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_gc_unique_gm_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_gc_unique_gm_pair</span><span class="p">(</span><span class="n">all_unique_gc_unique_gm_pairs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a unique(once) GC/GM pair possible on this testbed.</span>

<span class="sd">    :return: A unique(once) GC/GM pair possible on this testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_gc_unique_gm_pairs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="zp80"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.zp80">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">zp80</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed ZP80.</span>

<span class="sd">    :return: Each testbed ZP80.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_zp80s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_zp80s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_zp80s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed ZP80s.</span>

<span class="sd">    :return: All testbed ZP80s.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">ZP80</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_zp80"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_zp80">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_zp80</span><span class="p">(</span><span class="n">all_zp80s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed ZP80.</span>

<span class="sd">    :return: 1 testbed ZP80</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_zp80s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="zp90"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.zp90">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">zp90</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed ZP90.</span>

<span class="sd">    :return: Each testbed ZP90.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_zp90s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_zp90s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_zp90s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed ZP90s.</span>

<span class="sd">    :return: All testbed ZP90s.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">ZP90</span><span class="p">]</span></div>


<span class="n">all_connects</span> <span class="o">=</span> <span class="n">all_zp90s</span>


<div class="viewcode-block" id="a_zp90"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_zp90">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_zp90</span><span class="p">(</span><span class="n">all_zp90s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed ZP90.</span>

<span class="sd">    :return: 1 testbed ZP90</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_zp90s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_connect</span> <span class="o">=</span> <span class="n">a_zp90</span>


<div class="viewcode-block" id="zp100"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.zp100">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">zp100</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed ZP100.</span>

<span class="sd">    :return: Each testbed ZP100.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_zp100s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_zp100s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_zp100s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed ZP100s</span>

<span class="sd">    :return: All testbed ZP100s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">ZP100</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_zp100"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_zp100">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_zp100</span><span class="p">(</span><span class="n">all_zp100s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed ZP100</span>

<span class="sd">    :return: 1 testbed ZP100</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_zp100s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="zp120"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.zp120">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">zp120</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed ZP120.</span>

<span class="sd">    :return: Each testbed ZP120.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_zp120s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_zp120s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_zp120s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed ZP120s</span>

<span class="sd">    :return: All testbed ZP120s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">ZP120</span><span class="p">]</span></div>


<span class="n">all_connect_amps</span> <span class="o">=</span> <span class="n">all_zp120s</span>


<div class="viewcode-block" id="a_zp120"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_zp120">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_zp120</span><span class="p">(</span><span class="n">all_zp120s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed ZP120.</span>

<span class="sd">    :return: 1 testbed ZP120</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_zp120s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_connect_amp</span> <span class="o">=</span> <span class="n">a_zp120</span>


<div class="viewcode-block" id="s5"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s5">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s5</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S5.</span>

<span class="sd">    :return: Each testbed S5.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s5s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s5s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s5s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S5s.</span>

<span class="sd">    :return: All testbed S5s.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S5</span><span class="p">]</span></div>


<span class="n">all_play5_gen1s</span> <span class="o">=</span> <span class="n">all_s5s</span>


<div class="viewcode-block" id="a_s5"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s5">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s5</span><span class="p">(</span><span class="n">all_s5s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed S5s.</span>

<span class="sd">    :return: 1 testbed S5</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s5s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_play5_gen1</span> <span class="o">=</span> <span class="n">a_s5</span>


<div class="viewcode-block" id="s6"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s6">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s6</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S6.</span>

<span class="sd">    :return: Each testbed S6.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s6s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s6s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s6s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S6s.</span>

<span class="sd">    :return: All testbed S6s.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S6</span><span class="p">]</span></div>


<span class="n">all_play5_gen2s</span> <span class="o">=</span> <span class="n">all_s6s</span>


<div class="viewcode-block" id="a_s6"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s6">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s6</span><span class="p">(</span><span class="n">all_s6s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed S6s.</span>

<span class="sd">    :return: 1 testbed S6</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s6s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_play5_gen2</span> <span class="o">=</span> <span class="n">a_s6</span>

<div class="viewcode-block" id="s3"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s3">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s3</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S3.</span>

<span class="sd">    :return: Each testbed S3.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s3s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s3s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s3s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S3s.</span>

<span class="sd">    :return: All testbed S3s.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S3</span><span class="p">]</span></div>


<span class="n">all_play3s</span> <span class="o">=</span> <span class="n">all_s3s</span>


<div class="viewcode-block" id="a_s3"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s3">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s3</span><span class="p">(</span><span class="n">all_s3s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed S3.</span>

<span class="sd">    :return: 1 testbed S3</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s3s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_play3</span> <span class="o">=</span> <span class="n">a_s3</span>

<div class="viewcode-block" id="s1"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s1">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s1</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S1.</span>

<span class="sd">    :return: Each testbed S1.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s1s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s1s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s1s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S1s.</span>

<span class="sd">    :return: All testbed S1s.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S1</span><span class="p">]</span></div>


<span class="n">all_play1_gen1s</span> <span class="o">=</span> <span class="n">all_s1s</span>


<div class="viewcode-block" id="a_s1"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s1">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s1</span><span class="p">(</span><span class="n">all_s1s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed S1.</span>

<span class="sd">    :return: 1 testbed S1s</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s1s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_play1_gen1</span> <span class="o">=</span> <span class="n">a_s1</span>

<div class="viewcode-block" id="sub"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.sub">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">sub</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed Sub.</span>

<span class="sd">    :return: Each testbed Sub.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_subs"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_subs">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_subs</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed Subs</span>

<span class="sd">    This fixture can parametrize testcases by using &#39;sub&#39; as a positional</span>
<span class="sd">    argument in your testcase or fixture.</span>

<span class="sd">    :return: All testbed Subs</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">SUB</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_sub"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_sub">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_sub</span><span class="p">(</span><span class="n">all_subs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed Sub</span>

<span class="sd">    :return: 1 testbed Sub</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_subs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="zb100"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.zb100">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">zb100</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed ZB100.</span>

<span class="sd">    :return: Each testbed ZB100.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_zb100s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_zb100s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_zb100s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed ZB100s</span>

<span class="sd">    This fixture can parametrize testcases by using &#39;zb100&#39; as a</span>
<span class="sd">    positional argument in your testcase or fixture.</span>

<span class="sd">    :return: All testbed ZB100s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">ZB100</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_zb100"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_zb100">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_zb100</span><span class="p">(</span><span class="n">all_zb100s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed ZB100</span>

<span class="sd">    :return: 1 testbed ZB100</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_zb100s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="br200"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.br200">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">br200</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed BR200.</span>

<span class="sd">    :return: Each testbed BR200.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_br200s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_br200s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_br200s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed BR200s</span>

<span class="sd">    This fixture can parametrize testcases by using &#39;br200&#39; as a positional</span>
<span class="sd">    argument in your testcase or fixture.</span>

<span class="sd">    :return: All testbed BR200s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">BR200</span><span class="p">]</span></div>


<span class="n">all_boosts</span> <span class="o">=</span> <span class="n">all_br200s</span>


<div class="viewcode-block" id="a_br200"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_br200">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_br200</span><span class="p">(</span><span class="n">all_br200s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed BR200</span>

<span class="sd">    :return: 1 testbed BR200</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_br200s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_boost</span> <span class="o">=</span> <span class="n">a_br200</span>

<div class="viewcode-block" id="wd100"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.wd100">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">wd100</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed WD100.</span>

<span class="sd">    :return: Each testbed WD100.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_wd100s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_wd100s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_wd100s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed WD100s</span>

<span class="sd">    This fixture can parametrize testcases by using &#39;dock&#39; as a positional</span>
<span class="sd">    argument in your testcase or fixture.</span>

<span class="sd">    :return: All testbed WD100s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">WD100</span><span class="p">]</span></div>


<span class="n">all_docks</span> <span class="o">=</span> <span class="n">all_wd100s</span>


<div class="viewcode-block" id="a_wd100"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_wd100">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_wd100</span><span class="p">(</span><span class="n">all_wd100s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed WD100</span>

<span class="sd">    :return: 1 testbed WD100</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_wd100s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_dock</span> <span class="o">=</span> <span class="n">a_wd100</span>

<div class="viewcode-block" id="s9"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s9">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s9</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S9.</span>

<span class="sd">    :return: Each testbed S9.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s9s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s9s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s9s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S9s</span>

<span class="sd">    This fixture can parametrize testcases by using &#39;s9&#39; as a positional</span>
<span class="sd">    argument in your testcase or fixture.</span>

<span class="sd">    :return: All testbed S9s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S9</span><span class="p">]</span></div>


<span class="n">all_playbars</span> <span class="o">=</span> <span class="n">all_s9s</span>


<div class="viewcode-block" id="a_s9"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s9">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s9</span><span class="p">(</span><span class="n">all_s9s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed S9</span>

<span class="sd">    :return: 1 testbed S9</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s9s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_playbar</span> <span class="o">=</span> <span class="n">a_s9</span>

<div class="viewcode-block" id="s11"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s11">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s11</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S11.</span>

<span class="sd">    :return: Each testbed S11.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s11s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s11s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s11s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S11s</span>

<span class="sd">    :return: All testbed S11s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S11</span><span class="p">]</span></div>


<span class="n">all_sols</span> <span class="o">=</span> <span class="n">all_s11s</span>


<div class="viewcode-block" id="a_s11"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s11">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s11</span><span class="p">(</span><span class="n">all_s11s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed S11</span>

<span class="sd">    :return: 1 testbed S11</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s11s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_sol</span> <span class="o">=</span> <span class="n">a_s11</span>

<div class="viewcode-block" id="s12"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s12">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s12</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S12.</span>

<span class="sd">    :return: Each testbed S12.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s12s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s12s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s12s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S12s</span>

<span class="sd">    :return: All testbed S12s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S12</span><span class="p">]</span></div>


<span class="n">all_royale</span> <span class="o">=</span> <span class="n">all_s12s</span>


<div class="viewcode-block" id="a_s12"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s12">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s12</span><span class="p">(</span><span class="n">all_s12s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed S12</span>

<span class="sd">    :return: 1 testbed S12</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s12s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_royale</span> <span class="o">=</span> <span class="n">a_s12</span>

<div class="viewcode-block" id="s13"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s13">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s13</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S13.</span>

<span class="sd">    :return: Each testbed S13.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s13s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s13s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s13s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S13s</span>

<span class="sd">    :return: All testbed S13s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S13</span><span class="p">]</span></div>


<span class="n">all_bootlegs</span> <span class="o">=</span> <span class="n">all_s13s</span>


<div class="viewcode-block" id="a_s13"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s13">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s13</span><span class="p">(</span><span class="n">all_s13s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed S13</span>

<span class="sd">    :return: 1 testbed S13</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s13s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_bootleg</span> <span class="o">=</span> <span class="n">a_s13</span>

<div class="viewcode-block" id="s14"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s14">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s14</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S14.</span>

<span class="sd">    :return: Each testbed S14.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s14s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s14s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s14s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S14s</span>

<span class="sd">    :return: All testbed S14s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S14</span><span class="p">]</span></div>


<span class="n">all_elreys</span> <span class="o">=</span> <span class="n">all_s14s</span>


<div class="viewcode-block" id="a_s14"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s14">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s14</span><span class="p">(</span><span class="n">all_s14s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed S14</span>

<span class="sd">    :return: 1 testbed S14</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s14s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_elrey</span> <span class="o">=</span> <span class="n">a_s14</span>

<div class="viewcode-block" id="s15"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s15">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s15</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S15.</span>

<span class="sd">    :return: Each testbed S15.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s15s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s15s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s15s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S15s</span>

<span class="sd">    :return: All testbed S15s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S15</span><span class="p">]</span></div>


<span class="n">all_paramounts</span> <span class="o">=</span> <span class="n">all_s15s</span>


<div class="viewcode-block" id="a_s15"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s15">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s15</span><span class="p">(</span><span class="n">all_s15s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed Paramount (model: S15)</span>

<span class="sd">    :return: 1 testbed S15</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s15s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_paramount</span> <span class="o">=</span> <span class="n">a_s15</span>


<div class="viewcode-block" id="s16"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s16">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s16</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S16.</span>

<span class="sd">    :return: Each testbed S16.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s16s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s16s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s16s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S16s</span>

<span class="sd">    :return: All testbed S16s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S16</span><span class="p">]</span></div>


<span class="n">all_hideouts</span> <span class="o">=</span> <span class="n">all_s16s</span>


<div class="viewcode-block" id="a_s16"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s16">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s16</span><span class="p">(</span><span class="n">all_s16s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed Hideout (model: S16)</span>

<span class="sd">    :return: 1 testbed S16</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s16s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_hideout</span> <span class="o">=</span> <span class="n">a_s16</span>

<div class="viewcode-block" id="hideout_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.hideout_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hideout_pair</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns pairs of hideout devices.</span>

<span class="sd">    :return: Pairs of hideout devices</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_hideout_pairs"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_hideout_pairs">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_hideout_pairs</span><span class="p">(</span><span class="n">all_hideouts</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of all hideout pairs in the testbed. If there</span>
<span class="sd">    is an odd number of hideouts, one will be excluded.</span>

<span class="sd">    :return: a list of hideout device pairs</span>
<span class="sd">    :rtype: :obj:`list` of :obj:`tuple`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_hideouts</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_hideouts</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">all_hideouts</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="n">i</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">all_hideouts</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">zip</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;Not enough S16s, need 2 or more&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="a_hideout_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_hideout_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_hideout_pair</span><span class="p">(</span><span class="n">all_hideout_pairs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a tuple of two testbed S16s</span>

<span class="sd">    :return: tuple of two S16s</span>
<span class="sd">    :rtype: :obj:`tuple` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_hideout_pairs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="s17"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s17">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s17</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S17.</span>

<span class="sd">    :return: Each testbed S17.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s17s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s17s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s17s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S17s</span>

<span class="sd">    :return: All testbed S17s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S17</span><span class="p">]</span></div>


<span class="n">all_dhuezs</span> <span class="o">=</span> <span class="n">all_s17s</span>


<div class="viewcode-block" id="a_s17"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s17">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s17</span><span class="p">(</span><span class="n">all_s17s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed Dhuez (model: S17)</span>

<span class="sd">    :return: 1 testbed S17</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s17s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_dhuez</span> <span class="o">=</span> <span class="n">a_s17</span>


<div class="viewcode-block" id="s18"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s18">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s18</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S18.</span>

<span class="sd">    :return: Each testbed S18.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s18s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s18s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s18s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S18s</span>

<span class="sd">    :return: All testbed S18s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S18</span><span class="p">]</span></div>


<span class="n">all_tupelos</span> <span class="o">=</span> <span class="n">all_s18s</span>


<div class="viewcode-block" id="a_s18"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s18">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s18</span><span class="p">(</span><span class="n">all_s18s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed Tupelo (model: S18)</span>

<span class="sd">    :return: 1 testbed S18</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s18s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_tupelo</span> <span class="o">=</span> <span class="n">a_s18</span>

<div class="viewcode-block" id="s19"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s19">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s19</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S19.</span>

<span class="sd">    :return: Each testbed S19.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_s19s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s19s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s19s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S19s</span>

<span class="sd">    :return: All testbed S19s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S19</span><span class="p">]</span></div>


<span class="n">all_apollos</span> <span class="o">=</span> <span class="n">all_s19s</span>


<div class="viewcode-block" id="a_s19"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s19">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s19</span><span class="p">(</span><span class="n">all_s19s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed Apollo (model: S19)</span>

<span class="sd">    :return: 1 testbed S19</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s19s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">an_apollo</span> <span class="o">=</span> <span class="n">a_s19</span>

<div class="viewcode-block" id="s20"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s20">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s20</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S20.</span>

<span class="sd">    :return: Each testbed S20.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_s20s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s20s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s20s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S20s</span>

<span class="sd">    :return: All testbed S20s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S20</span><span class="p">]</span></div>


<span class="n">all_marquees</span> <span class="o">=</span> <span class="n">all_s20s</span>


<div class="viewcode-block" id="a_s20"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s20">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s20</span><span class="p">(</span><span class="n">all_s20s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed Marquee (model: S20)</span>

<span class="sd">    :return: 1 testbed S20</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s20s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_marquee</span> <span class="o">=</span> <span class="n">a_s20</span>

<div class="viewcode-block" id="s21"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s21">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s21</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S21.</span>

<span class="sd">    :return: Each testbed S21.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_s21s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s21s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s21s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S21s</span>

<span class="sd">    :return: All testbed S21s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S21</span><span class="p">]</span></div>


<span class="n">all_largos</span> <span class="o">=</span> <span class="n">all_s21s</span>


<div class="viewcode-block" id="a_s21"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s21">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s21</span><span class="p">(</span><span class="n">all_s21s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed Largo (model: S21)</span>

<span class="sd">    :return: 1 testbed S21</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s21s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_largo</span> <span class="o">=</span> <span class="n">a_s21</span>


<div class="viewcode-block" id="s22"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s22">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s22</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S22.</span>

<span class="sd">    :return: Each testbed S22.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_s22s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s22s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s22s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S22s</span>

<span class="sd">    :return: All testbed S22s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S22</span><span class="p">]</span></div>


<span class="n">all_chaplins</span> <span class="o">=</span> <span class="n">all_s22s</span>


<div class="viewcode-block" id="a_s22"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s22">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s22</span><span class="p">(</span><span class="n">all_s22s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed chaplin (model: S22)</span>

<span class="sd">    :return: 1 testbed S22</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s22s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_chaplin</span> <span class="o">=</span> <span class="n">a_s22</span>


<div class="viewcode-block" id="s23"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.s23">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">s23</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed S23.</span>

<span class="sd">    :return: Each testbed S23.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_s23s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_s23s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_s23s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all testbed S23s</span>

<span class="sd">    :return: All testbed S23s</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="o">==</span> <span class="n">S23</span><span class="p">]</span></div>


<span class="n">all_neptunes</span> <span class="o">=</span> <span class="n">all_s23s</span>


<div class="viewcode-block" id="a_s23"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_s23">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_s23</span><span class="p">(</span><span class="n">all_s23s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a single testbed neptune (model: S23)</span>

<span class="sd">    :return: 1 testbed S23</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_s23s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<span class="n">a_neptune</span> <span class="o">=</span> <span class="n">a_s23</span>


<div class="viewcode-block" id="sh4_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.sh4_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">sh4_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed SH4 device.</span>

<span class="sd">    :return: Each testbed SH4 device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_sh4_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_sh4_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_sh4_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform SH4</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_SH4</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_sh4_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_sh4_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_sh4_device</span><span class="p">(</span><span class="n">all_sh4_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed devices</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` device with</span>
<span class="sd">        platform SH4</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_sh4_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="mips_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.mips_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">mips_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed MIPS device.</span>

<span class="sd">    :return: Each testbed MIPS device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_mips_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_mips_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_mips_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform MIPS</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_MIPS</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_mips_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_mips_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_mips_device</span><span class="p">(</span><span class="n">all_mips_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed devices</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` device with</span>
<span class="sd">        platform MIPS</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_mips_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="arm_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.arm_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">arm_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed ARM device.</span>

<span class="sd">    :return: Each testbed ARM device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_arm_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_arm_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_arm_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform ARM</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_ARM</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_arm_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_arm_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_arm_device</span><span class="p">(</span><span class="n">all_arm_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed device with platform ARM.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` device with</span>
<span class="sd">        platform ARM</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_arm_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="mips24k_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.mips24k_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">mips24k_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed MIPS24K device.</span>

<span class="sd">    :return: Each testbed MIPS24K device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_mips24k_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_mips24k_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_mips24k_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with platform MIPS24K</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform MIPS24K</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_MIPS24K</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_mips24k_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_mips24k_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_mips24k_device</span><span class="p">(</span><span class="n">all_mips24k_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed device with platform MIPS24K.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` device with</span>
<span class="sd">        platform MIPS24K</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_mips24k_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="fenway_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.fenway_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fenway_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed Fenway device.</span>

<span class="sd">    :return: Each testbed Fenway device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_fenway_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_fenway_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_fenway_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with platform Fenway.</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform Fenway</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_FENWAY</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_fenway_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_fenway_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_fenway_device</span><span class="p">(</span><span class="n">all_fenway_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed device with platform Fenway.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent` device with</span>
<span class="sd">        platform Fenway</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_fenway_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="limelight_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.limelight_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">limelight_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed Limelight device.</span>

<span class="sd">    :return: Each testbed device with platform Limelight.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_limelight_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_limelight_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_limelight_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with platform Limelight.</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform LIMELIGHT</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_LIMELIGHT</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_limelight_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_limelight_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_limelight_device</span><span class="p">(</span><span class="n">all_limelight_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed device with platform LIMELIGHT.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        device with platform LIMELIGHT</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_limelight_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="fillmore_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.fillmore_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fillmore_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed Fillmore device.</span>

<span class="sd">    :return: Each testbed device with platform Fillmore.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_fillmore_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_fillmore_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_fillmore_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with platform Fillmore.</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform Fillmore</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_FILLMORE</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_fillmore_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_fillmore_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_fillmore_device</span><span class="p">(</span><span class="n">all_fillmore_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed device with platform Fillmore.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        device with platform Fillmore</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_fillmore_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="encore_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.encore_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">encore_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed Encore device.</span>

<span class="sd">    :return: Each testbed device with platform Encore.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_encore_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_encore_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_encore_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with platform Encore.</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform Encore</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_ENCORE</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_encore_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_encore_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_encore_device</span><span class="p">(</span><span class="n">all_encore_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed device with platform Encore.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        device with platform Encore</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_encore_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="solbase_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.solbase_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">solbase_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed Solbase device.</span>

<span class="sd">    :return: Each testbed device with platform Solbase.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_solbase_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_solbase_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_solbase_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with platform SOLBASE.</span>

<span class="sd">    This fixture can parametrize testcases by using &#39;solbase_device&#39; as a</span>
<span class="sd">    positional argument in your testcase or fixture.</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform SOLBASE</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_SOLBASE</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_solbase_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_solbase_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_solbase_device</span><span class="p">(</span><span class="n">all_solbase_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed device with platform SOLBASE.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        device with platform SOLBASE</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_solbase_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="ppc_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.ppc_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">ppc_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed PPC device.</span>

<span class="sd">    :return: Each testbed device with platform PPC.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_ppc_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ppc_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ppc_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with platform PPC.</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform PPC</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_PPC</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_ppc_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_ppc_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_ppc_device</span><span class="p">(</span><span class="n">all_ppc_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed device with platform PPC.</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        device with platform PPC</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_ppc_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="connectx_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.connectx_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">connectx_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed CONNECTX device.</span>

<span class="sd">    :return: Each testbed device with platform CONNECTX.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_connectx_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_connectx_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_connectx_devices</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with platform CONNECTX</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with platform CONNECTX</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get_all_testbed_devices_by_platform</span><span class="p">(</span><span class="n">PLATFORM_CONNECTX</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_connectx_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_connectx_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_connectx_device</span><span class="p">(</span><span class="n">all_connectx_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed device with platform CONNECTX</span>

<span class="sd">    :return: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        device with platform CONNECTX</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_connectx_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_play1s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_play1s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_play1s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed PLAY:1s (models S1 and S12)</span>

<span class="sd">    This fixture can parametrize testcases by using &#39;play1&#39; as a positional</span>
<span class="sd">    argument in your testcase or fixture.</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with model number S1 and S12 in the testbed.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">play1s</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="p">[</span><span class="n">S1</span><span class="p">,</span> <span class="n">S12</span><span class="p">]]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">play1s</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;No PLAY:1s found in testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">play1s</span></div>

<div class="viewcode-block" id="play1"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.play1">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">play1</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed PLAY:1 (models S1 and S12)</span>

<span class="sd">    :return: Each testbed device with model number S1 and S12.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="a_play1"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_play1">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_play1</span><span class="p">(</span><span class="n">all_play1s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed PLAY:1 (models S1 and S12)</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with model number S1 and S12 in the testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_play1s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="play5"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.play5">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">play5</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed PLAY:5</span>

<span class="sd">    :return: Each testbed device with model number S5 and S6.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_play5s"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_play5s">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_play5s</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed PLAY:5s (models S5 and S6)</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with model number S5 and S6 in the testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">play5s</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="p">[</span><span class="n">S5</span><span class="p">,</span> <span class="n">S6</span><span class="p">]]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">play5s</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;No PLAY:5s found in testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">play5s</span></div>


<div class="viewcode-block" id="a_play5"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_play5">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_play5</span><span class="p">(</span><span class="n">all_play5s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed PLAY:5 (models S5 and S6)</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with model number S5 and S6 in the testbed.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_play5s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="bridge"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.bridge">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">bridge</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each testbed BRIDGE and BOOST.</span>

<span class="sd">    :return: Each testbed device with model number ZB100 or BR200.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>

<div class="viewcode-block" id="all_bridges"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_bridges">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_bridges</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed BRIDGEs and BOOSTs.</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with model number ZB100 or BR200 in the testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">bridges</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ZB100</span><span class="p">,</span> <span class="n">BR200</span><span class="p">]]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">bridges</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;No bridges found in testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">bridges</span></div>

<div class="viewcode-block" id="a_bridge"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_bridge">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_bridge</span><span class="p">(</span><span class="n">all_bridges</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed BRIDGE or BOOST.</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with model number ZB100 or BR200 in the testbed.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_bridges</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_secureboot_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_secureboot_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_secureboot_device</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a testbed secureboot device.</span>

<span class="sd">    :return: a secureboot device</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">SECURE_BOOT_DEVICES</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">d</span></div>


<div class="viewcode-block" id="filtered_platform_valgrind_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.filtered_platform_valgrind_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">filtered_platform_valgrind_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a valgrind capable device.</span>

<span class="sd">    :return: a valgrind capable device</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="a_filtered_platform_valgrind_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_filtered_platform_valgrind_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_filtered_platform_valgrind_capable_device</span><span class="p">(</span>
        <span class="n">all_filtered_platform_valgrind_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a valgrind capable device.</span>

<span class="sd">    :return: a valgrind capable device</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_filtered_platform_valgrind_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_airplay_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_airplay_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_airplay_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all airplay ZPs on the testbed</span>
<span class="sd">    :return: All airplay capable devices.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">airplay</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">AIRPLAY_DEVICES</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">airplay</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;No airplay ZPs found in testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">airplay</span></div>


<div class="viewcode-block" id="airplay_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.airplay_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">airplay_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each airplay ZP</span>
<span class="sd">    :return: An airplay capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="an_airplay_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.an_airplay_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">an_airplay_device</span><span class="p">(</span><span class="n">all_airplay_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single airplay ZP</span>
<span class="sd">    :param all_airplay_devices:</span>
<span class="sd">    :return: A single airplay capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_airplay_devices</span><span class="p">)</span></div>


<div class="viewcode-block" id="all_non_airplay_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_non_airplay_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_non_airplay_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all non-airplay ZPs on the testbed</span>
<span class="sd">    :return: All non-airplay capable devices.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">non_airplay</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">NON_AIRPLAY_DEVICES</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">non_airplay</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;No non-airplay ZPs found in testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">non_airplay</span></div>


<div class="viewcode-block" id="non_airplay_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.non_airplay_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">non_airplay_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each non-airplay ZP</span>
<span class="sd">    :return: A non-airplay capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="a_non_airplay_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_non_airplay_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_non_airplay_device</span><span class="p">(</span><span class="n">all_non_airplay_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single non-airplay ZP</span>
<span class="sd">    :param all_non_airplay_devices:</span>
<span class="sd">    :return: A random non-airplay capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_non_airplay_devices</span><span class="p">)</span></div>

<div class="viewcode-block" id="amp_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.amp_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">amp_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each ZP with amp</span>
<span class="sd">    :return: Each testbed device with AMP.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_amp_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_amp_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_amp_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all testbed devices with AMP</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        devices with AMP in the testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">devices_with_amp</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PLAYBACK_DEVICES</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">d</span><span class="o">.</span><span class="n">cli</span><span class="o">.</span><span class="n">is_connect</span><span class="p">())</span>\
            <span class="ow">or</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">is</span> <span class="n">SUB</span><span class="p">)]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">devices_with_amp</span><span class="p">:</span>
        <span class="n">skip_or_testbed_error</span><span class="p">(</span><span class="s2">&quot;No devices with AMP found in testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">devices_with_amp</span></div>


<div class="viewcode-block" id="a_amp_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_amp_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_amp_device</span><span class="p">(</span><span class="n">all_amp_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single ZP with AMP</span>
<span class="sd">    :param all_amp_devices:</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_amp_devices</span><span class="p">)</span></div>


<div class="viewcode-block" id="cpu_scaling_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.cpu_scaling_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">cpu_scaling_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each CPU scaling device</span>
<span class="sd">    :return: Each testbed CPU scaling device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_cpu_scaling_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_cpu_scaling_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_cpu_scaling_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all CPU scaling devices</span>

<span class="sd">    :return: List of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        CPU scaling in the testbed.</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">CPU_SCALING_DEVICES</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_non_dual_mono_mode_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_non_dual_mono_mode_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_non_dual_mono_mode_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">,</span> <span class="n">all_dual_mono_mode_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all non dual mono mode capable ZPs on the testbed</span>
<span class="sd">    :return: All non dual mono mode capable devices.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">non_dual_mono_mode_devices</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_devices</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span>
                                    <span class="n">all_dual_mono_mode_capable_devices</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">non_dual_mono_mode_devices</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TestbedError</span><span class="p">(</span><span class="s2">&quot;No non dual mono mode capable ZPs found in &quot;</span>
                           <span class="s2">&quot;testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">non_dual_mono_mode_devices</span></div>


<div class="viewcode-block" id="non_dual_mono_mode_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.non_dual_mono_mode_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">non_dual_mono_mode_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each non dual mono mode capable ZP</span>
<span class="sd">    :return: A non dual mono mode capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_dual_mono_mode_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_dual_mono_mode_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_dual_mono_mode_capable_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all dual mono mode capable ZPs on the testbed</span>
<span class="sd">    :return: All dual mono mode capable devices.</span>
<span class="sd">    :rtype: :obj:`list`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mono_mode_devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">all_devices</span>
                   <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">DUAL_MONO_MODE_CAPABLE_DEVICES</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">mono_mode_devices</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TestbedError</span><span class="p">(</span><span class="s2">&quot;No dual mono mode capable ZPs found in testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mono_mode_devices</span></div>


<div class="viewcode-block" id="dual_mono_mode_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.dual_mono_mode_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">dual_mono_mode_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each dual mono mode capable ZP</span>
<span class="sd">    :return: A dual mono mode capable capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="a_dual_mono_mode_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_dual_mono_mode_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_dual_mono_mode_capable_device</span><span class="p">(</span><span class="n">all_dual_mono_mode_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single dual mono mode capable ZP</span>
<span class="sd">    :param all_dual_mono_mode_capable_devices:</span>
<span class="sd">    :return: The first dual mono mode capable device from a list of such devices</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_dual_mono_mode_capable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_ht_master_capable_dual_mono_mode_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_master_capable_dual_mono_mode_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_master_capable_dual_mono_mode_devices</span><span class="p">(</span>
        <span class="n">all_dual_mono_mode_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all dual mono mode capable ZPs</span>
<span class="sd">    :param all_dual_mono mode capable devices:</span>
<span class="sd">    :return: All random dual mono mode capable devices.</span>
<span class="sd">    :rtype: :list:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ht_master_capable_dual_mono_mode_devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">zp</span> <span class="k">for</span> <span class="n">zp</span> <span class="ow">in</span>
        <span class="n">all_dual_mono_mode_capable_devices</span> <span class="k">if</span> <span class="n">zp</span><span class="o">.</span><span class="n">is_ht_master_capable</span><span class="p">()]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ht_master_capable_dual_mono_mode_devices</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TestbedError</span><span class="p">(</span><span class="s2">&quot;No ht master dual mono mode capable ZPs found in &quot;</span>
                           <span class="s2">&quot;testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ht_master_capable_dual_mono_mode_devices</span></div>


<div class="viewcode-block" id="a_ht_master_capable_dual_mono_mode_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_ht_master_capable_dual_mono_mode_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_ht_master_capable_dual_mono_mode_device</span><span class="p">(</span>
        <span class="n">all_ht_master_capable_dual_mono_mode_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single mono mode capable ZP</span>
<span class="sd">    :param all_dual_mono mode capable devices:</span>
<span class="sd">    :return: A random dual mono mode capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_ht_master_capable_dual_mono_mode_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_ht_satellite_capable_dual_mono_mode_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_ht_satellite_capable_dual_mono_mode_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_ht_satellite_capable_dual_mono_mode_devices</span><span class="p">(</span>
        <span class="n">all_dual_mono_mode_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return all single dual mono mode capable ZP</span>
<span class="sd">    :param all_dual_mono mode capable devices:</span>
<span class="sd">    :return: A random mono mode capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">satellite_capable_dual_mono_mode_devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">zp</span> <span class="k">for</span> <span class="n">zp</span> <span class="ow">in</span>
        <span class="n">all_dual_mono_mode_capable_devices</span> <span class="k">if</span> <span class="n">zp</span><span class="o">.</span><span class="n">is_ht_satellite_capable</span><span class="p">()</span>
        <span class="ow">and</span> <span class="n">zp</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">HT_WIFI_DISABLED_IF_WIRED_SATELLITE_DEVICES</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">satellite_capable_dual_mono_mode_devices</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TestbedError</span><span class="p">(</span><span class="s2">&quot;No ht satellite dual mono mode capable ZPs found &quot;</span>
                           <span class="s2">&quot;in testbed!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">satellite_capable_dual_mono_mode_devices</span></div>


<div class="viewcode-block" id="a_ht_satellite_capable_dual_mono_mode_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_ht_satellite_capable_dual_mono_mode_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_ht_satellite_capable_dual_mono_mode_device</span><span class="p">(</span>
        <span class="n">all_ht_satellite_capable_dual_mono_mode_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single dual mono mode capable ZP</span>
<span class="sd">    :param all_ht_satellite_capable_dual_mono_mode_devices:</span>
<span class="sd">    :return: A random mono mode capable device.</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_ht_satellite_capable_dual_mono_mode_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_power_physical_serial_console_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_power_physical_serial_console_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_power_physical_serial_console_devices</span><span class="p">(</span>
        <span class="n">all_physical_serial_console_devices</span><span class="p">,</span>
        <span class="n">all_power_managed_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all devices which are managed via a programmable power switch and</span>
<span class="sd">    have a physical serial port managed connection, selected from</span>
<span class="sd">    :func:`all_physical_serial_console_devices` and</span>
<span class="sd">    :func:`all_power_managed_devices` to retrieve the matching devices.</span>

<span class="sd">    :return: All devices which are managed via a programmable power switch and</span>
<span class="sd">        have a physical serial port managed connection</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">all_physical_serial_console_devices</span><span class="p">)</span> <span class="o">&amp;</span>
                <span class="nb">set</span><span class="p">(</span><span class="n">all_power_managed_devices</span><span class="p">))</span></div>


<div class="viewcode-block" id="all_unique_power_physical_serial_console_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_power_physical_serial_console_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_power_physical_serial_console_devices</span><span class="p">(</span>
        <span class="n">all_unique_physical_serial_console_devices</span><span class="p">,</span>
        <span class="n">all_unique_power_managed_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns all unique devices which are managed via a programmable power switch</span>
<span class="sd">    and have a physical serial port managed connection, selected from</span>
<span class="sd">    :func:`all_unique_physical_serial_console_devices` and</span>
<span class="sd">    :func:`all_unique_power_managed_devices`</span>

<span class="sd">    :return: All unique devices which are managed via a programmable power</span>
<span class="sd">        switch and have a physical serial port managed connection</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">all_unique_physical_serial_console_devices</span><span class="p">)</span> <span class="o">&amp;</span>
                <span class="nb">set</span><span class="p">(</span><span class="n">all_unique_power_managed_devices</span><span class="p">))</span></div>


<div class="viewcode-block" id="all_unique_power_physical_serial_console_portable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_power_physical_serial_console_portable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_power_physical_serial_console_portable_devices</span><span class="p">(</span>
        <span class="n">all_unique_power_physical_serial_console_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a list of all portable devices that are managed via programmable</span>
<span class="sd">    power switch with no duplicate arhictectures, which have a physical serial</span>
<span class="sd">    port, selected from :func:`all_unique_power_physical_serial_console_devices`</span>

<span class="sd">    :return: All unique portable devices which are managed via a power outlet</span>
<span class="sd">        and have a physical serial port managed connection</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">portables</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_unique_power_physical_serial_console_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span><span class="p">:</span>
            <span class="n">portables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">portables</span></div>


<div class="viewcode-block" id="a_unique_power_physical_serial_console_portable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_power_physical_serial_console_portable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_power_physical_serial_console_portable_device</span><span class="p">(</span>
        <span class="n">all_unique_power_physical_serial_console_portable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a unique portable device which is managed via a programmable power</span>
<span class="sd">    switch and has a physical serial port managed connection, selected from</span>
<span class="sd">    :func:`all_unique_power_physical_serial_console_portable_devices`</span>

<span class="sd">    :return: A unique portable device which is managed via a power outlet</span>
<span class="sd">        and has a physical serial port managed connection</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_power_physical_serial_console_portable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="a_unique_power_physical_serial_console_portable_printkmon_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_power_physical_serial_console_portable_printkmon_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_power_physical_serial_console_portable_printkmon_device</span><span class="p">(</span>
        <span class="n">a_unique_power_physical_serial_console_portable_device</span><span class="p">,</span>
        <span class="n">testbed_config</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Yields a single unique portable device which has been set up with</span>

<span class="sd">    1. A physical serial port managed connection, and</span>
<span class="sd">    1. A programmable power connection, and</span>
<span class="sd">    1. printk monitor.</span>

<span class="sd">    Note that this is NOT using the serial console CLI</span>

<span class="sd">    :class:`~sonos.worflow.mixins.SerialPortSupportMixin`.</span>
<span class="sd">    The printk monitor is passive.</span>

<span class="sd">    The device is :func:`a_unique_power_physical_serial_console_portable_device`,</span>
<span class="sd">    and configured using :func:`~pytest_automation.conftest.testbed_config`</span>

<span class="sd">    :return: A tuple of a portable device with managed serial port connection</span>
<span class="sd">        and managed power connection and printk monitor</span>
<span class="sd">    :rtype: obj:`tuple` :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">        and :class:`common.PrintkMonitor`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">zp</span> <span class="o">=</span> <span class="n">a_unique_power_physical_serial_console_portable_device</span>
    <span class="n">serial_port_server</span><span class="p">,</span> <span class="n">serial_port</span> <span class="o">=</span> <span class="n">get_serial_port_server</span><span class="p">(</span><span class="n">testbed_config</span><span class="p">,</span> <span class="n">zp</span><span class="p">)</span>
    <span class="n">printk_mon</span> <span class="o">=</span> <span class="n">setup_printk_monitor</span><span class="p">(</span><span class="n">serial_port_server</span><span class="p">,</span> <span class="n">serial_port</span><span class="p">)</span>
    <span class="n">printk_mon</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">yield</span> <span class="n">zp</span><span class="p">,</span> <span class="n">printk_mon</span>
    <span class="n">printk_mon</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
    <span class="n">zp</span><span class="o">.</span><span class="n">power</span><span class="o">.</span><span class="n">on</span><span class="p">()</span></div>


<div class="viewcode-block" id="all_physical_serial_console_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_physical_serial_console_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_physical_serial_console_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">,</span> <span class="n">testbed_config</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of all devices which have a physical managed serial</span>
<span class="sd">    console connection, found by filtering :func:`all_devices` with</span>
<span class="sd">    the testbed information found in</span>
<span class="sd">    :func:`~pytest_automation.conftest.testbed_config`</span>

<span class="sd">    :return: A list of all devices which have a physical managed serial</span>
<span class="sd">        console connection</span>
<span class="sd">    :rtype: obj`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">physical_serial_console_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="n">serial_port_server</span><span class="p">,</span> <span class="n">serial_port</span> <span class="o">=</span> <span class="n">get_serial_port_server</span><span class="p">(</span><span class="n">testbed_config</span><span class="p">,</span>
                                                                 <span class="n">device</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">serial_port_server</span> <span class="ow">and</span> <span class="n">serial_port</span><span class="p">:</span>
            <span class="n">physical_serial_console_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">physical_serial_console_devices</span></div>


<div class="viewcode-block" id="all_unique_physical_serial_console_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_physical_serial_console_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_physical_serial_console_devices</span><span class="p">(</span><span class="n">all_unique_devices</span><span class="p">,</span> <span class="n">testbed_config</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of all unique devices which have a physical managed serial</span>
<span class="sd">    console connection, filtering devices from :func:`all_unique_devices` and</span>
<span class="sd">    determining serial port connections from</span>
<span class="sd">    :func:`~pytest_automation.conftest.testbed_config`</span>

<span class="sd">    :return: A list of all unique devices which have a physical managed serial</span>
<span class="sd">        console connection</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">unique_physical_serial_console_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_unique_devices</span><span class="p">:</span>
        <span class="n">serial_port_server</span><span class="p">,</span> <span class="n">serial_port</span> <span class="o">=</span> <span class="n">get_serial_port_server</span><span class="p">(</span><span class="n">testbed_config</span><span class="p">,</span>
                                                                 <span class="n">device</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">serial_port_server</span> <span class="ow">and</span> <span class="n">serial_port</span><span class="p">:</span>
            <span class="n">unique_physical_serial_console_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">unique_physical_serial_console_devices</span></div>


<div class="viewcode-block" id="all_power_managed_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_power_managed_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_power_managed_devices</span><span class="p">(</span><span class="n">all_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of all devices which are managed via a programmable power switch,</span>
<span class="sd">    filtered from :func:`all_devices`</span>

<span class="sd">    :return: A list of devices which are managed via a programmable power switch</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">power_managed_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">power</span><span class="p">:</span>
            <span class="n">power_managed_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">power_managed_devices</span></div>


<div class="viewcode-block" id="a_power_managed_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_power_managed_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_power_managed_device</span><span class="p">(</span><span class="n">all_power_managed_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a single device which is managed via a programmable power switch,</span>
<span class="sd">    pulled from :func:`all_power_managed_devices`</span>

<span class="sd">    :return: A single device which is managed via a programmable power switch</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_power_managed_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="all_unique_power_managed_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_power_managed_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_power_managed_devices</span><span class="p">(</span><span class="n">all_unique_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of unique devices which are managed</span>
<span class="sd">    via a programmable power switch, pulled from :func:`all_unique_devices`</span>

<span class="sd">    :return: A list of unique devices which are managed</span>
<span class="sd">        via a power outlet</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">unique_power_managed_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_unique_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">power</span><span class="p">:</span>
            <span class="n">unique_power_managed_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">unique_power_managed_devices</span></div>


<div class="viewcode-block" id="a_unique_power_managed_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_power_managed_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_power_managed_device</span><span class="p">(</span><span class="n">all_unique_power_managed_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a unique device which is managed via a programmable</span>
<span class="sd">    power switch, pulled from :func:`all_unique_power_managed_devices`</span>

<span class="sd">    :return: A single unique device which is managed via a programmable</span>
<span class="sd">        power switch</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_power_managed_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="unique_power_managed_portable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_power_managed_portable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_power_managed_portable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each unique portable device which is</span>
<span class="sd">    managed via a programmable power switch.</span>

<span class="sd">    :return: A unique, portable device which is managed via a programmable</span>
<span class="sd">    power switch</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_unique_power_managed_portable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_power_managed_portable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_power_managed_portable_devices</span><span class="p">(</span><span class="n">all_unique_power_managed_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of unique portable devices which are managed via a</span>
<span class="sd">    programmable power switch, pulled from :func:`all_unique_power_managed_devices`</span>

<span class="sd">    :return: A list of unique portable devices which are managed</span>
<span class="sd">        via programmable power switch</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">unique_power_managed_portable_devices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">all_unique_power_managed_devices</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">modelNumber</span> <span class="ow">in</span> <span class="n">PORTABLE_DEVICES</span><span class="p">:</span>
            <span class="n">unique_power_managed_portable_devices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">unique_power_managed_portable_devices</span></div>


<div class="viewcode-block" id="a_unique_power_managed_portable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_power_managed_portable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_power_managed_portable_device</span><span class="p">(</span>
        <span class="n">all_unique_power_managed_portable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a unique portable device which is managed via programmable</span>
<span class="sd">    power switch, pulled from :func:`all_unique_power_managed_portable_devices`</span>

<span class="sd">    :return: A single unique portable device which is managed via</span>
<span class="sd">        a programmable power switch</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">all_unique_power_managed_portable_devices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="unique_playback_non_ht_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.unique_playback_non_ht_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">unique_playback_non_ht_capable_device</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parametrized fixture which returns each unique playback, non HT Capable</span>
<span class="sd">    device.</span>

<span class="sd">    :return: A unique playback, non HT Capable device in this testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">param</span></div>


<div class="viewcode-block" id="all_unique_playback_non_ht_capable_devices"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.all_unique_playback_non_ht_capable_devices">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">all_unique_playback_non_ht_capable_devices</span><span class="p">(</span><span class="n">all_unique_platform_playback_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a list of all unique playback, non HT Capable devices.</span>

<span class="sd">    :return: All unique playback, non HT Capable devices in this testbed</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">playback_devices</span> <span class="o">=</span> <span class="n">all_unique_platform_playback_devices</span>
    <span class="n">playback_non_ht_capable_devices</span> <span class="o">=</span> <span class="p">[</span><span class="n">device</span> <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">playback_devices</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">device</span><span class="o">.</span><span class="n">is_ht_capable</span><span class="p">()]</span>
    <span class="k">return</span> <span class="n">playback_non_ht_capable_devices</span></div>


<div class="viewcode-block" id="a_unique_playback_non_ht_capable_device"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_unique_playback_non_ht_capable_device">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_unique_playback_non_ht_capable_device</span><span class="p">(</span><span class="n">all_unique_playback_non_ht_capable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a playback, non HT Capable device from this testbed.</span>

<span class="sd">    :return: A playback, non HT Capable device</span>
<span class="sd">    :rtype: :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_unique_playback_non_ht_capable_devices</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_portable_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_portable_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_portable_pair</span><span class="p">(</span><span class="n">all_portable_devices</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a random pair of portable devices</span>

<span class="sd">    :returns: a pair of portable devices</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_portable_devices</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">pytest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="s2">&quot;Test requires at least 2 portable devices, </span><span class="si">{}</span><span class="s2"> found&quot;</span>
                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_portable_devices</span><span class="p">)))</span>
    <span class="k">yield</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">all_portable_devices</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="a_portable_non_portable_pair"><a class="viewcode-back" href="../../pytest_automation.html#pytest_automation.pytest_sonos_device_selection.a_portable_non_portable_pair">[docs]</a><span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">a_portable_non_portable_pair</span><span class="p">(</span><span class="n">a_unique_portable_device</span><span class="p">,</span>
                                 <span class="n">a_non_portable_device</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a pair of devices, one portable and one not portable</span>

<span class="sd">    :returns: a pair of players, one portable and one non-portable</span>
<span class="sd">    :rtype: :obj:`list` of :class:`~sonos.client.internal.SonosZoneComponent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">yield</span> <span class="p">[</span><span class="n">a_unique_portable_device</span><span class="p">,</span> <span class="n">a_non_portable_device</span><span class="p">]</span></div>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">TestCase Documentation</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../audio.html">audio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cloud.html">cloud package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common.html">common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_reporting.html">data_reporting package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dataio.html">dataio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">examples package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hdmi.html">hdmi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ixchariot.html">ixchariot package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking.html">networking package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other.html">other package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../perf.html">perf package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pytest_automation.html">pytest_automation package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../secure_registration.html">secure_registration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../syssw.html">syssw package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upnp.html">upnp package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../voice.html">voice package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../webserver.html">webserver package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../webserver_v0.html">webserver_v0 package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Author.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>