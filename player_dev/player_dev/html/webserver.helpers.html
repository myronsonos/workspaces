
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>webserver.helpers package &#8212; TestCase Documentation  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="webserver_v0 package" href="webserver_v0.html" />
    <link rel="prev" title="webserver package" href="webserver.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="webserver-helpers-package">
<h1>webserver.helpers package<a class="headerlink" href="#webserver-helpers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-webserver.helpers.cloud_queue_control">
<span id="webserver-helpers-cloud-queue-control-module"></span><h2>webserver.helpers.cloud_queue_control module<a class="headerlink" href="#module-webserver.helpers.cloud_queue_control" title="Permalink to this headline">¶</a></h2>
<p>Helper functions for administering the node.js mock CloudQueue server.</p>
<p>A note on playbackPolicies and playmodes:
See this page for more information on which playmodes/playback policies are currently implemented
<a class="reference external" href="https://confluence.sonos.com/x/3jNvB">https://confluence.sonos.com/x/3jNvB</a></p>
<dl class="class">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl">
<em class="property">class </em><code class="descclassname">webserver.helpers.cloud_queue_control.</code><code class="descname">CloudQueueControl</code><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.add_custom_track_to_end">
<code class="descname">add_custom_track_to_end</code><span class="sig-paren">(</span><em>md=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.add_custom_track_to_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.add_custom_track_to_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a custom track to the end.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> (<em>dict</em>) – <p>Keyword arguments representing objects to include in
the track object, ex. mediaUrl=’<a class="reference external" href="http://1234">http://1234</a>’, contentType=’audio/mpegurl’,</p>
<blockquote>
<div>id={‘serviceId’=255, ‘accountId’=’sn_49’}</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.add_smapi_track_to_end">
<code class="descname">add_smapi_track_to_end</code><span class="sig-paren">(</span><em>track</em>, <em>smapi_ctl</em>, <em>accountId</em>, <em>serviceId='255'</em>, <em>policies=None</em>, <em>mediaUrl=None</em>, <em>trackId=True</em>, <em>metadata=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.add_smapi_track_to_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.add_smapi_track_to_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the flat metadata from a SMAPI track from the mock SMAPI server and
converts it to the expected nested format that the CQ server needs when adding a track.
:param str track: trackId of the SMAPI track, 1 based
:param smapi_ctl: smapi control object passed in from the test case
:param str serviceId: serviceId of the SMAPI server, 255 is the mock SMAPI server
:param dict policies: track level policies
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.add_track_to_end">
<code class="descname">add_track_to_end</code><span class="sig-paren">(</span><em>track_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.add_track_to_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.add_track_to_end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.arm_error_script">
<code class="descname">arm_error_script</code><span class="sig-paren">(</span><em>call</em>, <em>error</em>, <em>num_errors=1</em>, <em>retry_after_time=None</em>, <em>itemId=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.arm_error_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.arm_error_script" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>call</strong> – string, cloudQueue response to force the error on (itemWindow, getVersion)</li>
<li><strong>error</strong> – int, the HTTP error to force. 401, 404, 503</li>
<li><strong>num_errors</strong> – int, number of calls to cause failures on</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.clear_log">
<code class="descname">clear_log</code><span class="sig-paren">(</span><em>type='api'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.clear_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.clear_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.clear_media_log">
<code class="descname">clear_media_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.clear_media_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.clear_media_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the log of mediaUrl fetches on the cloud queue server.
This uses the CQ endpoint /logs/medialog/clear.</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.clear_queue">
<code class="descname">clear_queue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.clear_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.clear_queue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.copy_track_with_policies">
<code class="descname">copy_track_with_policies</code><span class="sig-paren">(</span><em>track_id</em>, <em>policies</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.copy_track_with_policies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.copy_track_with_policies" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a track to the CQ server using custom MD. This allows adding a track with any MD you wish but also
supports adding in track level policies for use in testing. This uses an existing track from the CQ playlist
as a base and allows you to add custom playback policies to that newly added track.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track_id</strong> – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">int:</th><td class="field-body">which track from the server to use as the base for the new track</td>
</tr>
</tbody>
</table>
</li>
<li><strong>policies</strong> – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">dict:</th><td class="field-body">which, if any playback policies should be set on the track</td>
</tr>
</tbody>
</table>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>example policies:
{‘canSkip’: ‘false’, ‘canSkipBack’: ‘false’}</p>
<p>Example output:
{
“policies”: {‘canSkip’: ‘false’, ‘canSkipBack’: ‘false’},
“track”:{</p>
<blockquote>
<div><dl class="docutils">
<dt>“album”: {</dt>
<dd>“name”:”Album Name”
},</dd>
<dt>“name”: “Track Name”,</dt>
<dd>“artist”: {
“name”: “Artist Name”
},</dd>
</dl>
<p>“imageUrl”: “<a class="reference external" href="http://acmemusicservice.com/path_to_image_url">http://acmemusicservice.com/path_to_image_url</a>”,
“durationMillis”: 319000,
“contentType”: “audio/mpeg”,
“mediaUrl”: “<a class="reference external" href="http://acmemusicservice.com/path_to_track_url">http://acmemusicservice.com/path_to_track_url</a>”
}</p>
</div></blockquote>
<p>}</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.delete_all_logs">
<code class="descname">delete_all_logs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.delete_all_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.delete_all_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes ALL cloudqueue logs and directories, ignoring errors
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.delete_playback_policy">
<code class="descname">delete_playback_policy</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.delete_playback_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.delete_playback_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the requested playback policy from the CloudQueue playlist. This method was part of the reason
for subclassing urllib2 since we need a DELETE message to process this request on the CQ server
:param policy: :str: - which playback policy to delete from the CQ server playlist</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.delete_reports_policy">
<code class="descname">delete_reports_policy</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.delete_reports_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.delete_reports_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the requested reports policy from the CloudQueue playlist. This method was part of the reason
for subclassing urllib2 since we need a DELETE message to process this request on the CQ server
:param policy: :str: - which reports policy to delete from the CQ server playlist</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.delete_track">
<code class="descname">delete_track</code><span class="sig-paren">(</span><em>track_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.delete_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.delete_track" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.dump_runtime_logs">
<code class="descname">dump_runtime_logs</code><span class="sig-paren">(</span><em>logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.dump_runtime_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.dump_runtime_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints all the current logs to file
:param logger:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.expire_tokens">
<code class="descname">expire_tokens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.expire_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.expire_tokens" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_container_metadata">
<code class="descname">get_container_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_container_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_container_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current container metadata on the CloudQueue playlist that is loaded.
:return metadata: :list: a list of the decoded JSON container metadata set on the CQ playlist</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_context">
<code class="descname">get_context</code><span class="sig-paren">(</span><em>queueVersion=''</em>, <em>contextVersion=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_current_auth_token">
<code class="descname">get_current_auth_token</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_current_auth_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_current_auth_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_device_id_in_header">
<code class="descname">get_device_id_in_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_device_id_in_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_device_id_in_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_itemwindow_endpoint">
<code class="descname">get_itemwindow_endpoint</code><span class="sig-paren">(</span><em>itemid='0'</em>, <em>window_width=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_itemwindow_endpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_itemwindow_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the contents of the itemWindow endpoint
:param itemid: param itemid: str, itemId of the desired track
:param window_width: param window_width: int, how wide the desired window should be
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_log">
<code class="descname">get_log</code><span class="sig-paren">(</span><em>type</em>, <em>clear=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_media_log">
<code class="descname">get_media_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_media_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_media_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the log of mediaUrl fetches from the cloud queue server.
This uses the CQ endpoint /logs/medialog.
:return: an array of log entries, where each log entry is a dict.
See test/javascript/cloudqueue_api/app/models/endpointlog.js for the format of each log entry.</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_playback_policies">
<code class="descname">get_playback_policies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_playback_policies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_playback_policies" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current set of playback policies set on the CloudQueue playlist that is loaded.
:return playback_policies: :list: a list of the decoded JSON playback policies set on the CQ playlist</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_raw_response">
<code class="descname">get_raw_response</code><span class="sig-paren">(</span><em>responses</em>, <em>type</em>, <em>position=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_raw_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_raw_response" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>responses</strong> – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">list:</th><td class="field-body">list of raw response strings, most likely from self.muse.raw_responses</td>
</tr>
</tbody>
</table>
</li>
<li><strong>type</strong> – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">str:</th><td class="field-body">String object to feed into the filter below. I like to use the event ‘type’</td>
</tr>
</tbody>
</table>
</li>
<li><strong>position</strong> – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">int:</th><td class="field-body">Return a specific response or if None, the whole list of filtered responses</td>
</tr>
</tbody>
</table>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_reports_policy">
<code class="descname">get_reports_policy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_reports_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_reports_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the reports policy on the CQ server using the /context/reports endpoint
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_skip_enforcement">
<code class="descname">get_skip_enforcement</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_skip_enforcement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_skip_enforcement" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the /context/skipenforcement information from the cloudqueue server. This includes the values for:
- lastReportId
- skips remaining
- ttl</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Return skipenforcement:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">dict:</th><td class="field-body">list of skipenforcement information from the server.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p>{‘lastReportId’: {}, ‘remaining’: {}, ‘ttl’: {}}</p>
<p>Note: skipEnforcement data is only returned from the server when the ‘canSkip’ playbackPolicy is set to
‘limited’.</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_track_duration_s">
<code class="descname">get_track_duration_s</code><span class="sig-paren">(</span><em>item_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_track_duration_s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_track_duration_s" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns the duration in milliseconds, as a string.
It returns a string because the usage metrics output is ed as a string.</p>
<p>&#64;throws a KeyError if the durationMillis key is missing</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_track_metadata">
<code class="descname">get_track_metadata</code><span class="sig-paren">(</span><em>item_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_track_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_track_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_version_endpoint">
<code class="descname">get_version_endpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_version_endpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_version_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.get_window_playhead">
<code class="descname">get_window_playhead</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.get_window_playhead"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.get_window_playhead" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the reports policy on the CQ server using the /context/reports endpoint
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.has_cloud_queue_logs">
<code class="descname">has_cloud_queue_logs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.has_cloud_queue_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.has_cloud_queue_logs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.playback_id_verifier">
<code class="descname">playback_id_verifier</code><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.playback_id_verifier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.reset_cloud_queue_server">
<code class="descname">reset_cloud_queue_server</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.reset_cloud_queue_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.reset_cloud_queue_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.reset_server">
<code class="descname">reset_server</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.reset_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.reset_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.revoke_auth_tokens">
<code class="descname">revoke_auth_tokens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.revoke_auth_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.revoke_auth_tokens" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_cloudqueue_option">
<code class="descname">set_cloudqueue_option</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_cloudqueue_option"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_cloudqueue_option" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets mock CQ server options while it is running
:param options:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_cloudqueue_poll_timers">
<code class="descname">set_cloudqueue_poll_timers</code><span class="sig-paren">(</span><em>zp</em>, <em>playing_timer=None</em>, <em>paused_timer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_cloudqueue_poll_timers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_cloudqueue_poll_timers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_container_metadata">
<code class="descname">set_container_metadata</code><span class="sig-paren">(</span><em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_container_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_container_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set/change the container metadata on the CloudQueue playlist. This will take an arbitrary input list of policies
and set them on the CloudQueue server (which does not validate policy inputs for expandability). The playback
policies setter will set one or more policies at a time but cannot be used to remove a policy that is already
set.
:param metadata: :dict: the requested metadata</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_context_response_delay">
<code class="descname">set_context_response_delay</code><span class="sig-paren">(</span><em>delay=5</em>, <em>num_errors=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_context_response_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_context_response_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Arm the contextDelay.js script on the cloud queue test server. This will cause the server to delay [num_error]
responses to the getContext() call by [delay] amount. The script defaults the delay to 5 on the server.
:param delay: int, the number of seconds to delay the getContext() responses
:param num_errors: int, the number of responses to delay</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_default_playback_id_verifier">
<code class="descname">set_default_playback_id_verifier</code><span class="sig-paren">(</span><em>gid_cb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_default_playback_id_verifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_default_playback_id_verifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the default verifier, takes a callback that returns the playbackId
and returns a function that returns a boolean based on whether the
playback ID matches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>gid_cb</strong> (<em>func</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">func</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_itemwindow_abort">
<code class="descname">set_itemwindow_abort</code><span class="sig-paren">(</span><em>num_errors=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_itemwindow_abort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_itemwindow_abort" title="Permalink to this definition">¶</a></dt>
<dd><p>Arm the itemWindowAbort.js script on the mock cq server. This will cause the itemWindow request to close prematurely.
:param num_errors:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_itemwindow_response_delay">
<code class="descname">set_itemwindow_response_delay</code><span class="sig-paren">(</span><em>delay=5</em>, <em>num_errors=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_itemwindow_response_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_itemwindow_response_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Arm the itemWindowDelay.js script on the cloud queue test server. This will cause the server to delay [num_error]
responses to the getItemWindow() call by [delay] amount. The script defaults the delay to 5 on the server.
:param delay: int, the number of seconds to delay the getItemWindow() responses
:param num_errors: int, the number of responses to delay</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_playback_policy">
<code class="descname">set_playback_policy</code><span class="sig-paren">(</span><em>playback_policies=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_playback_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_playback_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Set/change the playback policies on the CloudQueue playlist. This will take an arbitrary input list of policies
and set them on the CloudQueue server (which does not validate policy inputs for expandability). The playback
policies setter will set one or more policies at a time but cannot be used to remove a policy that is already
set. See ‘delete_playback_policy’ in order to remove a policy from the playlist.
:param playback_policies: :dict: the requested playlist playback policies in kv format</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_reports_policy">
<code class="descname">set_reports_policy</code><span class="sig-paren">(</span><em>policy=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_reports_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_reports_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the reports policy on the CQ server using the /context/reports endpoint
:param policy: :dict: dictionary report policies
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_skip_enforcement">
<code class="descname">set_skip_enforcement</code><span class="sig-paren">(</span><em>remaining=0</em>, <em>maxSkips=6</em>, <em>restoreAfterSec=120</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_skip_enforcement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_skip_enforcement" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the remaining number of skips on the CloudQueue server.
:param remaining: :int: the number of skips the server allows, decremented each skip report from the player
:param maxSkips: :int: the maximum number of skips allowed by this container
:param restoreAfterSec: :int: time after which the cloudqueue server will restore ‘maxSkips’</p>
<blockquote>
<div>skips back to the user</div></blockquote>
<p>Note: limitedSkipsState object is only returned on itemWindow responses from the server when ‘limitedSkips’
playbackPolicy is set to ‘true’.</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_timePlayed_response_delay">
<code class="descname">set_timePlayed_response_delay</code><span class="sig-paren">(</span><em>delay=5</em>, <em>num_errors=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_timePlayed_response_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_timePlayed_response_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Arm the timePlayedDelay.js script on the cloud queue test server. This will cause the server to delay [num_error]
responses to the timePlayed() call by [delay] amount. The script defaults the delay to 5 on the server.
:param delay: int, the number of seconds to delay the timePlayed() responses
:param num_errors: int, the number of responses to delay</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_track_policy">
<code class="descname">set_track_policy</code><span class="sig-paren">(</span><em>track_id</em>, <em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_track_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_track_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_version_response_delay">
<code class="descname">set_version_response_delay</code><span class="sig-paren">(</span><em>delay</em>, <em>num_errors=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_version_response_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_version_response_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Arm the versionDelay.js script on the cloud queue test server. This will cause the server to delay [num_error]
responses to the getItemWindow() call by [delay] amount. The script defaults the delay to 5 on the server.
:param delay: int, the number of seconds to delay the getVersion() responses
:param num_errors: int, the number of responses to delay</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_window_limits">
<code class="descname">set_window_limits</code><span class="sig-paren">(</span><em>limits</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_window_limits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_window_limits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.set_window_playhead">
<code class="descname">set_window_playhead</code><span class="sig-paren">(</span><em>position=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.set_window_playhead"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.set_window_playhead" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the reports policy on the CQ server using the /context/reports endpoint
:param policy: :dict: dictionary report policies
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.start_cloud_queue_server">
<code class="descname">start_cloud_queue_server</code><span class="sig-paren">(</span><em>library_path=''</em>, <em>authToken=''</em>, <em>authTokenLength=''</em>, <em>authTokenExpiration=''</em>, <em>apiKey=''</em>, <em>partnerApiKey=''</em>, <em>delay=''</em>, <em>mediaDelay=''</em>, <em>randomizeMediaDelay=False</em>, <em>upcomingLimit=''</em>, <em>saltTrackURIs=False</em>, <em>slowStream=False</em>, <em>cq_port=None</em>, <em>endpoint_version=2.2</em>, <em>scaMode=False</em>, <em>containersPath=''</em>, <em>proto=None</em>, <em>mediaUnsecured=False</em>, <em>gzip=False</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.start_cloud_queue_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.start_cloud_queue_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the javascript mock cloudqueue server that lives in /test/javascript/cloudqueue-api.
Default output and error paths pipe to /dev/null but can be overridden by passing in those
params through your test.
:param delay: Delay in seconds to prevent server from responding. Default: 0 seconds
:param mediadelay: Delay in seconds to prevent media server from responding. Default: 0 seconds
:param cq_port: optional to add a designated port, still checks that the specified port is currently unused
:return: object; a running cloudqueue</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.start_cloudqueue_server">
<code class="descname">start_cloudqueue_server</code><span class="sig-paren">(</span><em>stdout=None</em>, <em>stderr=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.start_cloudqueue_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.start_cloudqueue_server" title="Permalink to this definition">¶</a></dt>
<dd><p>this function is deprecated; use start_cloud_queue_server</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.stop_cloud_queue_server">
<code class="descname">stop_cloud_queue_server</code><span class="sig-paren">(</span><em>cq_server</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.stop_cloud_queue_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.stop_cloud_queue_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Kills the mock CQ server
:param cq_server:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.stop_cloudqueue_server">
<code class="descname">stop_cloudqueue_server</code><span class="sig-paren">(</span><em>cq_server</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.stop_cloudqueue_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.stop_cloudqueue_server" title="Permalink to this definition">¶</a></dt>
<dd><p>this function is deprecated; use stop_cloud_queue_server</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.update_cloudqueue_version">
<code class="descname">update_cloudqueue_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.update_cloudqueue_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.update_cloudqueue_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the CQ version while the server is running. Causes the CQ to
generate a new random version string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return str:</th><td class="field-body">New version</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.update_context_version">
<code class="descname">update_context_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.update_context_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.update_context_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the context version while the server is running. Causes the CQ to
generate a new random version string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return str:</th><td class="field-body">New version</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.verify_playback_id">
<code class="descname">verify_playback_id</code><span class="sig-paren">(</span><em>playback_id</em>, <em>log_entry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.verify_playback_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.verify_playback_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify a playback ID for a given log entry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>playback_id</strong> (<em>str</em>) – Expected playback ID</li>
<li><strong>log_entry</strong> (<em>str</em>) – Log entry to check</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_control.CloudQueueControl.wait_for_filtered_log">
<code class="descname">wait_for_filtered_log</code><span class="sig-paren">(</span><em>type='api'</em>, <em>flush=False</em>, <em>clear=False</em>, <em>fn=&lt;function &lt;lambda&gt;&gt;</em>, <em>timeout=15</em>, <em>expected=1</em>, <em>history=False</em>, <em>zp=None</em>, <em>iteration_delay=1</em>, <em>playback_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_control.html#CloudQueueControl.wait_for_filtered_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_control.CloudQueueControl.wait_for_filtered_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns entries from the CQ server’s API or Media logs based on a variety of inputs
:param type: Use either the server’s ‘api’ or ‘media’ log
:param flush: Force a flush of the server’s usageMetrics buffer
:param clear: clears the server’s logs before the parsing begins
:param fn: filter function that pulls out entries from the server log
:param timeout: how long the parser should run for
:param expected: how many entries the filter should return from the server log
:param history: return either just the filtered items or the entire server log up to the point of the filter match
:param zp: ZP if you’re using the flush option
:param iteration_delay: how long to delay between each filter attempt
:param playback_id: Optional playback ID to filter on instead of using the verifier
:return:</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-webserver.helpers.cloud_queue_helpers">
<span id="webserver-helpers-cloud-queue-helpers-module"></span><h2>webserver.helpers.cloud_queue_helpers module<a class="headerlink" href="#module-webserver.helpers.cloud_queue_helpers" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers">
<em class="property">class </em><code class="descclassname">webserver.helpers.cloud_queue_helpers.</code><code class="descname">cq_helpers</code><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.append_log_result">
<code class="descname">append_log_result</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.append_log_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.append_log_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.check_queueversion">
<code class="descname">check_queueversion</code><span class="sig-paren">(</span><em>queueversion</em>, <em>item</em>, <em>test_fixture=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.check_queueversion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.check_queueversion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.collect_itemwindow_retries">
<code class="descname">collect_itemwindow_retries</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.collect_itemwindow_retries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.collect_itemwindow_retries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.compare_retry_timestamp">
<code class="descname">compare_retry_timestamp</code><span class="sig-paren">(</span><em>test_fixture=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.compare_retry_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.compare_retry_timestamp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.create_track_metadata">
<code class="descname">create_track_metadata</code><span class="sig-paren">(</span><em>name=''</em>, <em>artist={}</em>, <em>album={}</em>, <em>image=''</em>, <em>duration=''</em>, <em>cq_url=''</em>, <em>item='0'</em>, <em>content=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.create_track_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.create_track_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.detect_itemwindow_buffer">
<code class="descname">detect_itemwindow_buffer</code><span class="sig-paren">(</span><em>msg</em>, <em>min_buffer</em>, <em>max_buffer</em>, <em>test_fixture</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.detect_itemwindow_buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.detect_itemwindow_buffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.fake_metadata">
<code class="descname">fake_metadata</code><span class="sig-paren">(</span><em>cq_url=''</em>, <em>item='0'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.fake_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.fake_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.generate_random_queueversion_string">
<code class="descname">generate_random_queueversion_string</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.generate_random_queueversion_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.generate_random_queueversion_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.get_queueversion">
<code class="descname">get_queueversion</code><span class="sig-paren">(</span><em>test_fixture=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.get_queueversion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.get_queueversion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.getversion_udp_logger">
<code class="descname">getversion_udp_logger</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.getversion_udp_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.getversion_udp_logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.itemwindow_udp_logger">
<code class="descname">itemwindow_udp_logger</code><span class="sig-paren">(</span><em>zp</em>, <em>min_buffer=7000</em>, <em>max_buffer=600000</em>, <em>test_fixture=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.itemwindow_udp_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.itemwindow_udp_logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.results">
<code class="descname">results</code><em class="property"> = []</em><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.cloud_queue_helpers.cq_helpers.start_udp_logger">
<code class="descname">start_udp_logger</code><span class="sig-paren">(</span><em>zp</em>, <em>query</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/cloud_queue_helpers.html#cq_helpers.start_udp_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.cloud_queue_helpers.cq_helpers.start_udp_logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-webserver.helpers.mock_player_cloud_services_control">
<span id="webserver-helpers-mock-player-cloud-services-control-module"></span><h2>webserver.helpers.mock_player_cloud_services_control module<a class="headerlink" href="#module-webserver.helpers.mock_player_cloud_services_control" title="Permalink to this headline">¶</a></h2>
<p>Created on Jun 5, 2016</p>
<p>&#64;author: alec</p>
<dl class="class">
<dt id="webserver.helpers.mock_player_cloud_services_control.FeatureConfig">
<em class="property">class </em><code class="descclassname">webserver.helpers.mock_player_cloud_services_control.</code><code class="descname">FeatureConfig</code><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#FeatureConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.FeatureConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper methods for feature config.</p>
<dl class="staticmethod">
<dt id="webserver.helpers.mock_player_cloud_services_control.FeatureConfig.get_enable_music_account_replication">
<em class="property">static </em><code class="descname">get_enable_music_account_replication</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#FeatureConfig.get_enable_music_account_replication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.FeatureConfig.get_enable_music_account_replication" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the enable music account replication setting via rest commands.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Return bool:</th><td class="field-body">enable_music_account_replication</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="webserver.helpers.mock_player_cloud_services_control.FeatureConfig.verify_feature_config">
<em class="property">static </em><code class="descname">verify_feature_config</code><span class="sig-paren">(</span><em>fixture</em>, <em>zp</em>, <em>**config_settings</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#FeatureConfig.verify_feature_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.FeatureConfig.verify_feature_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player has a feature config file and it is the expected auth type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fixture</strong> – test fixture</li>
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – ZP</li>
<li><strong>config_settings</strong> (<em>dict</em>) – Expected configuration values</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="webserver.helpers.mock_player_cloud_services_control.FeatureConfig.verify_feature_config_no_fixture">
<em class="property">static </em><code class="descname">verify_feature_config_no_fixture</code><span class="sig-paren">(</span><em>zp</em>, <em>**config_settings</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#FeatureConfig.verify_feature_config_no_fixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.FeatureConfig.verify_feature_config_no_fixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the player has a feature config file and it is the expected type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – ZP</li>
<li><strong>config_settings</strong> (<em>dict</em>) – Expected configuration values</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="webserver.helpers.mock_player_cloud_services_control.MPCSCException">
<em class="property">exception </em><code class="descclassname">webserver.helpers.mock_player_cloud_services_control.</code><code class="descname">MPCSCException</code><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MPCSCException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MPCSCException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl">
<em class="property">class </em><code class="descclassname">webserver.helpers.mock_player_cloud_services_control.</code><code class="descname">MockPlayerCloudServicesControl</code><span class="sig-paren">(</span><em>stdout=None</em>, <em>stderr=None</em>, <em>script='mockPlayerServices.js'</em>, <em>gateway=None</em>, <em>regto=10</em>, <em>verbose=True</em>, <em>protocols=None</em>, <em>pfx=None</em>, <em>pfx_passphrase=None</em>, <em>crl=None</em>, <em>http_port=None</em>, <em>ssl_port=None</em>, <em>mutual_ssl_port=None</em>, <em>ocsp_code=None</em>, <em>api_key='e0babc90-6e2d-4a72-9b50-3fbda4a2ecbb'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Module for controlling the mock player cloud services.</p>
<dl class="attribute">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.SERVICE_OVERRIDE_URL">
<code class="descname">SERVICE_OVERRIDE_URL</code><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.SERVICE_OVERRIDE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.SERVICE_OVERRIDE_URL_MUTUAL_SSL">
<code class="descname">SERVICE_OVERRIDE_URL_MUTUAL_SSL</code><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.SERVICE_OVERRIDE_URL_MUTUAL_SSL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.add_sonos_api_key_to_cache">
<code class="descname">add_sonos_api_key_to_cache</code><span class="sig-paren">(</span><em>api_key='e0babc90-6e2d-4a72-9b50-3fbda4a2ecbb'</em>, <em>key_name='prod'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.add_sonos_api_key_to_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.add_sonos_api_key_to_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Cache an api key inside the mock lechemere instance
:param api_key: Api key used by player which will be cached in mock lechemere for its duration
:param key_name: Name used to identify key
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.check_alive">
<code class="descname">check_alive</code><span class="sig-paren">(</span><em>zp</em>, <em>musehhid=None</em>, <em>hhlocationid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.check_alive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.check_alive" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the last checkAlive response that the player sent the mock.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> – </li>
<li><strong>musehhid</strong> (<em>str</em>) – Value to send for museHouseholdId</li>
<li><strong>hhlocationid</strong> (<em>str</em>) – Value to send for householdLocationId</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.clear_last_check_alive">
<code class="descname">clear_last_check_alive</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.clear_last_check_alive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.clear_last_check_alive" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the last checkAlive response that the player sent the mock.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.clear_log">
<code class="descname">clear_log</code><span class="sig-paren">(</span><em>type='api'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.clear_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.clear_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.clear_player_connect_overrides">
<code class="descname">clear_player_connect_overrides</code><span class="sig-paren">(</span><em>zp</em>, <em>report=True</em>, <em>bounce=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.clear_player_connect_overrides"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.clear_player_connect_overrides" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the overrides that point the player to the mock websockets server
by removing them and bouncing anacapa if specified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – ZP to set overrides on.</li>
<li><strong>report</strong> (<em>bool</em>) – Disable UMTracking?</li>
<li><strong>bounce</strong> (<em>bool</em>) – Bounce anacapa after setting overrides?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return bool:</th><td class="field-body"><p class="first last">String overrides set and anacapa bounced?</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.configure_account_service">
<code class="descname">configure_account_service</code><span class="sig-paren">(</span><em>push_response_code=None</em>, <em>pull_response_code=None</em>, <em>enable_pull_notifications=None</em>, <em>target_player_serial=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.configure_account_service"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.configure_account_service" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.configure_metrics_service">
<code class="descname">configure_metrics_service</code><span class="sig-paren">(</span><em>response_code=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.configure_metrics_service"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.configure_metrics_service" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.configure_recycle_service">
<code class="descname">configure_recycle_service</code><span class="sig-paren">(</span><em>response_code=None</em>, <em>request_wait_time=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.configure_recycle_service"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.configure_recycle_service" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure mock recycle service behavior
:param response_code for recycle requests
:param request_wait_time for delaying mock responses
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.create_user_token">
<code class="descname">create_user_token</code><span class="sig-paren">(</span><em>user</em>, <em>scopes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.create_user_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.create_user_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the mock server to generate a user token with given scopes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user</strong> (<em>str</em>) – UserID for token.</li>
<li><strong>scopes</strong> (<em>str</em>) – Scopes for token.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.delete_service_accounts">
<code class="descname">delete_service_accounts</code><span class="sig-paren">(</span><em>muse_household_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.delete_service_accounts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.delete_service_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete service accounts that have been pushed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – SonosZoneComponent to check</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.disconnect_all">
<code class="descname">disconnect_all</code><span class="sig-paren">(</span><em>delay=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.disconnect_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.disconnect_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Close all registered client connections.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delay</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Optional delay in seconds to send to mock player cloud services to force player to wait
before reconnecting.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Json object of response on success, otherwise None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.disconnect_zp">
<code class="descname">disconnect_zp</code><span class="sig-paren">(</span><em>zp</em>, <em>delay=None</em>, <em>code=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.disconnect_zp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.disconnect_zp" title="Permalink to this definition">¶</a></dt>
<dd><p>Close a registered ZP client connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – SonosZoneComponent to check</li>
<li><strong>delay</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>) – Optional delay in seconds to send to mock player cloud services to force player to wait
before reconnecting.</li>
<li><strong>code</strong> – Websocket close code</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Json object of response on success, otherwise None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.flush_api_key_cache">
<code class="descname">flush_api_key_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.flush_api_key_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.flush_api_key_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush keys from mock lechmere.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_all_registrations">
<code class="descname">get_all_registrations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_all_registrations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_all_registrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all registered clients.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Json object of response on success, otherwise None</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_deactivation_state">
<code class="descname">get_deactivation_state</code><span class="sig-paren">(</span><em>playerid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_deactivation_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_deactivation_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the deactivation state
:param playerid for recycle requests
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_deactivation_state_for_all_players">
<code class="descname">get_deactivation_state_for_all_players</code><span class="sig-paren">(</span><em>userid=None</em>, <em>musehhid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_deactivation_state_for_all_players"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_deactivation_state_for_all_players" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the deactivation state for all players for a user in a household
:param userid for recycle requests
:param musehhid for recycle requests
:return:</p>
</dd></dl>

<dl class="staticmethod">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_expected_feature_config_path">
<em class="property">static </em><code class="descname">get_expected_feature_config_path</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_expected_feature_config_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_expected_feature_config_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the expected feature config path for a given ZP.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – ZP to set overrides on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Feature config path</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_last_check_alive">
<code class="descname">get_last_check_alive</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_last_check_alive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_last_check_alive" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the last checkAlive response that the player sent the mock.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_log">
<code class="descname">get_log</code><span class="sig-paren">(</span><em>type='api'</em>, <em>clear=False</em>, <em>request_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the logs from the server endpoint</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type</strong> (<em>str</em>) – which logging endpoint to query</li>
<li><strong>clear</strong> (<em>bool</em>) – should we clear the logs before attempting to get them again</li>
<li><strong>request_only</strong> (<em>bool</em>) – the ‘request’ endpoint captures both request and response logs. Should we only</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>return the requests from the player</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Json object of response on success, otherwise empty list</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">obj:</th><td class="field-body">’dict’ or ‘[]’</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_service_accounts">
<code class="descname">get_service_accounts</code><span class="sig-paren">(</span><em>muse_household_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_service_accounts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_service_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the service accounts that have been pushed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – SonosZoneComponent to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Accounts object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">json</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_sonos_api_key_from_cache">
<code class="descname">get_sonos_api_key_from_cache</code><span class="sig-paren">(</span><em>api_key='e0babc90-6e2d-4a72-9b50-3fbda4a2ecbb'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_sonos_api_key_from_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_sonos_api_key_from_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Get full key object from mock lechmere. Returns 404 if not found.
:param api_key: Api key used by player which should be cached in mock lechemere
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_zp_connected_protocol">
<code class="descname">get_zp_connected_protocol</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_zp_connected_protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_zp_connected_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the protocol that the ZP is connected with</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – SonosZoneComponent to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Protocol in string format or None if player not connected</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_zp_registered">
<code class="descname">get_zp_registered</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.get_zp_registered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.get_zp_registered" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the registration message that the ZP connected with (if connected).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – SonosZoneComponent to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Json array containing Json object [{…}] on success, otherwise empty Json array</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.is_mac_registered">
<code class="descname">is_mac_registered</code><span class="sig-paren">(</span><em>mac</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.is_mac_registered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.is_mac_registered" title="Permalink to this definition">¶</a></dt>
<dd><p>Close a registered mac client connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mac</strong> (<em>str</em>) – Mac address to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Json object of response on success, otherwise None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.offset_token_time_since_created">
<code class="descname">offset_token_time_since_created</code><span class="sig-paren">(</span><em>token</em>, <em>offset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.offset_token_time_since_created"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.offset_token_time_since_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify creation time of a token to +&lt;offset&gt; seconds in the past</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>token</strong> (<em>str</em>) – Token to modify</li>
<li><strong>offset</strong> (<em>int</em>) – Number of seconds to send into the past</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.push_music_accounts">
<code class="descname">push_music_accounts</code><span class="sig-paren">(</span><em>musehhid=None</em>, <em>accounts=None</em>, <em>fullSync=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.push_music_accounts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.push_music_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Send PUT request to update accounts.xml in the cloud.
:param musehhid
:param accounts
:param fullSync
:return:</p>
</dd></dl>

<dl class="staticmethod">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.remove_mutual_ssl_overrides">
<em class="property">static </em><code class="descname">remove_mutual_ssl_overrides</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.remove_mutual_ssl_overrides"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.remove_mutual_ssl_overrides" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.reset_deactivaton_state_for_player">
<code class="descname">reset_deactivaton_state_for_player</code><span class="sig-paren">(</span><em>playerid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.reset_deactivaton_state_for_player"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.reset_deactivaton_state_for_player" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the deactivation state for a player
NOTE: An API for QA - only in lower envs to allow resetting the deactivated state for a player to allow</p>
<blockquote>
<div>repeatedly testing deactivation with the same player.</div></blockquote>
<p>:param playerid for recycle requests
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.reset_upgrade_response">
<code class="descname">reset_upgrade_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.reset_upgrade_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.reset_upgrade_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset Lechmere websocket upgrade response code</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.send_lechmere_command">
<code class="descname">send_lechmere_command</code><span class="sig-paren">(</span><em>cmd</em>, <em>serial</em>, <em>content_type='application/json'</em>, <em>request_type='POST'</em>, <em>command_type='muse'</em>, <em>fragmented='false'</em>, <em>response_json=False</em>, <em>request_json=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.send_lechmere_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.send_lechmere_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a command to the mock player cloud services that will be passed to the desired player
with specified serial number
:param cmd:
:param serial:
:param content_type:
:param request_type:
:param command_type:
:param fragmented:
:param response_json:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_auth_properties">
<code class="descname">set_auth_properties</code><span class="sig-paren">(</span><em>ttl=None</em>, <em>response_code=None</em>, <em>refresh_token_delay=None</em>, <em>token_delay=None</em>, <em>retry_after=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_auth_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_auth_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set any combination of supported auth properties.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ttl</strong> (<em>int</em>) – Token ttl in seconds</li>
<li><strong>response_code</strong> (<em>int</em>) – HTTP response code for token request</li>
<li><strong>refresh_token_delay</strong> (<em>int</em>) – Delay for server to send refresh token in ms</li>
<li><strong>token_delay</strong> (<em>int</em>) – Delay for server to send oauth token in ms</li>
<li><strong>retry_after</strong> (<em>int</em>) – Value to send for Retry-After header in seconds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Json object of response on success, otherwise None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_config">
<code class="descname">set_config</code><span class="sig-paren">(</span><em>zp</em>, <em>musehhid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a set config with a given muse household Id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> – </li>
<li><strong>musehhid</strong> (<em>str</em>) – Muse household ID to send</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_config_properties">
<code class="descname">set_config_properties</code><span class="sig-paren">(</span><em>config_settings</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_config_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_config_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the feature config to return a specified authtype.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config_settings</strong> (<em>kwargs</em>) – Configuration settings</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_deactivation_state">
<code class="descname">set_deactivation_state</code><span class="sig-paren">(</span><em>action=None</em>, <em>deactivationTTLSeconds=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_deactivation_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_deactivation_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the deactivation state
:param action for recycle requests
:param deactivationTTLSeconds for recycle requests
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_player_connect_override_mutual_ssl">
<code class="descname">set_player_connect_override_mutual_ssl</code><span class="sig-paren">(</span><em>zp</em>, <em>execution_config=None</em>, <em>report=True</em>, <em>generate_cert=False</em>, <em>bounce_anacapa=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_player_connect_override_mutual_ssl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_player_connect_override_mutual_ssl" title="Permalink to this definition">¶</a></dt>
<dd><p>Point a ZonePlayer at the mock websockets server by setting the
appropriate override.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – ZP to set overrides on.</li>
<li><strong>execution_config</strong> – execution_configuration from the fixture</li>
<li><strong>report</strong> (<em>bool</em>) – Enable UMTracking?</li>
<li><strong>bounce</strong> (<em>bool</em>) – Bounce anacapa after setting overrides?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return bool:</th><td class="field-body"><p class="first last">String overrides set and anacapa bounced?</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_refresh_token_delay">
<code class="descname">set_refresh_token_delay</code><span class="sig-paren">(</span><em>delay</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_refresh_token_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_refresh_token_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the number of seconds the server will wait before returning
a refresh token.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delay_ms</strong> (<em>int</em>) – Delay in milliseconds.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Json object of response on success, otherwise None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_send_ack">
<code class="descname">set_send_ack</code><span class="sig-paren">(</span><em>send_ack</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_send_ack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_send_ack" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle lechmere connection ack</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>send_ack</strong> (<em>bool</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_send_registration_response">
<code class="descname">set_send_registration_response</code><span class="sig-paren">(</span><em>send_reg_response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_send_registration_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_send_registration_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle sending registration responses with museHouseholdId
on/off.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>send_reg_response</strong> (<em>bool</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_sync_muse_hhids">
<code class="descname">set_sync_muse_hhids</code><span class="sig-paren">(</span><em>sync_muse_hhids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_sync_muse_hhids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_sync_muse_hhids" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle updating museHouseholdIds based on uptime of other connected
players.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sync_muse_hhids</strong> (<em>bool</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_token_TTL">
<code class="descname">set_token_TTL</code><span class="sig-paren">(</span><em>ttl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_token_TTL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_token_TTL" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the token TTL for the mock auth services.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ttl</strong> (<em>int</em>) – TTL in seconds</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Json object of response on success, otherwise None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_token_delay">
<code class="descname">set_token_delay</code><span class="sig-paren">(</span><em>delay</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_token_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_token_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the number of seconds the server will wait before returning
an oauth token.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delay</strong> (<em>int</em>) – Delay in seconds</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Json object of response on success, otherwise None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_token_request_response_code">
<code class="descname">set_token_request_response_code</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_token_request_response_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_token_request_response_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the token response code for the mock auth services.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>int</em>) – HTTP response code</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Json object of response on success, otherwise None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_upgrade_response">
<code class="descname">set_upgrade_response</code><span class="sig-paren">(</span><em>upgrade_response_code</em>, <em>retry_after_seconds=None</em>, <em>redirect_location=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.set_upgrade_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.set_upgrade_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Set Lechmere websocket upgrade response code</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>upgrade_response_code</strong> (<em>int</em>) – response code for upgrade request</li>
<li><strong>retry_after_seconds</strong> (<em>int</em>) – retry-after seconds for 503 responses</li>
<li><strong>redirect_location</strong> (<em>str</em>) – location for redirect responses (e.g., 303)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.shutdown">
<code class="descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.shutdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.shutdown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.sync_music_accounts">
<code class="descname">sync_music_accounts</code><span class="sig-paren">(</span><em>musehhid=None</em>, <em>operation=None</em>, <em>fullSync=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.sync_music_accounts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.sync_music_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Sync music accounts between the cloud and the player.
:param musehhid
:param operation
:param fullSync
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.wait_for_filtered_log">
<code class="descname">wait_for_filtered_log</code><span class="sig-paren">(</span><em>type='api'</em>, <em>clear=False</em>, <em>fn=&lt;function &lt;lambda&gt;&gt;</em>, <em>timeout=15</em>, <em>expected=1</em>, <em>history=False</em>, <em>iteration_delay=1</em>, <em>request_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#MockPlayerCloudServicesControl.wait_for_filtered_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.MockPlayerCloudServicesControl.wait_for_filtered_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns entries from the mock player cloud services server logs based on a variety of inputs
:param type: Which log endpoint to use on the server
:param clear: clears the server’s logs before the parsing begins
:param fn: filter function that pulls out entries from the server log
:param timeout: how long the parser should run for
:param expected: how many entries the filter should return from the server log
:param history: return either just the filtered items or the entire server log up to the point of the filter</p>
<blockquote>
<div>match</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>iteration_delay</strong> – how long to delay between each filter attempt</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return full_logs or final_logs:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">list of the parsed logs depending on whether the full history was requested</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="webserver.helpers.mock_player_cloud_services_control.get_open_ports">
<code class="descclassname">webserver.helpers.mock_player_cloud_services_control.</code><code class="descname">get_open_ports</code><span class="sig-paren">(</span><em>num</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/mock_player_cloud_services_control.html#get_open_ports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.mock_player_cloud_services_control.get_open_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method to get a number of open ports. Note that there is no
guarantee the ports will still be open by the time the function returns.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>num</strong> (<em>int</em>) – Number of open ports to get</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-webserver.helpers.muse_api_helpers">
<span id="webserver-helpers-muse-api-helpers-module"></span><h2>webserver.helpers.muse_api_helpers module<a class="headerlink" href="#module-webserver.helpers.muse_api_helpers" title="Permalink to this headline">¶</a></h2>
<p>Helper functions for Muse response expectations. Use this to more easily
dip into the message queue and grab the responses to Muse commands/errors.</p>
<dl class="class">
<dt id="webserver.helpers.muse_api_helpers.HardwareStatusHelper">
<em class="property">class </em><code class="descclassname">webserver.helpers.muse_api_helpers.</code><code class="descname">HardwareStatusHelper</code><span class="sig-paren">(</span><em>zp</em>, <em>logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#HardwareStatusHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.HardwareStatusHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper methods to get player hardware via REST</p>
<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.HardwareStatusHelper.get_hardware_status_battery">
<code class="descname">get_hardware_status_battery</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#HardwareStatusHelper.get_hardware_status_battery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.HardwareStatusHelper.get_hardware_status_battery" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST command to get battery status from player
Can return HTTP_NOT_CAPABLE
example: {u’errorCode’: u’ERROR_NOT_CAPABLE’,</p>
<blockquote>
<div><blockquote>
<div>u’reason’: u’Battery status not supported on this device.’}</div></blockquote>
<dl class="docutils">
<dt>or {u’batteryPercentage’: 100.0,</dt>
<dd>u’batteryTemperature’: 100.0,
u’chargingState’: u’NOT_CHARGING’}</dd>
</dl>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dictionary containing battery state</td>
</tr>
</tbody>
</table>
<p>:rtype:<code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.HardwareStatusHelper.get_hardware_status_bluetooth">
<code class="descname">get_hardware_status_bluetooth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#HardwareStatusHelper.get_hardware_status_bluetooth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.HardwareStatusHelper.get_hardware_status_bluetooth" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST command to get bluetooth strength from player
Can return HTTP_NOT_CAPABLE
example: {u’errorCode’: u’ERROR_NOT_CAPABLE’,</p>
<blockquote>
<div><blockquote>
<div>u’reason’: u’Bluetooth status not supported on this device.’}</div></blockquote>
<p>or {u’bluetoothStrength’: 1.0}</p>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary containing bluetooth strength</td>
</tr>
</tbody>
</table>
<p>:rtype:<code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.HardwareStatusHelper.get_hardware_status_ethernet">
<code class="descname">get_hardware_status_ethernet</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#HardwareStatusHelper.get_hardware_status_ethernet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.HardwareStatusHelper.get_hardware_status_ethernet" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST command to get ethernet port status from player.
sample response (from hideout):
{u’ports’: [{u’link’: u’DOWN’, u’portNumber’: 0},
{u’link’: u’UP’, u’portNumber’: 1, u’speed’: u’100FD’}]}
:return: dictionary containing ethernet port state
:rtype:<code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.HardwareStatusHelper.get_hardware_status_wireless">
<code class="descname">get_hardware_status_wireless</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#HardwareStatusHelper.get_hardware_status_wireless"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.HardwareStatusHelper.get_hardware_status_wireless" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST command to get wireless strength from player
example: {u’wifiStrength’: 1.0}
:return: dictionary containing wifiStrength state
:rtype:<code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="webserver.helpers.muse_api_helpers.MuseApiHelpers">
<em class="property">class </em><code class="descclassname">webserver.helpers.muse_api_helpers.</code><code class="descname">MuseApiHelpers</code><span class="sig-paren">(</span><em>logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseApiHelpers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseApiHelpers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseApiHelpers.hit_rest_endpoint">
<code class="descname">hit_rest_endpoint</code><span class="sig-paren">(</span><em>zp</em>, <em>rest_port=None</em>, <em>rest_endpoint=''</em>, <em>is_secure=False</em>, <em>api_key='e0babc90-6e2d-4a72-9b50-3fbda4a2ecbb'</em>, <em>token=None</em>, <em>params=None</em>, <em>req_url_stub=None</em>, <em>req_method='GET'</em>, <em>req_headers=None</em>, <em>req_data=''</em>, <em>req_json=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseApiHelpers.hit_rest_endpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseApiHelpers.hit_rest_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to build a REST call to the player.
:param zp:
:param rest_endpoint:
:param is_secure:
:param api_key:
:param token:
:param req_url_stub:
:param req_method:
:param req_headers:
:param req_data:
:param req_json:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseApiHelpers.parse_resp">
<code class="descname">parse_resp</code><span class="sig-paren">(</span><em>resp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseApiHelpers.parse_resp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseApiHelpers.parse_resp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseApiHelpers.verify_rest_response">
<code class="descname">verify_rest_response</code><span class="sig-paren">(</span><em>fixture</em>, <em>resp</em>, <em>expected_resp_code=None</em>, <em>expected_resp_text=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseApiHelpers.verify_rest_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseApiHelpers.verify_rest_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the response code/text is as expected
:param fixture:
:param resp:
:param expected_resp_code:
:param expected_resp_text:
:return:</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="webserver.helpers.muse_api_helpers.MuseSessionMixin">
<em class="property">class </em><code class="descclassname">webserver.helpers.muse_api_helpers.</code><code class="descname">MuseSessionMixin</code><span class="sig-paren">(</span><em>cq_control=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseSessionMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseSessionMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseSessionMixin.clear_muse_session">
<code class="descname">clear_muse_session</code><span class="sig-paren">(</span><em>muse_connection</em>, <em>group_id=None</em>, <em>hhid=None</em>, <em>test_fixture=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseSessionMixin.clear_muse_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseSessionMixin.clear_muse_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Our hypothesis is that this function is not required by the tests. We are keeping the signature
present until we verify.</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseSessionMixin.make_muse_session">
<code class="descname">make_muse_session</code><span class="sig-paren">(</span><em>muse_connection</em>, <em>group_id=None</em>, <em>hhid=None</em>, <em>test_fixture=None</em>, <em>accountId=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseSessionMixin.make_muse_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseSessionMixin.make_muse_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseSessionMixin.mute_output">
<code class="descname">mute_output</code><span class="sig-paren">(</span><em>muse_connection</em>, <em>gid</em>, <em>hhid</em>, <em>test_fixture=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseSessionMixin.mute_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseSessionMixin.mute_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseSessionMixin.remove_muse_session">
<code class="descname">remove_muse_session</code><span class="sig-paren">(</span><em>muse_connection</em>, <em>group_id=None</em>, <em>hhid=None</em>, <em>test_fixture=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseSessionMixin.remove_muse_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseSessionMixin.remove_muse_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseSessionMixin.start_cloud_queue_client">
<code class="descname">start_cloud_queue_client</code><span class="sig-paren">(</span><em>muse_connection</em>, <em>group_id=None</em>, <em>hhid=None</em>, <em>track_metadata=True</em>, <em>auto_playback=True</em>, <em>test_fixture=None</em>, <em>my_item_id='0'</em>, <em>queue_version=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseSessionMixin.start_cloud_queue_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseSessionMixin.start_cloud_queue_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseSessionMixin.start_cloud_queue_server">
<code class="descname">start_cloud_queue_server</code><span class="sig-paren">(</span><em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseSessionMixin.start_cloud_queue_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseSessionMixin.start_cloud_queue_server" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is deprecated. You should call self.cq_control
directly on the BaseMuseFixture.</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.MuseSessionMixin.stop_cloud_queue_server">
<code class="descname">stop_cloud_queue_server</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#MuseSessionMixin.stop_cloud_queue_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.MuseSessionMixin.stop_cloud_queue_server" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is deprecated. You should call self.cq_control
directly on the BaseMuseFixture.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="webserver.helpers.muse_api_helpers.PlayerSettingsHelper">
<em class="property">class </em><code class="descclassname">webserver.helpers.muse_api_helpers.</code><code class="descname">PlayerSettingsHelper</code><span class="sig-paren">(</span><em>zp</em>, <em>token=None</em>, <em>logger=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#PlayerSettingsHelper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.PlayerSettingsHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper methods to get/set player settings via REST</p>
<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.PlayerSettingsHelper.get_all_player_settings">
<code class="descname">get_all_player_settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#PlayerSettingsHelper.get_all_player_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.PlayerSettingsHelper.get_all_player_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST command to get all player settings from MUSE.
:return: dictionary containing wifiDisable state
:rtype:<code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.PlayerSettingsHelper.get_dual_mono_mode">
<code class="descname">get_dual_mono_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#PlayerSettingsHelper.get_dual_mono_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.PlayerSettingsHelper.get_dual_mono_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST player command to get monoMode setting on the player from MUSE
:return: dictionary containing monoMode state
:rtype:<code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.PlayerSettingsHelper.get_wifi_status">
<code class="descname">get_wifi_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#PlayerSettingsHelper.get_wifi_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.PlayerSettingsHelper.get_wifi_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST player command to get wifi status from player from MUSE.
:return: dictionary containing wifiDisable state
:rtype:<code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.PlayerSettingsHelper.set_dual_mono_mode">
<code class="descname">set_dual_mono_mode</code><span class="sig-paren">(</span><em>dual_mono_mode</em>, <em>exp_http_return_code=200</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#PlayerSettingsHelper.set_dual_mono_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.PlayerSettingsHelper.set_dual_mono_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST player setting command to enable or disable mono mode on
player.
:param bool dual_mono_mode: Enable or disable mono mode
:param int exp_http_return_code: expected http return code.
:return: Is HTTP return code as expected ?</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.PlayerSettingsHelper.set_volume_mode">
<code class="descname">set_volume_mode</code><span class="sig-paren">(</span><em>volume_mode</em>, <em>exp_http_return_code=200</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#PlayerSettingsHelper.set_volume_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.PlayerSettingsHelper.set_volume_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST player setting command to enable or disable mono mode on
player.
:param str volume_mode: set volume mode to FIXED/VARIABLE/PASS_THROUGH
:param int exp_http_return_code: expected http return code.
:return: Is HTTP return code as expected ?</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.muse_api_helpers.PlayerSettingsHelper.set_wifi">
<code class="descname">set_wifi</code><span class="sig-paren">(</span><em>wifi_disable=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/muse_api_helpers.html#PlayerSettingsHelper.set_wifi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.muse_api_helpers.PlayerSettingsHelper.set_wifi" title="Permalink to this definition">¶</a></dt>
<dd><p>Send REST player setting command to enable or disable wifi on player.
:param bool wifi_disable: Enable or disable wifi
:return: was http return code = HTTP OK ?</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-webserver.helpers.node_smapi_control">
<span id="webserver-helpers-node-smapi-control-module"></span><h2>webserver.helpers.node_smapi_control module<a class="headerlink" href="#module-webserver.helpers.node_smapi_control" title="Permalink to this headline">¶</a></h2>
<p>Control file for the node.js based mock SMAPI server that lives at /test/javascript/node-smapi/</p>
<p>This server defaults to using the music files in /test/javascript/cloudqueue-api/files/smapi which results in the
following track map (the number in the file name is the SMAPI ID for that track once parsed):</p>
<p>music_1.mp3, music_2.mp3, music_3.mp3 - 30 second tracks
music_4.mp3 - 10 second track
music_5.mp3 - 1 second track</p>
<dl class="class">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl">
<em class="property">class </em><code class="descclassname">webserver.helpers.node_smapi_control.</code><code class="descname">CambTestSmapiControl</code><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#CambTestSmapiControl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.HTTP_OK">
<code class="descname">HTTP_OK</code><em class="property"> = 200</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.HTTP_OK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER">
<code class="descname">SMAPI_SERVER</code><em class="property"> = 'camb-test-smapi-0'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_AUTHTYPE">
<code class="descname">SMAPI_SERVER_AUTHTYPE</code><em class="property"> = 'UserId'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_AUTHTYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_CAPS">
<code class="descname">SMAPI_SERVER_CAPS</code><em class="property"> = ['search', 'trFavorites', 'alFavorites', 'ucPlaylists', 'logging', 'extendedMD']</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_CAPS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_CONTAINER_TYPE">
<code class="descname">SMAPI_SERVER_CONTAINER_TYPE</code><em class="property"> = 'MService'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_CONTAINER_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_INTERNAL_ID">
<code class="descname">SMAPI_SERVER_INTERNAL_ID</code><em class="property"> = 65287</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_INTERNAL_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_NAME">
<code class="descname">SMAPI_SERVER_NAME</code><em class="property"> = 'STA SMAPI Reference Server'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_PASSWORD">
<code class="descname">SMAPI_SERVER_PASSWORD</code><em class="property"> = 'c'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_PRESENTATION_MAP_URI">
<code class="descname">SMAPI_SERVER_PRESENTATION_MAP_URI</code><em class="property"> = 'http://camb-test-smapi-0:8080/smapi-1.0/static/config/pm.xml'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_PRESENTATION_MAP_URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_PRESENTATION_MAP_VERSION">
<code class="descname">SMAPI_SERVER_PRESENTATION_MAP_VERSION</code><em class="property"> = 1</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_PRESENTATION_MAP_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_SECURE_URI">
<code class="descname">SMAPI_SERVER_SECURE_URI</code><em class="property"> = 'http://camb-test-smapi-0:8080/smapi-1.0/ws/Sonos'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_SECURE_URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_SID">
<code class="descname">SMAPI_SERVER_SID</code><em class="property"> = 255</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_SID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_STRINGS_URI">
<code class="descname">SMAPI_SERVER_STRINGS_URI</code><em class="property"> = 'http://camb-test-smapi-0:8080/smapi-1.0/static/config/strings.xml'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_STRINGS_URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_STRINGS_VERSION">
<code class="descname">SMAPI_SERVER_STRINGS_VERSION</code><em class="property"> = 1</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_STRINGS_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_TRACK_METADATA">
<code class="descname">SMAPI_SERVER_TRACK_METADATA</code><em class="property"> = '&lt;DIDL-Lite xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot; xmlns:upnp=&quot;urn:schemas-upnp-org:metadata-1-0/upnp/&quot; xmlns:r=&quot;urn:schemas-rinconnetworks-com:metadata-1-0/&quot; xmlns=&quot;urn:schemas-upnp-org:metadata-1-0/DIDL-Lite/&quot;&gt;&lt;item id=&quot;00030020ref%3atrack%3a57&quot; parentID=&quot;0004006eref%3aalbum%3a6&quot; restricted=&quot;true&quot;&gt;&lt;dc:title&gt;One&lt;/dc:title&gt;&lt;upnp:class&gt;object.item.audioItem.musicTrack&lt;/upnp:class&gt;&lt;desc id=&quot;cdudn&quot; nameSpace=&quot;urn:schemas-rinconnetworks-com:metadata-1-0/&quot;&gt;SA_RINCON65287_b&lt;/desc&gt;&lt;/item&gt;&lt;/DIDL-Lite&gt;'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_TRACK_METADATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_TRACK_URI">
<code class="descname">SMAPI_SERVER_TRACK_URI</code><em class="property"> = 'x-sonos-http:ref%3atrack%3a57.mp3?sid=255&amp;amp;flags=32'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_TRACK_URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_URI">
<code class="descname">SMAPI_SERVER_URI</code><em class="property"> = 'http://camb-test-smapi-0:8080/smapi-1.0/ws/Sonos'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_USERNAME">
<code class="descname">SMAPI_SERVER_USERNAME</code><em class="property"> = 'b'</em><a class="headerlink" href="#webserver.helpers.node_smapi_control.CambTestSmapiControl.SMAPI_SERVER_USERNAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="webserver.helpers.node_smapi_control.JavaNodeSmapiControl">
<em class="property">class </em><code class="descclassname">webserver.helpers.node_smapi_control.</code><code class="descname">JavaNodeSmapiControl</code><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#JavaNodeSmapiControl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.JavaNodeSmapiControl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="webserver.helpers.node_smapi_control.JavaNodeSmapiControl.is_mock_smapi_running">
<code class="descname">is_mock_smapi_running</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#JavaNodeSmapiControl.is_mock_smapi_running"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.JavaNodeSmapiControl.is_mock_smapi_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if Mocksmapi is already running
:return: bool</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.JavaNodeSmapiControl.java_mock_smapi_account_setup">
<code class="descname">java_mock_smapi_account_setup</code><span class="sig-paren">(</span><em>zp</em>, <em>service_id=253</em>, <em>add_account=True</em>, <em>caps=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#JavaNodeSmapiControl.java_mock_smapi_account_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.JavaNodeSmapiControl.java_mock_smapi_account_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method for adding a Java MockSMAPI account to a given ZP.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – player object</li>
<li><strong>sid</strong> (<em>int</em>) – smapi server ID</li>
<li><strong>add_account</strong> (<em>bool</em>) – (Default: True) Add an account for
the service?</li>
<li><strong>caps</strong> (<em>list</em>) – smapi server capabilities, will use default
if unspecified.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return bool:</th><td class="field-body"><p class="first last">Account added successfully?</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.JavaNodeSmapiControl.java_smapi_account_teardown">
<code class="descname">java_smapi_account_teardown</code><span class="sig-paren">(</span><em>zp</em>, <em>sid=253</em>, <em>remove_account=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#JavaNodeSmapiControl.java_smapi_account_teardown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.JavaNodeSmapiControl.java_smapi_account_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the mock SMAPI service and account from a given zp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – player object</li>
<li><strong>sid</strong> (<em>int</em>) – (Default: 253) smapi server ID</li>
<li><strong>remove_account</strong> (<em>bool</em>) – (Default: True) Remove any account
associated with the service?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return bool:</th><td class="field-body"><p class="first last">Account successfully removed?</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.JavaNodeSmapiControl.server_ready">
<code class="descname">server_ready</code><span class="sig-paren">(</span><em>server_uri</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#JavaNodeSmapiControl.server_ready"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.JavaNodeSmapiControl.server_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>In order to verify that the server has launched as is ready for use, we wait 7 seconds,
hit the ‘/ping’ and verify that we get the expected response from the server
:param server_uri: The uri of the Java mockSMAPI server being used
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.JavaNodeSmapiControl.start_java_mocksmapi_server">
<code class="descname">start_java_mocksmapi_server</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#JavaNodeSmapiControl.start_java_mocksmapi_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.JavaNodeSmapiControl.start_java_mocksmapi_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.JavaNodeSmapiControl.stop_java_mocksmapi_server">
<code class="descname">stop_java_mocksmapi_server</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#JavaNodeSmapiControl.stop_java_mocksmapi_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.JavaNodeSmapiControl.stop_java_mocksmapi_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="webserver.helpers.node_smapi_control.ManifestHandler">
<em class="property">class </em><code class="descclassname">webserver.helpers.node_smapi_control.</code><code class="descname">ManifestHandler</code><span class="sig-paren">(</span><em>server_uri</em>, <em>schema_version='1.0'</em>, <em>addUnkownItems=False</em>, <em>addRelativeUrls=False</em>, <em>sid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#ManifestHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.ManifestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">twisted.web.resource.Resource</span></code></p>
<p>Returns a dynamically generated service manifest JSON object</p>
<dl class="method">
<dt id="webserver.helpers.node_smapi_control.ManifestHandler.get_manifest">
<code class="descname">get_manifest</code><span class="sig-paren">(</span><em>sid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#ManifestHandler.get_manifest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.ManifestHandler.get_manifest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.ManifestHandler.render_GET">
<code class="descname">render_GET</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#ManifestHandler.render_GET"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.ManifestHandler.render_GET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl">
<em class="property">class </em><code class="descclassname">webserver.helpers.node_smapi_control.</code><code class="descname">NodeSmapiControl</code><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.clear_smapi_server_logs">
<code class="descname">clear_smapi_server_logs</code><span class="sig-paren">(</span><em>wait=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.clear_smapi_server_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.clear_smapi_server_logs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.generate_manifest">
<code class="descname">generate_manifest</code><span class="sig-paren">(</span><em>server_uri</em>, <em>port=8080</em>, <em>schema_version='1.0'</em>, <em>addUnkownItems=None</em>, <em>addRelativeUrls=None</em>, <em>sid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.generate_manifest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.generate_manifest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.get_account_type">
<code class="descname">get_account_type</code><span class="sig-paren">(</span><em>sid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.get_account_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.get_account_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the account type for a given serviceId</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sid</strong> (<em>int</em>) – Service ID</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.get_smapi_call_logs">
<code class="descname">get_smapi_call_logs</code><span class="sig-paren">(</span><em>smapi_call</em>, <em>item_id=None</em>, <em>timeout=15</em>, <em>expected_items=1</em>, <em>iteration_delay=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.get_smapi_call_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.get_smapi_call_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get just the messages for a specific call(s) from the running mock smapi_server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>smapi_call</strong> – list - which smapi calls to look for</li>
<li><strong>timeout</strong> – int - how long should we iterate over the SMAPI logs before giving up. Default to 15 sec</li>
<li><strong>expected_items</strong> – int - how many entries expected in SMAPI logs. Default to 1</li>
<li><strong>iteration_delay</strong> – int - delay between each iteration pass. Default to 1 sec</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">item_id: list - SMAPI itemId to filter the returned list of logs by</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.get_smapi_log_content">
<code class="descname">get_smapi_log_content</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.get_smapi_log_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.get_smapi_log_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents from the stdout of the node-smapi server. This method kills the
server so it should be called after all SMAPI actions have been completed to avoid any errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list: a list of SMAPI logs in the order they were processed on the server, format as follows:
{‘timestamp’: ‘2015-11-23T23:24:14.712Z’, ‘args’: {‘seconds’: 0, ‘id’: ‘1’}, ‘method’: ‘reportPlaySeconds’}</td>
</tr>
</tbody>
</table>
<p>Access data within the list using list position and dictionary key notation. For example if you want the
value of the ‘method’ key in the above example (assuming its list position is 0):</p>
<blockquote>
<div>method = list[0][‘args’][‘method’]</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.get_track">
<code class="descname">get_track</code><span class="sig-paren">(</span><em>item_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.get_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.get_track" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.refresh_auth_token">
<code class="descname">refresh_auth_token</code><span class="sig-paren">(</span><em>wait=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.refresh_auth_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.refresh_auth_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.set_report_play_seconds_override">
<code class="descname">set_report_play_seconds_override</code><span class="sig-paren">(</span><em>limit</em>, <em>interval=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.set_report_play_seconds_override"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.set_report_play_seconds_override" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an override for the next &lt;limit&gt; number of reportPlaySeconds responses to include
&lt;interval&gt; value. This allows simulation of a SMAPI server requesting a new interval for reporting
the reportPlaySeconds call from the player. The node-smapi server is configured to default to an interval
of 0 if one is not specified.
:param limit: the number of times reportPlaySeconds should return the modified interval value
:param interval:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.set_track">
<code class="descname">set_track</code><span class="sig-paren">(</span><em>item_id</em>, <em>track</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.set_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.set_track" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.set_track_attribute">
<code class="descname">set_track_attribute</code><span class="sig-paren">(</span><em>item_id</em>, <em>attribute</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.set_track_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.set_track_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.smapi_account_setup">
<code class="descname">smapi_account_setup</code><span class="sig-paren">(</span><em>zp</em>, <em>sid</em>, <em>add_account=True</em>, <em>auth_type=None</em>, <em>manifest_version=0</em>, <em>manifest_uri=''</em>, <em>caps=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.smapi_account_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.smapi_account_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method for adding a SMAPI account to a given ZP.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – player object</li>
<li><strong>sid</strong> (<em>int</em>) – smapi server ID</li>
<li><strong>add_account</strong> (<em>bool</em>) – (Default: True) Add an account for
the service?</li>
<li><strong>auth_type</strong> (<em>int</em>) – Auth type for service -
DeviceLink = stateless authentication,
UserId = requires creds,
Anonymous (Default) = does not require creds</li>
<li><strong>caps</strong> (<em>list</em>) – smapi server capabilities, will use default
if unspecified.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return bool:</th><td class="field-body"><p class="first last">Account added successfully?</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.smapi_account_teardown">
<code class="descname">smapi_account_teardown</code><span class="sig-paren">(</span><em>zp</em>, <em>sid</em>, <em>remove_account=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.smapi_account_teardown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.smapi_account_teardown" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the mock SMAPI service and account from a given zp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>) – player object</li>
<li><strong>sid</strong> (<em>int</em>) – smapi server ID</li>
<li><strong>remove_account</strong> (<em>bool</em>) – (Default: True) Remove any account
associated with the service?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return bool:</th><td class="field-body"><p class="first last">Account successfully removed?</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.start_node_smapi_server">
<code class="descname">start_node_smapi_server</code><span class="sig-paren">(</span><em>stdout=None</em>, <em>stderr=None</em>, <em>extra_path=None</em>, <em>server_port=3000</em>, <em>server_version=2.1</em>, <em>server_sid=255</em>, <em>server_internal_id=65287</em>, <em>cqport=None</em>, <em>magicLinkCode=False</em>, <em>magicLinkDeviceId=False</em>, <em>verifyAuthSignature=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.start_node_smapi_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.start_node_smapi_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the node.js mock smapi server that lives in /test/javascript/node_smapi.
Default output and error paths pipe to /dev/null but can be overridden by passing in those
params through your test.
:param stdout: the standard output for the cloudqueue server
:param stderr: the standard error for the cloudqueue server
:return: object; a running node-smapi server</p>
</dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.stop_node_smapi_server">
<code class="descname">stop_node_smapi_server</code><span class="sig-paren">(</span><em>smapi_server</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.stop_node_smapi_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.stop_node_smapi_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.tear_down_manifest">
<code class="descname">tear_down_manifest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.tear_down_manifest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.tear_down_manifest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="webserver.helpers.node_smapi_control.NodeSmapiControl.wait_for_filtered_log">
<code class="descname">wait_for_filtered_log</code><span class="sig-paren">(</span><em>smapi=None, calls=['setPlayedSeconds'], fn=&lt;function &lt;lambda&gt;&gt;, timeout=15, item_id=None, expected_items=1, iteration_delay=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/webserver/helpers/node_smapi_control.html#NodeSmapiControl.wait_for_filtered_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#webserver.helpers.node_smapi_control.NodeSmapiControl.wait_for_filtered_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-webserver.helpers">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-webserver.helpers" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">TestCase Documentation</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="audio.html">audio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">cloud package</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_reporting.html">data_reporting package</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataio.html">dataio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">examples package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hdmi.html">hdmi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="ixchariot.html">ixchariot package</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">networking package</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">other package</a></li>
<li class="toctree-l1"><a class="reference internal" href="perf.html">perf package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytest_automation.html">pytest_automation package</a></li>
<li class="toctree-l1"><a class="reference internal" href="secure_registration.html">secure_registration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="syssw.html">syssw package</a></li>
<li class="toctree-l1"><a class="reference internal" href="upnp.html">upnp package</a></li>
<li class="toctree-l1"><a class="reference internal" href="voice.html">voice package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="webserver.html">webserver package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="webserver.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">webserver.helpers package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-webserver.helpers.cloud_queue_control">webserver.helpers.cloud_queue_control module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-webserver.helpers.cloud_queue_helpers">webserver.helpers.cloud_queue_helpers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-webserver.helpers.mock_player_cloud_services_control">webserver.helpers.mock_player_cloud_services_control module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-webserver.helpers.muse_api_helpers">webserver.helpers.muse_api_helpers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-webserver.helpers.node_smapi_control">webserver.helpers.node_smapi_control module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-webserver.helpers">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.base_muse_fixture">webserver.base_muse_fixture module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_favorites_namespace">webserver.muse_favorites_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_global_namespace">webserver.muse_global_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_groups_namespace">webserver.muse_groups_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_groupvolume_namespace">webserver.muse_groupvolume_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_musicservices_accounts_namespace">webserver.muse_musicservices_accounts_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_playbackExtended_namespace">webserver.muse_playbackExtended_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_playback_loadContainer">webserver.muse_playback_loadContainer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_playback_loadStream">webserver.muse_playback_loadStream module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_playback_loadTrackList">webserver.muse_playback_loadTrackList module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_playback_namespace">webserver.muse_playback_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_playback_seek">webserver.muse_playback_seek module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_playbackmetadata_namespace">webserver.muse_playbackmetadata_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_playervolume_namespace">webserver.muse_playervolume_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_rest_commands">webserver.muse_rest_commands module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_session_evictions">webserver.muse_session_evictions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_session_loadStreamUrl">webserver.muse_session_loadStreamUrl module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_session_namespace">webserver.muse_session_namespace module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.muse_session_suspend_resume">webserver.muse_session_suspend_resume module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_401_errors">webserver.test_cloudqueue_401_errors module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_api_request_errors">webserver.test_cloudqueue_api_request_errors module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_apikey_headers">webserver.test_cloudqueue_apikey_headers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_auth_token">webserver.test_cloudqueue_auth_token module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_end_of_queue_behavior">webserver.test_cloudqueue_end_of_queue_behavior module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_event_usage_metrics">webserver.test_cloudqueue_event_usage_metrics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_itemwindow_fetch">webserver.test_cloudqueue_itemwindow_fetch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_itemwindow_param">webserver.test_cloudqueue_itemwindow_param module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_mixed_source_playlist">webserver.test_cloudqueue_mixed_source_playlist module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_podcast">webserver.test_cloudqueue_podcast module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_queueversion">webserver.test_cloudqueue_queueversion module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_queueversion_edgecases">webserver.test_cloudqueue_queueversion_edgecases module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_reporting">webserver.test_cloudqueue_reporting module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_service_policy">webserver.test_cloudqueue_service_policy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_short_queue">webserver.test_cloudqueue_short_queue module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_cloudqueue_skip_limits">webserver.test_cloudqueue_skip_limits module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_item_window_tombstones">webserver.test_item_window_tombstones module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_muse_secure_websocket">webserver.test_muse_secure_websocket module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_muse_websocket">webserver.test_muse_websocket module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_persistent_connections_semantics">webserver.test_persistent_connections_semantics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_settings_namespace_via_rest">webserver.test_settings_namespace_via_rest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_ssdp_group_discovery">webserver.test_ssdp_group_discovery module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_websocket_connections">webserver.test_websocket_connections module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver.test_websocket_info_page">webserver.test_websocket_info_page module</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html#module-webserver">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="webserver_v0.html">webserver_v0 package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="webserver.html">webserver package</a><ul>
      <li>Previous: <a href="webserver.html" title="previous chapter">webserver package</a></li>
      <li>Next: <a href="webserver_v0.html" title="next chapter">webserver_v0 package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Author.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/webserver.helpers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>