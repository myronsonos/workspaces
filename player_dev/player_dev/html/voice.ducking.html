
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>voice.ducking package &#8212; TestCase Documentation  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="voice.google_assistant package" href="voice.google_assistant.html" />
    <link rel="prev" title="voice package" href="voice.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="voice-ducking-package">
<h1>voice.ducking package<a class="headerlink" href="#voice-ducking-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-voice.ducking.ducking_base">
<span id="voice-ducking-ducking-base-module"></span><h2>voice.ducking.ducking_base module<a class="headerlink" href="#module-voice.ducking.ducking_base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="voice.ducking.ducking_base.DuckingBase">
<em class="property">class </em><code class="descclassname">voice.ducking.ducking_base.</code><code class="descname">DuckingBase</code><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sonos.workflow.fixture.WorkflowTestFixture</span></code></p>
<p>Ducking automation base class</p>
<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.are_players_ducked">
<code class="descname">are_players_ducked</code><span class="sig-paren">(</span><em>players</em>, <em>timeout_seconds=7</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.are_players_ducked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.are_players_ducked" title="Permalink to this definition">¶</a></dt>
<dd><p>Are players ducked
:param list players: List of sonos zone component
:param int timeout_seconds: Timeout seconds for players to duck
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.are_players_unducked">
<code class="descname">are_players_unducked</code><span class="sig-paren">(</span><em>players</em>, <em>timeout_seconds=7</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.are_players_unducked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.are_players_unducked" title="Permalink to this definition">¶</a></dt>
<dd><p>Are players unducked
:param list players: List of sonos zone component
:param int timeout_seconds: Timeout seconds for players to duck
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear avt and queue, remove bonded config if it exists
:param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.extract_time_from_log">
<code class="descname">extract_time_from_log</code><span class="sig-paren">(</span><em>log</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.extract_time_from_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.extract_time_from_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract time from log message
:param str log: Anacapa Log string containing time
:return date_time_obj: datetime object</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.get_ducking_flag">
<code class="descname">get_ducking_flag</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.get_ducking_flag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.get_ducking_flag" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current ducking flags from the player. Ducking flag is determined
based on the configuration that the player is in and if the local
player for an unduck command. See
# from all/oc/zone/zoneplayer/mixing_sod.h
// ducking bitmap first 8 bits reserved for local reasons a device
// would duck. The next 8 bits are used for keeping track of which
// channels in the bonded zone are actively ducked. Only the primary
// of a bonded zone keeps track of every channel position.
#define DUCKING_LOCAL_NULL             (0x00000000)
#define DUCKING_LOCAL_MUSE             (0x00000001)
#define DUCKING_LOCAL_VOICE            (0x00000002)
#define DUCKING_LOCAL_EXTAUDIOSRC      (0x00000004)
#define DUCKING_LOCAL_TESTPOINT        (0x00000080)
#define DUCKING_LOCAL_MASK             (0x000000FF)
// There is one bit reserved for each member of a channel map (see RChannelID)
// NOTE: if the remote mask size changes, update m_rgRemoteDuckingTimes
// and review code which uses it.
#define DUCKING_REMOTE_0               (0x00000100)
#define DUCKING_REMOTE_1               (0x00000200)
#define DUCKING_REMOTE_2               (0x00000400)
#define DUCKING_REMOTE_3               (0x00000800)
#define DUCKING_REMOTE_4               (0x00001000)
#define DUCKING_REMOTE_5               (0x00002000)
#define DUCKING_REMOTE_6               (0x00004000)
#define DUCKING_REMOTE_7               (0x00008000)
#define DUCKING_REMOTE_MASK            (0x0000FF00)
// ducking bitmap slot to track when a duck action
// was forwarded to the group coordinator
#define DUCKING_GROUP_GC                (0x80000000)
#define DUCKING_GROUP_MASK              (0x80000000)</p>
<p>example:
in a stereo with bonded sub, if right is ducked, flags on devices in
config:</p>
<blockquote>
<div>master = 0x00000200
right =  0x00000101
sub = 0x00000100</div></blockquote>
<p>param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:return str ducking_flag: Value of ducking flag</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.get_ducking_time">
<code class="descname">get_ducking_time</code><span class="sig-paren">(</span><em>deh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.get_ducking_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.get_ducking_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the time player ducked
:return float ducking_time: time ducked</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.is_player_ducked">
<code class="descname">is_player_ducked</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.is_player_ducked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.is_player_ducked" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the player ducked ?
param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:return bool: Is player ducked?</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.make_player_appear">
<code class="descname">make_player_appear</code><span class="sig-paren">(</span><em>player</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.make_player_appear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.make_player_appear" title="Permalink to this definition">¶</a></dt>
<dd><p>Make player appear to other players in the hh by un-blocking its upnp
port using traffic shaper.
param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.make_player_disappear">
<code class="descname">make_player_disappear</code><span class="sig-paren">(</span><em>player</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.make_player_disappear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.make_player_disappear" title="Permalink to this definition">¶</a></dt>
<dd><p>Make player disappear to other players in the hh by blocking its upnp
port using traffic shaper.
param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup fixture</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.set_diagcs">
<code class="descname">set_diagcs</code><span class="sig-paren">(</span><em>clear=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.set_diagcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.set_diagcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set or clear diagcs
:param bool clear: Set or clear diags
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.start_playback">
<code class="descname">start_playback</code><span class="sig-paren">(</span><em>zp</em>, <em>play_mode='NORMAL'</em>, <em>qpos=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.start_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.start_playback" title="Permalink to this definition">¶</a></dt>
<dd><p>Start playback on zp
:param zp: Sonos zone component
:type zp: :<cite>~sonos.client.SonosZoneComponent</cite>
:param str source: Source of music queue/share or radio or tv
:param str play_mode: Play mode
:param int qpos: Start position in queue for playback</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.stop_playback">
<code class="descname">stop_playback</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.stop_playback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.stop_playback" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop playback on given zone player
:param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingBase.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingBase.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingBase.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Teardown fixture</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="voice.ducking.ducking_base.DuckingEvents">
<em class="property">class </em><code class="descclassname">voice.ducking.ducking_base.</code><code class="descname">DuckingEvents</code><span class="sig-paren">(</span><em>zp</em>, <em>logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingEvents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="upnp.helpers.html#upnp.helpers.diag.UDPDiagnosticModuleMonitor" title="upnp.helpers.diag.UDPDiagnosticModuleMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">upnp.helpers.diag.UDPDiagnosticModuleMonitor</span></code></a></p>
<p>Ducking Events management class. Handle ducking events using udp logger.</p>
<dl class="attribute">
<dt id="voice.ducking.ducking_base.DuckingEvents.DUCKING">
<code class="descname">DUCKING</code><em class="property"> = '\\[(?:default|hta-chsnk|inline)-mixer\\]: ducking streams'</em><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.DUCKING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_base.DuckingEvents.DUCKING_EVENTS">
<code class="descname">DUCKING_EVENTS</code><em class="property"> = {'mixer': {3: ['\\[(?:default|hta-chsnk|inline)-mixer\\]: ducking streams', '\\[(?:default|hta-chsnk|inline)-mixer\\]: unducking streams']}}</em><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.DUCKING_EVENTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_base.DuckingEvents.MIXER_EVENTS">
<code class="descname">MIXER_EVENTS</code><em class="property"> = ['\\[(?:default|hta-chsnk|inline)-mixer\\]: ducking streams', '\\[(?:default|hta-chsnk|inline)-mixer\\]: unducking streams']</em><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.MIXER_EVENTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_base.DuckingEvents.UN_DUCKING">
<code class="descname">UN_DUCKING</code><em class="property"> = '\\[(?:default|hta-chsnk|inline)-mixer\\]: unducking streams'</em><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.UN_DUCKING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingEvents.cb_detected_error">
<code class="descname">cb_detected_error</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingEvents.cb_detected_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.cb_detected_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback on detecting error string
:param str msg: error message
:param zp: Sonos zone component on which error string was detected
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingEvents.cb_watch_event">
<code class="descname">cb_watch_event</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingEvents.cb_watch_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.cb_watch_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback when a watch string matches
:param str msg: anacapa log message from udplogger
:param zp: Sonos zone component
:type zp: <code class="xref py py-class docutils literal notranslate"><span class="pre">SonosZoneComponent</span></code>
:param expr: Watch string used to get matching log msg via udplogger</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingEvents.get_current_test_name">
<code class="descname">get_current_test_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingEvents.get_current_test_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.get_current_test_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current running test name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The current running test name.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">str:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingEvents.reset_states">
<code class="descname">reset_states</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingEvents.reset_states"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.reset_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset event states</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingEvents.set_current_test_name">
<code class="descname">set_current_test_name</code><span class="sig-paren">(</span><em>current_test_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingEvents.set_current_test_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.set_current_test_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the current running test name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>current_test_name</strong> – The current running test name.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingEvents.setup_udplogger">
<code class="descname">setup_udplogger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingEvents.setup_udplogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.setup_udplogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Udp logger set up.</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingEvents.teardown_udplogger">
<code class="descname">teardown_udplogger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingEvents.teardown_udplogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.teardown_udplogger" title="Permalink to this definition">¶</a></dt>
<dd><p>UDP logger teardown</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_base.DuckingEvents.wait_for_event">
<code class="descname">wait_for_event</code><span class="sig-paren">(</span><em>event</em>, <em>timeout_seconds=30</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_base.html#DuckingEvents.wait_for_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_base.DuckingEvents.wait_for_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a given event
:param str event: Log event aka watch string to wait for
:param int timeout_seconds: Timeout waiting for the event</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-voice.ducking.ducking_via_chsnk_testpoint">
<span id="voice-ducking-ducking-via-chsnk-testpoint-module"></span><h2>voice.ducking.ducking_via_chsnk_testpoint module<a class="headerlink" href="#module-voice.ducking.ducking_via_chsnk_testpoint" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests">
<em class="property">class </em><code class="descclassname">voice.ducking.ducking_via_chsnk_testpoint.</code><code class="descname">DuckingViaTestpointTests</code><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="webserver.html#webserver.base_muse_fixture.MuseClientFixtureMixin" title="webserver.base_muse_fixture.MuseClientFixtureMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.base_muse_fixture.MuseClientFixtureMixin</span></code></a>, <a class="reference internal" href="webserver.html#webserver.base_muse_fixture.BaseMuseFixture" title="webserver.base_muse_fixture.BaseMuseFixture"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.base_muse_fixture.BaseMuseFixture</span></code></a>, <a class="reference internal" href="#voice.ducking.ducking_base.DuckingBase" title="voice.ducking.ducking_base.DuckingBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">voice.ducking.ducking_base.DuckingBase</span></code></a></p>
<p>Test ducking on players by sending ducking command to players using
MUSE REST Endpoints. Ducking is implemented under ‘playerVolume’ namespace
Uses player anacapa trace logging and rendering control status page
information to perform verification.</p>
<p>Rewritten for epic SWPBL-86400. Added additional configs to test, a pause on duck specific test,
and changed the duck command to use the ws muse interface.</p>
<dl class="attribute">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['TESTPOINT_DUCKING']</em><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup fixture</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, before each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Teardown fixture</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once per test case, after each test case is run.</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_duck_unduck_via_different_sources">
<code class="descname">test_duck_unduck_via_different_sources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_duck_unduck_via_different_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_duck_unduck_via_different_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that a paired config stays ducked if unducked on a different zp/source then where/how it was originally
ducked
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_ducking_after_anacapa_restart">
<code class="descname">test_ducking_after_anacapa_restart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_ducking_after_anacapa_restart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_ducking_after_anacapa_restart" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify player is ducked on anacapa restart is other player in config
:raise ducked.</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_ducking_standalone_bonded_with_sub">
<code class="descname">test_ducking_standalone_bonded_with_sub</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_ducking_standalone_bonded_with_sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_ducking_standalone_bonded_with_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that ducking works as expected with a single player bonded with a sub
:param voice_capable:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_ducking_stereo_pair_bonded_with_sub">
<code class="descname">test_ducking_stereo_pair_bonded_with_sub</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_ducking_stereo_pair_bonded_with_sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_ducking_stereo_pair_bonded_with_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify ducking in stereo pair with bonded sub configuration environment.
:param voice_capable:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_nonvoice_gc_grouped_ducking">
<code class="descname">test_nonvoice_gc_grouped_ducking</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_nonvoice_gc_grouped_ducking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_nonvoice_gc_grouped_ducking" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify ducking in a grouped config with a non-voice GC
:param voice_capable:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_nonvoice_ht_51_ducking">
<code class="descname">test_nonvoice_ht_51_ducking</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_nonvoice_ht_51_ducking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_nonvoice_ht_51_ducking" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify ducking in ht config with a non-voice master device
:param voice_capable:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_pause_on_duck_secondary_device">
<code class="descname">test_pause_on_duck_secondary_device</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_pause_on_duck_secondary_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_pause_on_duck_secondary_device" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify with the pauseOnDuck policy enabled on the CQ server, a stereo paired
setup will pause/unpause when directed by a muse command to the secondary device
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_staggered_ducking_grouped">
<code class="descname">test_staggered_ducking_grouped</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_staggered_ducking_grouped"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_staggered_ducking_grouped" title="Permalink to this definition">¶</a></dt>
<dd><p>BETA-2476
Same as above but with grouped players and pauseOnDuck not active
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_staggered_ducking_grouped_pauseOnDuck">
<code class="descname">test_staggered_ducking_grouped_pauseOnDuck</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_staggered_ducking_grouped_pauseOnDuck"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_staggered_ducking_grouped_pauseOnDuck" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to the test above, verifies that grouped player stays ducked until the last player unducks
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_staggered_ducking_stereo_with_sub">
<code class="descname">test_staggered_ducking_stereo_with_sub</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_staggered_ducking_stereo_with_sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_staggered_ducking_stereo_with_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify when multiple zones are ducked simultaneously, the configured
zones group remains ducked until the last device from the group
unducks (due to durationMillis timeout)</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_unduck_if_ducking_source_disappears">
<code class="descname">test_unduck_if_ducking_source_disappears</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_unduck_if_ducking_source_disappears"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_unduck_if_ducking_source_disappears" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify if remote ducking source disappears, local device unducks in 15
seconds</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_voice_capable_gc_grouped_ducking">
<code class="descname">test_voice_capable_gc_grouped_ducking</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_voice_capable_gc_grouped_ducking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_voice_capable_gc_grouped_ducking" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify ducking in a grouped config with a voice_capable GC
:param voice_capable:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_voice_ht_51_ducking">
<code class="descname">test_voice_ht_51_ducking</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_via_chsnk_testpoint.html#DuckingViaTestpointTests.test_voice_ht_51_ducking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_via_chsnk_testpoint.DuckingViaTestpointTests.test_voice_ht_51_ducking" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify ducking in ht config with a voice_capable master device
:param voice_capable:
:return:</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-voice.ducking.ducking_volume_levels">
<span id="voice-ducking-ducking-volume-levels-module"></span><h2>voice.ducking.ducking_volume_levels module<a class="headerlink" href="#module-voice.ducking.ducking_volume_levels" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest">
<em class="property">class </em><code class="descclassname">voice.ducking.ducking_volume_levels.</code><code class="descname">DuckingVolumeLevelsTest</code><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="voice.voice_end_to_end.html#voice.voice_end_to_end.voice_end_to_end_base.VoiceEndToEndBase" title="voice.voice_end_to_end.voice_end_to_end_base.VoiceEndToEndBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">voice.voice_end_to_end.voice_end_to_end_base.VoiceEndToEndBase</span></code></a></p>
<p>class to test the ducking volume levels changes.
We test the following test cases:
1. Changing volume via controller or voice both result in updated
ducking level.
2. Ducking level calculation is as expected in various bonded
configurations.
3. Ducking can be toggled by any voice capable player in a bonded zone.
4. Toggling mute from On to Off while a player is ducked will defer the
mute until the ducking has ended.
5. Toggling a mute from Off to On while a player is ducked will
immediately cause mute to occur.</p>
<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.VOICE_OVERLAY_PATH">
<code class="descname">VOICE_OVERLAY_PATH</code><em class="property"> = '/Automation/ducking/'</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.VOICE_OVERLAY_PATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.VOICE_OVERLAY_VOLUMES">
<code class="descname">VOICE_OVERLAY_VOLUMES</code><em class="property"> = {0: 'alexa_volume_to_00.wav', 1: 'alexa_volume_to_01.wav', 5: 'alexa_volume_to_05.wav', 10: 'alexa_volume_to_10.wav'}</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.VOICE_OVERLAY_VOLUMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.VOICE_OVERLAY_WHAT_TIME_IS_IT">
<code class="descname">VOICE_OVERLAY_WHAT_TIME_IS_IT</code><em class="property"> = 'alexa_what_time_is_it.wav'</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.VOICE_OVERLAY_WHAT_TIME_IS_IT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.add_watch_for_zone_channel_count_change">
<code class="descname">add_watch_for_zone_channel_count_change</code><span class="sig-paren">(</span><em>zp</em>, <em>channel_count</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.add_watch_for_zone_channel_count_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.add_watch_for_zone_channel_count_change" title="Permalink to this definition">¶</a></dt>
<dd><p>add watcher for a message from &lt;sound_device, 4&gt;
Zone channel count has been updated to &lt;channel_count&gt;
:param zp: the zone player to monitor
:type zp: :obj`sonos.client.internal.SonosZoneComponent`
:param channel_count: the channel count to watch for
:type channel_count: :obj`int`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.change_volume_via_voice">
<code class="descname">change_volume_via_voice</code><span class="sig-paren">(</span><em>zp</em>, <em>level</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.change_volume_via_voice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.change_volume_via_voice" title="Permalink to this definition">¶</a></dt>
<dd><p>upload a voicetap file to adjust the volume level on the player
:param zp: the zone player whose volume we want to adjust
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code>
:param level: the level of volume to set the zp to
:type level: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.channel_count_change_cb">
<code class="descname">channel_count_change_cb</code><span class="sig-paren">(</span><em>msg</em>, <em>zp_sn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.channel_count_change_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.channel_count_change_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>callback for a configured zone channel count change message
:param msg: the msg we’re receiving a cb for
:type msg: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>
:param zp_sn: the serial number of the zone player
:type zp_sn: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.cleanup_zps">
<code class="descname">cleanup_zps</code><span class="sig-paren">(</span><em>zp</em>, <em>other_zps</em>, <em>bounce=False</em>, <em>unbond=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.cleanup_zps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.cleanup_zps" title="Permalink to this definition">¶</a></dt>
<dd><p>clear the voice overlays and cleanup bonded configuration on each zp
:param zp: the primary zp
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code>
:param other_zps: optional tuple of other zone players
:type other_zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of
:param bounce: flag to bounce anacapa
:type bounce: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>
<code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.clear_voice_overlays">
<code class="descname">clear_voice_overlays</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.clear_voice_overlays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.clear_voice_overlays" title="Permalink to this definition">¶</a></dt>
<dd><p>clear the voice overlays on each of the zps given
:param zps: a tuple of zone players
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of
<code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.determine_primary_zp">
<code class="descname">determine_primary_zp</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.determine_primary_zp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.determine_primary_zp" title="Permalink to this definition">¶</a></dt>
<dd><p>determine which zp is primary in the group (either HT master or
voice player)
:param zps: list of zone players
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`
:return: primary zone player
:rtype: :obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.ducking_cb">
<code class="descname">ducking_cb</code><span class="sig-paren">(</span><em>match_str</em>, <em>zp_sn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.ducking_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.ducking_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>generic callback method to set the ducking dictionary for the given
zone player’s SN to true (ducking log detected)
:param zp_sn: the serial number of the player that reported ducked
:type zp_sn: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>
:param match_str: the string that matches the given regex
:type match_str: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.execute_ducking_levels_test">
<code class="descname">execute_ducking_levels_test</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.execute_ducking_levels_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.execute_ducking_levels_test" title="Permalink to this definition">¶</a></dt>
<dd><p>change the volume by controller, by voice, and ensure ducking level
is as expected across all players. Exercise all permutations of
which players change volume via voice
:param zps: list of zone players (assumed bonded) to execute on
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.generate_voice_player_for_test">
<code class="descname">generate_voice_player_for_test</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.generate_voice_player_for_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.generate_voice_player_for_test" title="Permalink to this definition">¶</a></dt>
<dd><p>wrap the output of the generator in the format expected by setUpTest</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.get_anacapa_lines">
<code class="descname">get_anacapa_lines</code><span class="sig-paren">(</span><em>zp</em>, <em>msg_filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.get_anacapa_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.get_anacapa_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>get the lines from anacapa.trace that contain the given msg
:param zp: the zone player to execute on
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code>
:param msg_filter: the string to filter by
:type msg_filter: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>
:return: a list of lines from the trace with the msg
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.get_n_channels">
<code class="descname">get_n_channels</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.get_n_channels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.get_n_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number of channels for the given zps
:param zps: an array of zone players on which to validate the
ducking levels
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`
:return: the number of channels used for calculated the ducking level
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.get_sub">
<code class="descname">get_sub</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.get_sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.get_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>get the sub (if any) from my devices
:return: sonos sub
:rtype: :obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.run_verifications">
<code class="descname">run_verifications</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.run_verifications"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.run_verifications" title="Permalink to this definition">¶</a></dt>
<dd><p>method to run through all of the ducking tests for all cases (
standalone, stereo pair, HT).
:param zps: list of zone players (assumed bonded) to execute on
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>setup test fixture</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>zp</em>, <em>*other_zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>setup for test -&gt; call cleanup
:param zp: the primary zp
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code>
:param other_zps: optional tuple of other zone players
:type other_zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of
<code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.setup_cbs_for_ducking_unducking">
<code class="descname">setup_cbs_for_ducking_unducking</code><span class="sig-paren">(</span><em>zps</em>, <em>duck_msg</em>, <em>unduck_msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.setup_cbs_for_ducking_unducking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.setup_cbs_for_ducking_unducking" title="Permalink to this definition">¶</a></dt>
<dd><p>setup callbacks for ducking and unducking states for each zone player
:param zps: the zone players to setup callbacks for
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`
:param duck_msg: the regular expression to search for that will
trigger a callback to mark the particular zp as “ducked”
:type duck_msg: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code>
:param unduck_msg: the regular expression to search for that will
trigger a callback to mark the particular zp as “unducked”
:type unduck_msg: <code class="xref py py-obj docutils literal notranslate"><span class="pre">string</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.sub_in_zps">
<code class="descname">sub_in_zps</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.sub_in_zps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.sub_in_zps" title="Permalink to this definition">¶</a></dt>
<dd><p>return true if there’s a sub in the list of zps
:param zps: an array of zone players
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`
:return: True/False
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.tearDownFixture">
<code class="descname">tearDownFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.tearDownFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.tearDownFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Teardown fixture</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>zp</em>, <em>*other_zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>clear the voice overlays and cleanup bonded configuration on each zp
:param zp: the primary zp
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code>
:param other_zps: optional tuple of other zone players
:type other_zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code> of
<code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_ht_voice_51">
<code class="descname">test_ht_voice_51</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.test_ht_voice_51"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_ht_voice_51" title="Permalink to this definition">¶</a></dt>
<dd><p>test the case for a home theater configuration of players
:param master: ht master zone player
:type master: :obj`sonos.client.internal.SonosZoneComponent`
:param left: left zone player
:type left: :obj`sonos.client.internal.SonosZoneComponent`
:param right: right zone player
:type right: :obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_single_voice_player">
<code class="descname">test_single_voice_player</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.test_single_voice_player"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_single_voice_player" title="Permalink to this definition">¶</a></dt>
<dd><p>test the case for a standalone voice player (1.0 and 3.0 configs)
:param zp: zone players to execute on
:type zp: :obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_single_voice_player_and_sub">
<code class="descname">test_single_voice_player_and_sub</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.test_single_voice_player_and_sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_single_voice_player_and_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>test the case for a standalone voice player with sub, covering 1.1
and 3.1 configurations
:param zp: zone players to execute on
:type zp: :obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_stereo_pair_voice_bonded_sub">
<code class="descname">test_stereo_pair_voice_bonded_sub</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.test_stereo_pair_voice_bonded_sub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_stereo_pair_voice_bonded_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>test the case for a pair of stereo bonded players + sub
:param left: left zone player
:type left: :obj`sonos.client.internal.SonosZoneComponent`
:param right: right zone player
:type right: :obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_stereo_pair_voice_players">
<code class="descname">test_stereo_pair_voice_players</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.test_stereo_pair_voice_players"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.test_stereo_pair_voice_players" title="Permalink to this definition">¶</a></dt>
<dd><p>test the case for a pair of stereo bonded players
:param left: left zone player
:type left: :obj`sonos.client.internal.SonosZoneComponent`
:param right: right zone player
:type right: :obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.trigger_ducking">
<code class="descname">trigger_ducking</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.trigger_ducking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.trigger_ducking" title="Permalink to this definition">¶</a></dt>
<dd><p>upload a voicetap file to trigger ducking to occur
:param zp: the zone player to which to upload the voicetap file
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.trigger_unducking">
<code class="descname">trigger_unducking</code><span class="sig-paren">(</span><em>zp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.trigger_unducking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.trigger_unducking" title="Permalink to this definition">¶</a></dt>
<dd><p>trigger the zp to un-duck
:param zp: the ZP to trigger
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.unducking_cb">
<code class="descname">unducking_cb</code><span class="sig-paren">(</span><em>match_str</em>, <em>zp_sn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.unducking_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.unducking_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>generic callback method to set the unducking dictionary for the given
zone player’s SN to true (unducking log detected)
:param zp_sn: the serial number of the player that reported unducked
:type zp_sn: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>
:param match_str: the string that matches the given regex
:type match_str: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.unmute_cb">
<code class="descname">unmute_cb</code><span class="sig-paren">(</span><em>match_str</em>, <em>zp_sn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.unmute_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.unmute_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>generic callback method to set the un-mute dictionary for the give
zone player’s serial number to true (unmute log detected)
:param zp_sn: the serial number of the player that reported un-muted
:type zp_sn: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code>
:param match_str: the string that matches the given regex
:type match_str: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_ducking_volume_level">
<code class="descname">verify_ducking_volume_level</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.verify_ducking_volume_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_ducking_volume_level" title="Permalink to this definition">¶</a></dt>
<dd><p>determine the ducking level expected based on the players and the
configuration
:param zps: an array of zone players on which to validate the
ducking levels
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_mute_while_ducked">
<code class="descname">verify_mute_while_ducked</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.verify_mute_while_ducked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_mute_while_ducked" title="Permalink to this definition">¶</a></dt>
<dd><p>trigger the players to duck, mute one, verify mute takes effect
right away on all players
:param zps: list of zone players (assumed bonded) to execute on
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_muted">
<code class="descname">verify_muted</code><span class="sig-paren">(</span><em>zps</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.verify_muted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_muted" title="Permalink to this definition">¶</a></dt>
<dd><p>verify that all given zone players are muted or fail case
:param zps: list of zone players (assumed bonded) to execute on
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`
:param msg: the msg to display in the event of a failure
:type msg: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_unmute_after_ducked">
<code class="descname">verify_unmute_after_ducked</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.verify_unmute_after_ducked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_unmute_after_ducked" title="Permalink to this definition">¶</a></dt>
<dd><p>mute the players, trigger ducking, unmute during ducking,
verify unmute does not occur until after ducking ends
:param zps: list of zone players (assumed bonded) to execute on
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_unmuted">
<code class="descname">verify_unmuted</code><span class="sig-paren">(</span><em>zps</em>, <em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.verify_unmuted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_unmuted" title="Permalink to this definition">¶</a></dt>
<dd><p>verify that all zone players are unmuted or fail case
:param zps: list of zone players (assumed bonded) to execute on
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`
:param msg: the msg to display in the event of a failure
:type msg: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_volume_levels">
<code class="descname">verify_volume_levels</code><span class="sig-paren">(</span><em>zps</em>, <em>level</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.verify_volume_levels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.verify_volume_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>verify that all zone players have the specified volume level or fail
case
:param zps: list of zone players (assumed bonded) to execute on
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`
:param level: the volume level that the players should be at
:type level: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.wait_for_volume_change">
<code class="descname">wait_for_volume_change</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.wait_for_volume_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.wait_for_volume_change" title="Permalink to this definition">¶</a></dt>
<dd><p>change the volume with the given filename and wait for the player’s
volume to adjust to the given volume * 10
:param zp: the ZP to adjust
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code>
:param level: the level to adjust to (/10)
:type level: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>
:param filename: the filename to use to adjust the zp’s volume
:type: <code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.wait_for_zone_channel_count_change">
<code class="descname">wait_for_zone_channel_count_change</code><span class="sig-paren">(</span><em>zp</em>, <em>channel_count</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.wait_for_zone_channel_count_change"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.wait_for_zone_channel_count_change" title="Permalink to this definition">¶</a></dt>
<dd><p>wait for a message from &lt;sound_device, 4&gt;
Zone channel count has been updated to &lt;channel_count&gt;
:param zp: the zone player to monitor
:type zp: :obj`sonos.client.internal.SonosZoneComponent`
:param channel_count: the channel count to watch for
:type channel_count: :obj`int`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.wait_for_zps_to_duck">
<code class="descname">wait_for_zps_to_duck</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.wait_for_zps_to_duck"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.wait_for_zps_to_duck" title="Permalink to this definition">¶</a></dt>
<dd><p>wait for all of the given zone players to report having ducked
:param zps: a list of zone players on which to validate the
ducking has occurred
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.wait_for_zps_to_unduck">
<code class="descname">wait_for_zps_to_unduck</code><span class="sig-paren">(</span><em>zps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#DuckingVolumeLevelsTest.wait_for_zps_to_unduck"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.DuckingVolumeLevelsTest.wait_for_zps_to_unduck" title="Permalink to this definition">¶</a></dt>
<dd><p>wait for all of the given zone players to report having unducked
:param zps: a list of zone players on which to validate the
unducking has occurred
:type zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of
:obj`sonos.client.internal.SonosZoneComponent`</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints">
<em class="property">class </em><code class="descclassname">voice.ducking.ducking_volume_levels.</code><code class="descname">GainVolBreakpoints</code><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#GainVolBreakpoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>class to hold gain breakpoints</p>
<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.DEFAULT_gain">
<code class="descname">DEFAULT_gain</code><em class="property"> = [-80.0, -61.0, -45.0, -4.0, 0]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.DEFAULT_gain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.DEFAULT_vol">
<code class="descname">DEFAULT_vol</code><em class="property"> = [1, 11, 23, 87, 100]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.DEFAULT_vol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.S11_gain">
<code class="descname">S11_gain</code><em class="property"> = [-67.0, -40.0, -22.0, 0]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.S11_gain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.S11_vol">
<code class="descname">S11_vol</code><em class="property"> = [1, 15, 50, 100]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.S11_vol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.S13_gain">
<code class="descname">S13_gain</code><em class="property"> = [-63.3, -40, -21.5, 0]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.S13_gain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.S13_gain_bonded_sub">
<code class="descname">S13_gain_bonded_sub</code><em class="property"> = [-67.8, -40.3, -21.5, 0]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.S13_gain_bonded_sub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.S13_vol">
<code class="descname">S13_vol</code><em class="property"> = [1, 15, 50, 100]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.S13_vol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.S14_gain">
<code class="descname">S14_gain</code><em class="property"> = [-67.0, -40.0, -22.0, 0]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.S14_gain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.S14_vol">
<code class="descname">S14_vol</code><em class="property"> = [1, 15, 50, 100]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.S14_vol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.S9_gain">
<code class="descname">S9_gain</code><em class="property"> = [-71.0, -44.0, 0]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.S9_gain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.S9_vol">
<code class="descname">S9_vol</code><em class="property"> = [1, 15, 100]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.S9_vol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.b_sub_gains">
<code class="descname">b_sub_gains</code><em class="property"> = {'S11': [-67.0, -40.0, -22.0, 0], 'S13': [-67.8, -40.3, -21.5, 0], 'S14': [-67.0, -40.0, -22.0, 0], 'S9': [-71.0, -44.0, 0]}</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.b_sub_gains" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.b_sub_vols">
<code class="descname">b_sub_vols</code><em class="property"> = {'S11': [1, 15, 50, 100], 'S13': [1, 15, 50, 100], 'S14': [1, 15, 50, 100], 'S9': [1, 15, 100]}</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.b_sub_vols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.gains">
<code class="descname">gains</code><em class="property"> = {'S11': [-67.0, -40.0, -22.0, 0], 'S13': [-63.3, -40, -21.5, 0], 'S14': [-67.0, -40.0, -22.0, 0], 'S9': [-71.0, -44.0, 0]}</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.gains" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.GainVolBreakpoints.vols">
<code class="descname">vols</code><em class="property"> = {'S11': [1, 15, 50, 100], 'S13': [1, 15, 50, 100], 'S14': [1, 15, 50, 100], 'S9': [1, 15, 100]}</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.GainVolBreakpoints.vols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter">
<em class="property">class </em><code class="descclassname">voice.ducking.ducking_volume_levels.</code><code class="descname">PlayerVolumeDbConverter</code><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#PlayerVolumeDbConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>class to handle the volume to/from db conversions</p>
<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.calculate_ducking_level">
<code class="descname">calculate_ducking_level</code><span class="sig-paren">(</span><em>volume</em>, <em>n_zps</em>, <em>primary_zp</em>, <em>bonded_sub=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#PlayerVolumeDbConverter.calculate_ducking_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.calculate_ducking_level" title="Permalink to this definition">¶</a></dt>
<dd><p>given the number of zone players and the current volume, calculate
the expected ducking level
:param volume: the current volume level
:type volume: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>
:param n_zps: the number of zone players
:type n_zps: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>
:param primary_zp: the primary zone player (either HT master,
left in stereo pair, or voice player standalone)
:type primary_zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code>
:param bonded_sub: boolean for whether or not a bonded sub is included
:type bonded_sub: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>
:return: the expected ducking level on each device
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.db_bps">
<code class="descname">db_bps</code><em class="property"> = []</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.db_bps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.db_to_vol">
<code class="descname">db_to_vol</code><span class="sig-paren">(</span><em>db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#PlayerVolumeDbConverter.db_to_vol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.db_to_vol" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the input db level to volume
:param db: db level number
:type db: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>
:return: integer volume level
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.n_player_db_reduction">
<code class="descname">n_player_db_reduction</code><em class="property"> = [0.0, 3.01, 4.77, 6.02, 6.99, 7.78, 8.45, 9.03, 9.54, 10.0]</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.n_player_db_reduction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.reset_gain_vol">
<code class="descname">reset_gain_vol</code><span class="sig-paren">(</span><em>zp</em>, <em>bonded_sub=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#PlayerVolumeDbConverter.reset_gain_vol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.reset_gain_vol" title="Permalink to this definition">¶</a></dt>
<dd><p>set the gain and volume based on the input zp
:param zp: the primary zone player (either HT master,
left in stereo pair, or voice player standalone)
:type zp: <code class="xref py py-obj docutils literal notranslate"><span class="pre">sonos.client.internal.SonosZoneComponent</span></code>
:param bonded_sub: whether or not a bonded sub is included
:type bonded_sub: <code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.vol_bps">
<code class="descname">vol_bps</code><em class="property"> = []</em><a class="headerlink" href="#voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.vol_bps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.vol_to_db">
<code class="descname">vol_to_db</code><span class="sig-paren">(</span><em>vol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/ducking_volume_levels.html#PlayerVolumeDbConverter.vol_to_db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.ducking_volume_levels.PlayerVolumeDbConverter.vol_to_db" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the input volume level to db
:param vol: volume level number
:type vol: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code>
:return: integer db level
:rtype: <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-voice.ducking.jeopardy_ducking">
<span id="voice-ducking-jeopardy-ducking-module"></span><h2>voice.ducking.jeopardy_ducking module<a class="headerlink" href="#module-voice.ducking.jeopardy_ducking" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="voice.ducking.jeopardy_ducking.JeopardyDuckingTests">
<em class="property">class </em><code class="descclassname">voice.ducking.jeopardy_ducking.</code><code class="descname">JeopardyDuckingTests</code><a class="reference internal" href="_modules/voice/ducking/jeopardy_ducking.html#JeopardyDuckingTests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.jeopardy_ducking.JeopardyDuckingTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="voice.voice_end_to_end.html#voice.voice_end_to_end.voice_end_to_end_base.VoiceEndToEndBase" title="voice.voice_end_to_end.voice_end_to_end_base.VoiceEndToEndBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">voice.voice_end_to_end.voice_end_to_end_base.VoiceEndToEndBase</span></code></a></p>
<p>Test to ensure that the following situation behaves as expected:
1. User plays music through single bootleg
2. User begins playing jeopardy on a single bootleg
3. User creates stereo pair within 30 seconds of beginning game
4. User completes game of jeopardy
5. Stereo pair together un-ducks
** previously, a difficult-to-replicate bug occurred sometimes, where
the pair would remain ducked indefinitely (until power cycle)</p>
<dl class="attribute">
<dt id="voice.ducking.jeopardy_ducking.JeopardyDuckingTests.TEST_TYPE">
<code class="descname">TEST_TYPE</code><em class="property"> = ['VOICE']</em><a class="headerlink" href="#voice.ducking.jeopardy_ducking.JeopardyDuckingTests.TEST_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="voice.ducking.jeopardy_ducking.JeopardyDuckingTests.generate_voice_pairs_with_iterations">
<code class="descname">generate_voice_pairs_with_iterations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/jeopardy_ducking.html#JeopardyDuckingTests.generate_voice_pairs_with_iterations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.jeopardy_ducking.JeopardyDuckingTests.generate_voice_pairs_with_iterations" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">returns each distinct pair of voice capable zps for the given</td>
</tr>
</tbody>
</table>
<p>number of iterations</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.jeopardy_ducking.JeopardyDuckingTests.get_datetime">
<code class="descname">get_datetime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/jeopardy_ducking.html#JeopardyDuckingTests.get_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.jeopardy_ducking.JeopardyDuckingTests.get_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>return a logfile name with the current timestamp
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.jeopardy_ducking.JeopardyDuckingTests.players_are_not_ducked">
<code class="descname">players_are_not_ducked</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>duck_base</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/jeopardy_ducking.html#JeopardyDuckingTests.players_are_not_ducked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.jeopardy_ducking.JeopardyDuckingTests.players_are_not_ducked" title="Permalink to this definition">¶</a></dt>
<dd><p>check to see if both players are NOT ducked
:param left: left zone player in stereo pair
:param right: right zone player in stereo pair
:param duck_base: DuckingBase object
:return: True/False
:rtype: <cite>boolean</cite></p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.jeopardy_ducking.JeopardyDuckingTests.setUpFixture">
<code class="descname">setUpFixture</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/jeopardy_ducking.html#JeopardyDuckingTests.setUpFixture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.jeopardy_ducking.JeopardyDuckingTests.setUpFixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup Fixture</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.jeopardy_ducking.JeopardyDuckingTests.setUpTest">
<code class="descname">setUpTest</code><span class="sig-paren">(</span><em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/jeopardy_ducking.html#JeopardyDuckingTests.setUpTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.jeopardy_ducking.JeopardyDuckingTests.setUpTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up test, including making sure voice-capable zps are un-bonded
:param left: the left voice-capable zp
:param right: the right voice-capable zp
:return:</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.jeopardy_ducking.JeopardyDuckingTests.tearDownTest">
<code class="descname">tearDownTest</code><span class="sig-paren">(</span><em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/jeopardy_ducking.html#JeopardyDuckingTests.tearDownTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.jeopardy_ducking.JeopardyDuckingTests.tearDownTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Tear down Test
:param left: the first voice-capable zone-player
:param right: the second voice-capable zone-player</p>
</dd></dl>

<dl class="method">
<dt id="voice.ducking.jeopardy_ducking.JeopardyDuckingTests.test_voice_jeopardy">
<code class="descname">test_voice_jeopardy</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/voice/ducking/jeopardy_ducking.html#JeopardyDuckingTests.test_voice_jeopardy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#voice.ducking.jeopardy_ducking.JeopardyDuckingTests.test_voice_jeopardy" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>left</strong> – left zone player</li>
<li><strong>right</strong> – right zone player</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-voice.ducking">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-voice.ducking" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">TestCase Documentation</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="audio.html">audio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">cloud package</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_reporting.html">data_reporting package</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataio.html">dataio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">examples package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hdmi.html">hdmi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="ixchariot.html">ixchariot package</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">networking package</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">other package</a></li>
<li class="toctree-l1"><a class="reference internal" href="perf.html">perf package</a></li>
<li class="toctree-l1"><a class="reference internal" href="pytest_automation.html">pytest_automation package</a></li>
<li class="toctree-l1"><a class="reference internal" href="secure_registration.html">secure_registration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="syssw.html">syssw package</a></li>
<li class="toctree-l1"><a class="reference internal" href="upnp.html">upnp package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="voice.html">voice package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="voice.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">voice.ducking package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-voice.ducking.ducking_base">voice.ducking.ducking_base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-voice.ducking.ducking_via_chsnk_testpoint">voice.ducking.ducking_via_chsnk_testpoint module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-voice.ducking.ducking_volume_levels">voice.ducking.ducking_volume_levels module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-voice.ducking.jeopardy_ducking">voice.ducking.jeopardy_ducking module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-voice.ducking">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="voice.google_assistant.html">voice.google_assistant package</a></li>
<li class="toctree-l3"><a class="reference internal" href="voice.tiara.html">voice.tiara package</a></li>
<li class="toctree-l3"><a class="reference internal" href="voice.voice_end_to_end.html">voice.voice_end_to_end package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#module-voice.mips_trending">voice.mips_trending module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#voice-run-cert-test-module">voice.run_cert_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#voice-test-amazon-fr-module">voice.test_amazon_fr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#voice-test-bootleg-nightly-module">voice.test_bootleg_nightly module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#voice-test-bootleg-wakeword-module">voice.test_bootleg_wakeword module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#voice-test-elrey-nightly-module">voice.test_elrey_nightly module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#module-voice.test_elrey_wakeword">voice.test_elrey_wakeword module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#voice-test-mips-module">voice.test_mips module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#voice-tiara-module">voice.tiara module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#module-voice.wakeword_trending">voice.wakeword_trending module</a></li>
<li class="toctree-l2"><a class="reference internal" href="voice.html#module-voice">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="webserver.html">webserver package</a></li>
<li class="toctree-l1"><a class="reference internal" href="webserver_v0.html">webserver_v0 package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="voice.html">voice package</a><ul>
      <li>Previous: <a href="voice.html" title="previous chapter">voice package</a></li>
      <li>Next: <a href="voice.google_assistant.html" title="next chapter">voice.google_assistant package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Author.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/voice.ducking.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>